{"./":{"url":"./","title":"Introduction","keywords":"","body":"lzw笔记 1study 9nuclear_english moose_analysis moose NUSOL_FI_JFNK relap5_analysis relap5 3cs 0cs 1android 1linux 1web 1windows 2cpp 2html 2javascript 2shellscript 3gitboook 3markdown 4gdb 4git 4mysql 4regex 5vim 5vscode 9me 0read 1book test "},"1study/9nuclear_english.html":{"url":"1study/9nuclear_english.html","title":"9nuclear_english","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 专业英语 NuScale （未整理） 目录 [TOC] 专业英语 英文 中文............... 备注 ACCaccumulator 安注水箱 volume for safety injection AE 控制棒组件 absorbing element AFWS 辅助给水系统 auxiliary feedwater system baffle 堆芯围板 置于吊篮内侧 barrel 堆芯吊篮 Core (support) barrel属于堆芯下部支撑结构，装载着反应堆。其他的下栅格板、热中子屏蔽、堆芯围板等都依附于其上。 bypass 旁路 bypass flow 旁流 CEDM、CRDM 控制棒驱动机构 control element/rod drive mechanism CMT 堆芯补水箱 core makeup tank cold leg 冷管段（冷腿） containment 安全壳 Core (support) barrel 堆芯吊篮 属于堆芯下部支撑结构，装载着反应堆。其他的下栅格板（下侧）、热中子屏蔽（外侧）、堆芯围板（内侧）等都依附于其上。 core support column core support plate core baffle 堆芯围板 置于吊篮内侧 CPR1000 中广核二代堆：岭澳二期、红沿河、宁德、阳江、防城港 China Pressurized Reactor，二代堆，源自法国M310（大亚湾）; 改进为三代ACPR1000，后与中核ACP1000融合为华龙一号HPR1000; criticality 临界状态 堆内中子增值系数达到1，无需外界中子源就能维持功率水平 background radiation 本底辐射 data deck 数据卡 relap5输入卡 decay heat 衰变热 downcomer 下降段 dose equivalent 剂量当量 用来衡量辐射的生物效应，单位西弗Sv（Sievert，希沃特），=吸收剂量*品质因数（衡量某种辐射引起的生物学损伤能力）。 ECCS 应急堆芯冷却系统 emergency core cooling system EPSS 应急非能动安全系统 Emergency Passive Safety System (EPSS) feedwater 给水 e.g. SG feedwater 蒸汽发生器给水，和堆芯流动类似也是先下降段再上升段 FP 满功率 full power fuel assembly/bundles 燃料组件，燃料棒 GNPS 大亚湾核电站（广东核电站） Guangdong Nuclear Power Station (GNPS) guide tubes 控制棒导向管 hot leg 热管段（热腿） HPR1000 华龙一号： 福清5、6机组，防城港3、4机组，宁德5、6机组，昌江3、4机组，漳州1、2机组 HPSI 高压安注 high pressure safety injection，高压安全注射 inner radiation hazard 内照射危害 体内放射性物质造成的危害 IPWR 一体化压水反应堆 integrated pressurized water reactor IRWST 安全壳内置换料水箱 in-containment refueling water storage tank latent heat 潜热 lattice 栅格 LNPS 岭澳核电站 Lingao Nuclear Power Station (LNPS) LOCA 失水事故 loss of coolant accident LOFA 给水丧失事故 核电站中给水系统发生故障或中断的事故。无法提供足够的冷却剂，核反应堆的温度将迅速上升，这可能导致核反应失控和燃料组件过热。 LOFT 失水试验 loss of coolant test loop seal 环路水封 环路水封清除（LSC，loop seal clearing）：在冷管段小破口时，如果一回路自然循环驱动力不足以克服过渡段U型管内的环路水封时，自然循环被中断，导致堆芯上腔室内蒸汽不断聚积，引起堆芯坍塌液位下降和燃料包壳峰值温度上升 lower core plate 堆芯下栅格板 lower head 下封头 lower plenum 下腔室 lower support plate 堆芯支撑板 吊篮组件的底板 MFWS 主给水（系统） main feed water system moderator 慢化剂 MSIV 主蒸汽隔离阀 main steam isolation valve MSLB 主蒸汽管道破裂事故 main steam large break accident nominal 名义值; 归一化值 例如：nominal core power; Nominalization NSSS 核蒸汽供应系统 nuclear steam supply system PCT 燃料包壳峰值温度 peak cladding temperature power density 功率密度 J/(m^3*s) power grid 电网 PRA 概率风险评估 PRA (probabilistic risk assessment). prompt critical 瞬发临界 反应堆仅靠瞬发中子prompt neutron（不靠缓发中子decay neutron）就能达到临界状态。此时反应堆很难控制 PWR 压水堆 pressurized water reactor PZR 稳压器 pressurizer radiator 散热器 RCS 反应堆冷却剂系统 reactor coolant system reactivity induce 反应性引入 如scram control rod bank reactivity induce，紧急停堆控制棒反应性引入 reactor coolant pump 主泵 reactor (pressure) vessel 反应堆（压力）容器 reflector 反射层 放在堆芯周围，反射中子减少损耗，使得反应堆体积可以减小 reflood 再淹没 在冷却剂丧失等事故中，一回路冷却剂流量减小，堆芯水位降低，燃料棒外壳可能暴露在空气中。通过安注系统等重新注入冷却剂，可以使重新淹没燃料棒。从而避免燃料棒过热，减少核反应堆事故的风险。 relief valve 释放阀 RPV 反应堆压力容器 reactor pressure vessel RWSTIRWST 换料水箱安全壳内置换料水箱 refueling water storage tankin-containment refueling water storage tank safety injection system 安注系统 也称应急堆芯注水系统，失水事故、主蒸汽管道破裂事故时紧急注水 safety valve 安全阀 蒸汽发生器上，弹簧加载，超压开启 SBLOCA 小破口失水事故 small break loss of coolant accident scram 反应堆紧急停堆 据说是safety control rod ax man，配备斧头的人砍断控制棒的绳索 SG 蒸汽发生器 steam generator tube 蒸汽发生器传热管 SI 安注 safety injection SMR 小型模块化反应堆 Small modular reactor spacer grid 定位格架 spent fuel 乏燃料 spiders 星形架 控制棒组件上控制棒的支撑结构 surge line 波动管 pressurizer surge line thermocouple columns 热电偶套管 thermal shield 热屏蔽 置于压力容器内壁 upper core plate 堆芯上栅格板 upper head 上封头 upper plenum 上腔室 NuScale （未整理） Acronym or Abbreviation Description AAC alternate AC power AAPS auxiliary AC power source ABS auxiliary boiler system ABVS Annex Building HVAC system ABWR Advanced Boiling Water Reactor AC alternating current ACI American Concrete Institute ACM Availability Controls Manual ACRS Advisory Committee on Reactor Safeguards AEA Atomic Energy Act AFU air filtration unit AFWS auxiliary feedwater system AHJ authority having jurisdiction AHU air handling unit AIA Authorized Inspection Agency AISC American Institute of Steel Construction AISI American Iron and Steel Institute ALARA as low as reasonably achievable ALU actuation logic unit ALWR advanced light water reactor AMCA Air Movement and Control Association International, Inc. ANB Annex Building ANS American Nuclear Society ANSI American National Standards Institute AO axial offset AOA axial offset anomaly AOO anticipated operational occurrence AOV air-operated valve API American Petroleum Institute APWR Advanced Pressurized Water Reactor AQ augmented quality ARM area radiation monitor ARO all rods out ARS acceleration response spectra ASCE American Society of Civil Engineers ASD adjustable speed drive ASHRAE American Society of Heating, Refrigerating, and Air-Conditioning Engineers ASM American Society for Metals International ASME American Society of Mechanical Engineers ASTM American Society for Testing and Materials ATB Administration and Training Building ATWS anticipated transient without scram AVT all-volatile treatment AWS American Welding Society AWWA American Water Works Association BAS boron addition system BAST boric acid storage tank BDBE beyond design basis event BDBEE beyond design basis external event Acronym or Abbreviation Description BDG backup diesel generator BOC beginning of cycle BOL beginning of life BOP balance-of-plant BPDS balance-of-plant drain system BPE bioprocessing equipment BPSS backup power supply system BPVC Boiler and Pressure Vessel Code BRL Ballistic Research Laboratory BRVS battery room ventilation system BTP Branch Technical Position BWR boiling water reactor CAM continuous air monitor CARS condenser air removal system CAS central alarm station CAS compressed air system CCBE common cause basic event CCDF conditional core damage frequency CCDP conditional core damage probability CCF common cause failure CCFL counter current flow limitation CCFP conditional containment failure probability CDE core damage event CDF core damage frequency CDI conceptual design information CDM certified design material CDST core damage source term CEA control element assembly CES containment evacuation system CET containment event tree CEUS central and eastern United States CFD computational fluid dynamics CFDS containment flooding and drain system CFR Code of Federal Regulations CFT containment flange tool CHF critical heat flux CHFR critical heat flux ratio CFWS condensate and feedwater system CHRS containment heat removal system CHWS chilled water system CILRT containment integrated leak rate test CIM civil interface macro CIP clean-in-place CIS containment isolation system CIV containment isolation valve CLRF conditional large release frequency CLRT containment leakage rate testing CMAA Crane Manufacturers Association of America CMS code management software CMTR certified material test report Acronym or Abbreviation Description CNTS containment system CNV containment vessel CNVF containment vessel failure COC certificate of compliance COL combined license COLA combined license application COLR core operating limits report COMS communication system CPRS condensate polisher resin regeneration system CPS condensate polishing system CQC complete quadratic combination CRA control rod assembly CRB Control Building CRDM control rod drive mechanism CRDS control rod drive system CRE control room envelope CRHS control room habitability system CRM control rod misoperation CRVS normal control room HVAC system CSA core support assembly CSDRS certified seismic design response spectra CSDRS-HF certified seismic design response spectra - high frequency CSS containment sampling system CST condensate storage tank CTG combustion turbine generator CUB Central Utility Building CVAP Comprehensive Vibration Assessment Program CVCS chemical and volume control system CWS circulating water system D3 diversity and defense in depth DAC design acceptance criteria DAS distributed antenna system DAS diverse actuation system DAW dry active waste DBA design basis accident DBE design basis event DBPB design basis pipe break DBST design basis source term DBT design basis tornado DC direct current DCA Design Certification Application DCD Design Control Document (Note - this is synonymous with FSAR in this document) DCH direct containment heating DCS distributed control system DDC distributed Doppler coefficient DDG dry dock gate DGB Diesel Generator Building DGBVS Diesel Generator Building HVAC system DHRS decay heat removal system DIM display interface module Acronym or Abbreviation Description DMA dimethylamine DNB departure from nucleate boiling DNBR departure from nucleate boiling ratio DOE Department of Energy DOT Department of Transportation D-RAP Design Reliability Assurance Program DSRS Design Specific Review Standard DSS digital safety system DSW dry solid waste DTC Doppler temperature coefficient, fuel temperature coefficient, Doppler coefficient DWS demineralized water system EAB exclusion area boundary EAL Emergency Action Level ECCS emergency core cooling system ECL effluent concentration limit EDL equivalent dead load EDMG extensive damage mitigation guidelines EDNS normal DC power system EDSS highly reliable DC power system EDSS-C EDSS-common EDSS-MS EDSS-module-specific EDV engineering design verification EFDS equipment and floor drainage system EFPD effective full-power days EFPY effective full-power years EHVS 13.8 kV and switchyard system EIM equipment interface module ELVS low voltage AC electrical distribution system ELWR evolutionary light water reactor EMC electromagnetic compatibility EMDAP evaluation model development and assessment process EMDM electromagnetic drive mechanism EMI electromagnetic interference EMVS medium voltage AC electrical distribution system EOC end of cycle EOF emergency operations facility EOL end of life EOP emergency operating procedure EPA electrical penetration assembly EPA Environmental Protection Agency EPG emergency procedure guidelines EPRI Electric Power Research Institute EPZ emergency planning zone EQ equipment qualification EQDP equipment qualification data package EQRF equipment qualification record file ERDA Energy Research and Development Administration ERDS emergency response data system ERF emergency response facility ERO Emergency Response Organization Acronym or Abbreviation Description ERS equipment requirement specification ESAS emergency safeguards actuation system ESBWR Economic Simplified Boiling Water Reactor ESF engineered safety feature ESFAS engineered safety features actuation system ESL equivalent static load ESP early site permit ETA ethanolamine ETAP Electrical Transient Analyzer Program FA functional analysis FAC flow-accelerated corrosion FAT factory acceptance test FATT fracture appearance transition temperatures FCI fuel-coolant interaction FCU fan coil unit FDA final design approval FDS fire detection system FEM Federation Europeenne de la Manutention FERC Federal Energy Regulatory Commission FFD fitness-for-duty FFT fast Fourier transform FHA fire hazards analysis FHE fuel handling equipment FHM fuel handling machine FIRS foundation input response spectra FIT flow-indicating transmitter FIV flow-induced vibration FLEX diverse and flexible coping strategies (based on NRC’s Fukushima task force recommendations) FLPRA flooding probabilistic risk assessment FMEA failure modes and effects analysis FOAK first-of-a-kind FOM figure of merit FPGA field programmable gate array FPP Fire Protection Program FPRA fire probabilistic risk assessment FPS fire protection system FRA functional requirements analysis FRP fiber-reinforced polymer FSAR Final Safety Analysis Report (Note - this is synonymous with DCD in this document) FSG FLEX support guidelines FSI fluid-structure interaction FSSA fire safe shutdown analysis FSSD fire safe shutdown FV Fussell-Vesely FW feedwater FWB Fire Water Building FWH feedwater heater FWIV feedwater isolation valve FWLB feedwater line break FWPB feedwater pipe break Acronym or Abbreviation Description FWRV feedwater regulating valve FWS feedwater system FWTS feedwater treatment system GAC granulated activated charcoal GDC General Design Criteria GLPS grounding and lightning protection system GMRS ground motion response spectra GQA graded quality assurance GRWS gaseous radioactive waste system GSI generic safety issue GTAW gas tungsten arc weld GTS generic technical specifications HAZ heat-affected zone HCLPF high confidence of low probability of failure HCW high-conductivity waste HDP Hardware Development Plan HDPE high-density polyethylene HED human engineering discrepancy HEI Heat Exchanger Institute HELB high-energy line break HEP human error probability HEPA high-efficiency particulate air HFE human factors engineering, human failure events HFEITS human factors engineering issue tracking system HFP hot full power HIC high integrity container HIPS highly integrated protection system HLHE heavy load handling equipment HMI human machine interface HOV hydraulic-operated valve HP high pressure, horsepower HP-FWH high pressure feedwater heater HPM human performance monitoring HPME high pressure melt ejection HPN health physics network HRA human reliability analysis HRS hardware requirement specification HSI human-system interface HVAC heating ventilation and air conditioning HVDS feedwater heater vents and drains system HWM hard-wired module HZP hot zero power I&C instrumentation and controls IAB inadvertent actuation block IAS instrument air system IBC International Building Code ICIS in-core instrumentation system ICS integrated control system ID inside diameter IDD interface design description Acronym or Abbreviation Description IE infrequent event, initiating event IEC International Electrotechnical Commission IEEE Institute of Electrical and Electronics Engineers IES Illuminating Engineering Society of North America IET integral effects test IGSCC intergranular stress-corrosion cracking IHA important human action ILRT integrated leak rate testing INL Idaho National Laboratory INPO Institute of Nuclear Power Operations IOTBS inadvertent opening of the turbine bypass system IP implementation plan IP intermediate pressure IP-FWH intermediate pressure feedwater heater ISA integrated safety analysis, Instrument Society of America ISG interim staff guidance ISI inservice inspection ISLH inservice leak and hydro ISLOCA interfacing systems loss-of-coolant accident ISM independent support motion ISO International Organization for Standardization ISRS in-structure response spectra IST inservice testing ISV integrated system validation ITAAC Inspections, Tests, Analyses, and Acceptance Criteria ITM inspection, testing, and maintenance ITP Initial Test Program IVR in-vessel retention JLD Japan Lessons-Learned Directorate LBB leak-before-break LCO limiting condition for operation LCS local control station LCW low-conductivity waste LER Licensee Event Report LHGR linear heat generation rate LLRT local leak rate test LOCA loss-of-coolant accident LOLA loss of large areas LOOP loss of offsite power LP low pressure LP-FWH low pressure feedwater heater LPSD low power and shutdown LPZ low population zone LRA lower riser assembly LRF large release frequency LRVP liquid ring vacuum pump LRW liquid radioactive waste LRWS liquid radioactive waste system, liquid radwaste system LSH level switch, high LSL level switch, low Acronym or Abbreviation Description LSSS limiting safety system setting LTC load manual tap changers LTCC long-term core cooling LTOP low temperature overpressure protection LUHS loss of normal access to the ultimate heat sink LWMS liquid waste management system LWR light water reactor MAE module assembly equipment MC main condenser MCC motor control center MCHFR minimum critical heat flux ratio MCR main control room MCS module control system MCYR module critical year MEL master equipment list MEMS meteorological and environmental monitoring system MFW main feedwater MHA maximum hypothetical accident MHS module heatup system MIB monitoring and indication bus MIC microbiologically induced corrosion MIT Massachusetts Institute of Technology MLA module lifting adapter MLD master logic diagram MM multiple, multi-module MMAF multi-module adjustment factor MMI multi-module issue MMPSF multi-module performance shaping factor MMS moment magnitude scale MOC middle of cycle MOV motor-operated valve MPS module protection system MPT main power transformer MPU magnetic speed pickup MSI main steam isolation MSIBV main steam isolation bypass valves MSIV main steam isolation valve MSLB main steam line break MSO multiple spurious operations MSPB main steam pipe break MSPI mitigating system performance index MSS main steam system MSSV main steam safety valve MTC moderator temperature coefficient MTU metric tons, uranium MWe megawatt electric MWS maintenance workstation MWt megawatt thermal N/A Not Applicable NDE non-destructive examination Acronym or Abbreviation Description NDS nitrogen distribution system NDT non-destructive testing NEI Nuclear Energy Institute NERC North American Electric Reliability Corporation NFA new fuel assembly NFE new fuel elevator NFJC new fuel jib crane NFPA National Fire Protection Association NIC network interface controller NIST National Institute of Standards and Technology NIST-1 NuScale Integral System Test Facility NMS neutron monitoring system NOG nuclear overhead and gantry NPM NuScale Power Module NPP NuScale Power Plant NPS nominal pipe size NPSH net positive suction head NRC Nuclear Regulatory Commission NRF nuclear reliability factor NSA neutron source assembly NSAC Nuclear Safety Analysis Center NSSS nuclear steam supply system NTTF Near-Term Task Force OBE operating basis earthquake OCS operational condition sampling OD outside diameter ODC overspeed detection circuit ODCM Offsite Dose Calculation Manual OE operating experience OER operating experience review OHLHS overhead heavy load handling system ORNL Oak Ridge National Laboratory ORPP Operational Radiation Protection Program OSC operational support center OSHA Occupational Safety and Health Administration OSP overspeed protection system OSU Oregon State University P&ID piping and instrumentation diagram PA protected area PA/GA public address/general alarm PACS priority actuation and control system PAM post-accident monitoring PBX private branch exchange PCA primary coolant activity PCCV prestressed concrete containment vessel PCP Process Control Program PCS 非能动安全壳冷却系统（Passive Containment Cooling System，PCS）；plant control system PCT peak cladding temperature PCUS pool cleanup system PDC power distribution center Acronym or Abbreviation Description PDC principal design criteria PDIL power dependent insertion limit PDIT differential pressure indicating transmitter PFT process feed tank PGA peak ground acceleration pHT concentration of H+ ion on a logarithmic scale (temperature dependent) PID proportional integral derivative PING particulate, iodine, and noble gas PIRT phenomena identification and ranking table PIT pressure indicating transmitter PLC programmable logic controller PLD pool leakage detection PLDD programmable logic design description PLDP Programmable Logic Development Plan PLDS pool leakage detection system PLHGR peak linear heat generation rate PLM priority logic module PLRS programmable logic requirement specification PLS plant lighting system PLVVP Programmable Logic Verification and Validation Plan PMF probable maximum flood PMP probable maximum precipitation PORV power-operated relief valve POS plant operating state POV power-operated valve PPE personnel protective equipment PPS plant protection system PRA probabilistic risk assessment PRV pressure relief valve PSCIV primary system containment isolation valves PSCS pool surge control system PSD power spectra density PSMS power supply monitoring system PSS process sampling system PST phase separator tank PSTN public switched telephone network PTAC performance and test acceptance criteria band PTS pressurized thermal shock PVC polyvinyl chloride PVMS plant-wide video monitoring system PWHT post-weld heat treatment PWR pressurized water reactor PWS potable water system PWSCC primary water stress-corrosion cracking PZR pressurizer QA quality assurance QAP Quality Assurance Program QAPD Quality Assurance Program Description QPD quadrant power difference QD quick disconnect Acronym or Abbreviation Description QPF quadrant power fractions RAI request for additional information RAP Reliability Assurance Program RAW risk achievement worth RBC Reactor Building crane RBCM Reactor Building components RBVS Reactor Building HVAC system RCA radiologically controlled area RCCA rod control cluster assembly RCCWS reactor component cooling water system RCP reactor coolant pump RCPB reactor coolant pressure boundary RCRA Resource Conservation and Recovery Act RCS reactor coolant system RDT reactor drain tank REA rod ejection accident RETS Radiological Effluent Technical Specifications RFI radio frequency interference RFP refueling pool RFT reactor flange tool RG Regulatory Guide RHR residual heat removal RHX regenerative heat exchanger RIS regulatory issue summary RLE review level earthquake RM radiation monitoring RMS fixed area radiation monitoring system RMTS risk-managed technical specifications RO reverse osmosis ROP Reactor Oversight Process RPCS reactor pool cooling system RPI rod position indication RPS reactor protection system RPV reactor pressure vessel RRS required response spectrum RRV reactor recirculation valve RSA remote shutdown area RSR results summary report RSS remote shutdown station RSV reactor safety valve RTB reactor trip breaker RTD resistance temperature detector RTM requirements traceability matrix RTNDT reference temperature for nil-ductility transition RTNSS regulatory treatment of nonsafety systems RTP rated thermal power RTPTS reference temperature, pressurized thermal shock RTS reactor trip system RVI reactor vessel internals RVV reactor vent valve Acronym or Abbreviation Description RWB Radioactive Waste Building RWBCR Radioactive Waste Building control room RWBVS Radioactive Waste Building HVAC system RWDS radioactive waste drain system RWMS radioactive waste management system RWSS raw water supply system RXB Reactor Building RXC reactor core S&Q staffing and qualifications SAFDL specified acceptable fuel design limit SAM seismic anchor motion SAMDA severe accident mitigation design alternative SAMG severe accident management guideline SAR Safety Analysis Report SAS secondary alarm station SAS service air system SAT site acceptance testing SBAC smooth bounding analysis curve SBLB subscale boundary layer boiling SBLOCA small-break loss-of-coolant accident SBM scheduling and bypass module SBO station blackout SBVS Security Building HVAC system SC-I Seismic Category I SC-II Seismic Category II SC-III Seismic Category III SCB Security Buildings SCC stress corrosion-cracking SCDF seismic core damage frequency SCR silicon controlled rectifier SCR SCRAM load SCS secondary sampling system SCWS site cooling water system SDB safety data bus SDIS safety display and indication system SDM shutdown margin SDOE secure development and operational environment SDOF single-degree-of-freedom SDP software development process SDS site drainage system SEB Security Building SECS plant security system SECY Secretary of the Commission, Office of the NRC SEI Structural Engineering Institute SEL seismic equipment list SER Safety Evaluation Report SFA spent fuel assembly SFM safety function module SFP spent fuel pool SFPCS spent fuel pool cooling system Acronym or Abbreviation Description SFSS spent fuel storage system SG separation group SG steam generator SG strain gauge SGI safeguards information SGS steam generator system SGTF steam generator tube failure SICS safety information and control system SIL software integrity level SLB steam line break SLP site layout plan SM single module SMA seismic margin assessment SMACNA Sheet Metal and Air Conditioning Contractors' National Association SME subject matter expert SMR small modular reactor SMS seismic monitoring system SNL Sandia National Laboratories SNM special nuclear material SOCA security owner controlled area SOV solenoid-operated valve SPAR standardized plant analysis risk SPND self-powered neutron detector SPS security power system SQDP seismic qualification data package SQRF seismic qualification record form SQUG Seismic Qualification Utility Group SR surveillance requirement SREC standard radiological effluent control SRI Stanford Research Institute SRM staff requirements memorandum SRP Standard Review Plan SRSS square root of the sum of the squares SRST spent resin storage tank SRV sump recirculation valve SRWS solid radioactive waste system SSA safe shutdown analysis SSC structures, systems, and components SSCIV secondary system containment isolation valve SSE safe shutdown earthquake SSI soil-structure interaction or secondary system isolation SSS secondary sampling system SSSI structure-soil-structure interaction SST station service transformer STPA System-Theoretic Process Analysis SUNSI sensitive unclassified non-safeguards information SVM schedule and voting module SWIS service water intake structure SWMS solid waste management system SWV shear wave velocity Acronym or Abbreviation Description SWYD switchyard system TA task analysis TAF top of active fuel TBC Turbine Building crane TBS turbine bypass system TBVS Turbine Building HVAC system T/C thermocouple TCU temperature control unit TDH total dynamic head TDS total dissolved solids TEDE total effective dose equivalent TGB Turbine Generator Building TGS turbine generator system TGSS turbine gland sealing system THD total harmonic distortion TIHA treatment of important human actions TIT temperature indicating transmitter TLD thermoluminescent dosimeter TLOSS turbine lube oil storage system TMI Three Mile Island TMR triple module redundancy TNDT nil ductility temperature TOC top of concrete TRS test response spectrum TS technical specifications TSC technical support center TSTF Technical Specification Task Force TUF tubular ultrafiltration UAT unit auxiliary transformer UCRW uncontrolled control rod assembly withdrawal at power UCRWS uncontrolled control rod assembly withdrawal from a subcritical or low power or startup condition UDC uniform Doppler coefficient UHS ultimate heat sink UPS uninterruptible power supply URD Utility Requirements Document URS uniform response spectrum URS upper riser assembly/section USGS United States Geological Survey USI unresolved safety issue USM uniform support motion UTC coordinated universal time UWS utility water system V&V verification and validation VDU video display unit VIT vibration indicating transmitter VLA vented lead-acid VRLA valve-regulated lead-acid VRT voltage regulating transformer WDT watchdog timer WMCR waste management control room Acronym or Abbreviation Description WSW wet solid waste WTB Waste Treatment Building ZOI Zone of Influence ZPA zero period acceleration "},"1study/moose_analysis.html":{"url":"1study/moose_analysis.html","title":"moose_analysis","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 概述 编译Makefile 概述 定义环境变量 编译MOOSE框架和模块 编译程序本体 运行，main() 概述 包含头文件 创建性能日志 初始化app 注册App 注册App本体 注册Objects 关联语法 创建app实例 运行app，MooseApp::run() 选项配置及读入输入文件 执行输入文件 运行求解器，MooseApp::executeExecutioner() 执行构造函数？ FEProblemBase类 Executioner构造函数本身 初始化 求解，Steady::execute()，Transient::execute() 详解稳态求解过程Steady::execute() 概述 更新状态advanceState Adaptivity系统动态网格判断 时间步设置timestepSetup 定点迭代真正求解，FixedPointSolve::solve() 概述 定点迭代循环 FixedPointSolve::solveStep() --> FEProblemSolve::solve() FEProblemBase::solve() NonlinearSystem::solve() 详解瞬态求解过程Transient::execute() 初始化 init() 运行execute() 概述 从kernel的computeQpResidual函数开始 其他 kernel调用物性 auxkernel调用物性，densityaux 目录 [TOC] 概述 本文以MOOSE的第一个例子为研究对象，分析整个编译运行过程。其文件夹路径在 moose/examples/ex01_inputfile。 本文以亓欣波博士2017的两篇博客为基础拓展而来，在此表示感谢。 多物理场面向对象模拟环境MOOSE运行过程分析 MOOSE运行过程再分析 编译Makefile 整个编译过程都写在了Makefile文件中，修改以打开需要的模块。 概述 编译一个moose程序只需执行make -j8或者make -j8 METHOD=dbg，分别生成ex01-opt和ex01-dbg文件，后者可以调试，执行后输出如下： Rebuilding symlinks in /home/lee/projects/moose/examples/ex01_inputfile/build/header_symlinks Compiling C++ (in dbg mode) /home/lee/projects/moose/examples/ex01_inputfile/src/base/ExampleApp.C... Compiling C++ (in dbg mode) /home/lee/projects/moose/examples/ex01_inputfile/src/main.C... Linking Library /home/lee/projects/moose/examples/ex01_inputfile/test/lib/libex01_test-dbg.la... Linking Library /home/lee/projects/moose/examples/ex01_inputfile/lib/libex01-dbg.la... Linking Executable /home/lee/projects/moose/examples/ex01_inputfile/ex01-dbg... 从中可以看出大概流程： 创建build/header_symlinks链接文件夹，包含程序自身include和test/include 文件夹内的所有头文件，如ExampleApp.h，ExampleTestApp.h，xxxkernel.h。 创建build/unity_src文件夹，把每个src文件夹下的子文件夹分别合并成一个文件（#include\"/xxx/xxx/xxx.C\"），如kernels_Unity.C包含所有kernel文件。 编译程序文件src/base/ExampleApp.C，用于注册程序、object、action等。 编译真正的主程序src/main.C，包含初始化、注册所有相关app、运行程序等。 链接库文件lib/libex01-dbg.la和test/lib/libex01_test-dbg.la，包含framework和module的文件 链接生成可执行程序ex01-dbg。 定义环境变量 EXAMPLE_DIR ?= $(shell dirname `pwd`) MOOSE_DIR ?= $(shell dirname $(EXAMPLE_DIR)) FRAMEWORK_DIR ?= $(MOOSE_DIR)/framework 利用?=操作符来赋值，通过调用shell的dirname命令来提取指定路径的目录。 对于fork出来的独立程序，路径一般与moose并列。如果是放在别的地方，就需要人为修改环境变量。 编译MOOSE框架和模块 include $(FRAMEWORK_DIR)/build.mk include $(FRAMEWORK_DIR)/moose.mk include $(MOOSE_DIR)/modules/modules.mk 使用include包含基本框架framework和衍生模块modules各自的makefile文件（包含模块之间的依赖关系，自动开启相应的依赖模块。） 编译程序本体 # dep apps APPLICATION_DIR := $(shell pwd) APPLICATION_NAME := ex01 BUILD_EXEC := yes GEN_REVISION := no include $(FRAMEWORK_DIR)/app.mk include ../test.mk 这里使用framework下的app.mk这个makefile来编译本程序，涉及的路径、名字等参数会传入该文件中。 运行，main() /home/lee/projects/moose/examples/ex01_inputfile/src/main.C:28 概述 所有程序的入口都是main函数，所以从这里入手能比较清晰地把握整个程序的脉络。main函数位于src/main.C文件中。 main(int argc, char * argv[])是C++ 的习惯写法，arg即argument参数，c即 counter计数 和v即value值。因此argc整数是统计运行主程序时给的参数个数，argv[]数组存放着每个参数。如运行./ex01-dbg -i ex01.i，则argc = 3，argv = [\"./ex01-dbg\", \"-i\", \"ex01.i\"]。3个参数分别是执行的程序的名字，程序的选项，选项的参数。 程序主要分4步——初始化、注册、创建和运行。 包含头文件 // 声明具体问题类。 #include \"ExampleApp.h\" // 该头文件包含了libMesh的libmesh头文件，从LibMeshInit中Public派生出MooseInit类。 #include \"MooseInit.h\" // 用于创建和存储各种对象。 #include \"MooseApp.h\" // 声明AppFactory类，用于创建各种对象。 #include \"AppFactory.h\" 包含程序本体的头文件，和MOOSE最基本的头文件。 其中，AppFactory类包含了一个宏定义：#define registerApp(name) AppFactory::instance().reg(#name)，用于在ExampleApp中注册app对象。 程序私有的kernel、material等被包含在创建的unity_src文件中，以目标文件的形式被链接到最终的程序。所需的framework文件和module文件包含在lib/libex01-dbg.la链接文件中。 创建性能日志 MOOSE性能日志PerfGraph // PerfLog是libMesh的一个类，用来创建性能日志。 PerfLog Moose::perf_log(\"Example\"); 创建性能日志通过TIME_SECTION宏定义来实现，也经常会在程序中被看到，TIME_SECTION(section_name, level, live_message=\"\", print_dots=true)。Section Timing是一种用于创建性能日志的技术，它可以帮助开发者快速地定位应用程序中的瓶颈和性能问题。Section Timing通过在应用程序中添加计时器并记录各个部分（或“节”）的执行时间来实现这一目标。每个“节”表示应用程序执行过程中的一个特定功能或任务，例如数据库查询、网络请求或UI渲染。通过记录每个“节”的执行时间，开发者可以确定哪些“节”需要优化以提高应用程序的性能。 初始化app /home/lee/projects/moose/framework/src/base/MooseInit.C:25 MooseInit init(argc, argv); ，初始化MPI, solvers和 MOOSE。调用MooseInit类来进行初始化，实际上也调用了其父类LibMeshInit，从而对libMesh进行初始化。 注册App /home/lee/projects/moose/examples/ex01_inputfile/src/main.C ExampleApp::registerApps(); ，注册这个程序的MooseApp和它依赖的东西。 每个基于MOOSE的程序都是继承自MooseApp这个类，该类提供创建各种对象的工厂factories以及存放它们的仓库warehouses。创建了私有程序后，必须实现几个重要的静态函数：registerApps(),registerObjects(), associateSyntax() 注册App本体 /home/lee/projects/moose/examples/ex01_inputfile/src/base/ExampleApp.C:41 registerApp(ExampleApp);其中registerApp不是一个函数或类，所以在doxygen中查不到，它是AppFactory中的一个宏定义： #define registerApp(name) AppFactory::instance().reg(#name)，位于framework/include/base/AppFactory.h 注册Objects 第二个是注册Objects，就是kernel、material、Executioners、UserObjects等等。本例没有用到自定义的Objects，所以该函数是空白的。但如果自定义了某个object，比如在example2中新增了一个Kernel，那么就需要注册该object： void ExampleApp::registerObjects(Factory & factory) { registerKernel(ExampleConvection); // 其他类型的object也类似，比如：registerAux(), registerBoundaryCondition(), registerMaterial(), registerInitialCondition()等等。 关联语法 associateSyntax() 包括associateSyntaxInner(syntax, action_factory); 和 registerActions(syntax, action_factory);，注册各种Action及其语法。Action System 完成创建Objects等任务，syntax就是解析输入文件后生成对应action的规则。 创建app实例 std::shared_ptr app = AppFactory::createAppShared(\"ExampleApp\", argc, argv); 创建一个程序实例，存储在便于清理的智能指针中。 运行app，MooseApp::run() /home/lee/projects/moose/framework/src/base/MooseApp.C app->run();, 这个run函数继承了MooseApp::run()，是程序运行的总调度，其除了撰写性能日志，主要执行的动作有三个：setupOptions();, runInputFile();, executeExecutioner();，即读取输入并配置、运行输入文件，求解。 选项配置及读入输入文件 setupOptions函数主要功能：1.getParam函数读取并执行程序时在命令行中输入的选项参数，如输入文件名。2.读取输入文件中的各个对象的信息。 getParam函数读取输入命令，如取得输入文件名，_input_filename = \"ex01.i\"。 （通过调用InputParameters类的getParamHelper函数 ——> libMesh的parameters类的get函数。） 如打印命令行中的选项参数。如运行./ex01-dbg -h，会读取-h选项参数执行_command_line->printUsage();，会输出所有选项参数及其用法 Usage: ./ex01-dbg [] Options: -h --help Displays CLI usage statement. -i Specify one or multiple input files. Multiple files get merged into a single simulation input. // ...more... 使用_parser.parse(_input_filename);解析输入文件。调用Parser::parse函数，通过find(sec)函数遍历每一个块section，执行walkRaw(n->parent()->fullpath(), n->path(), n);解析所有内容。 解析过程中，会根据语法将各个块的信息读入，比如： section_names = {\"Mesh/\", \"Variables/\", \"Variables/diffused/\", \"Kernels/\", \"Kernels/diff/\",\"Executioner/\"} 然后对所有的块进行遍历，查找每一个块下对应的属性，比如对于Mesh块，其包含的属性有： block_id block_name boundary_id boundary_name 等等。 通过_action_warehouse.build(); 来构建一系列动作action，这些动作(通过build函数里的getSortedTask来获得)包括：\"setup_time_stepper\", \"add_variable\", \"add_ic\", \"add_output\", \"add_kernel\" 等等。 执行输入文件 读入输入文件后，runInputFile()来执行里面的动作，即上一步build得到的动作列表（如读取网格文件），遍历函数：executeActionsWithAction(task);。并且检查输入文件中是否有未辨别出的变量。输入文件中的所有变量通过以下函数获得：all_vars = _parser.getPotHandle()->get_variable_names(); 得到的结果是：all_vars = {\"Mesh/type\", \"Mesh/file\", \"Variables/diffused/order\", \"Variables/diffused/family\", \"Kernels/diff/type\", \"Kernels/diff/variable\"...and more...} 运行求解器，MooseApp::executeExecutioner() 主要包括初始化_executioner->init();和求解_executioner->execute();。调用MooseApp::executeExecutioner()函数。它们都是纯虚函数，需要根据具体的问题来求解。稳态问题调用Steady::init()和Steady::execute()，瞬态问题调用Transient::init()和Transient::execute()。 (executor似乎可以取代executioner system，输入文件写法可以不一样，但也兼容原来的executioner。) 执行构造函数？ 其实在执行该初始化函数之前，还隐性地执行了Executioner类的构造函数，显然在此之前先执行该构造函数的成员初始化器列表。其中：2.FEProblemBase类包含整个有限元问题的数学信息。3.Executioner构造函数本身获得求解器的信息。 Executioner::Executioner(const InputParameters & parameters) : MooseObject(parameters), UserObjectInterface(this), PostprocessorInterface(this), Restartable(parameters, \"Executioners\"), _fe_problem(*parameters.getCheckedPointerParam(\"_fe_problem_base\", \"This might happen if you don't have a mesh\")), _initial_residual_norm(std::numeric_limits::max()), _old_initial_residual_norm(std::numeric_limits::max()), _restart_file_base(getParam(\"restart_file_base\")), _splitting(getParam >(\"splitting\")) {} FEProblemBase类 FEProblemBase类会构建整个有限元问题的系统，比如将问题中的变量读入到libMesh中，设定所使用的单元类型、插值次数等：FEProblemBase::hasVariable (this=0x1028cc0, var_name=\"diffused\") Executioner构造函数本身 Executioner本身的构造函数中主要就是获得求解器的信息，比如线性迭代和非线性迭代的精度、迭代步数等： // solver params EquationSystems & es = _fe_problem.es(); es.parameters.set (\"linear solver tolerance\") = getParam(\"l_tol\"); es.parameters.set (\"linear solver absolute step tolerance\") = getParam(\"l_abs_step_tol\"); es.parameters.set (\"nonlinear solver maximum iterations\") = getParam(\"nl_max_its\"); // ...more... 初始化 /home/lee/projects/moose/framework/src/executioners/Steady.C /home/lee/projects/moose/framework/src/executioners/Transient.C 稳态初始化如下，瞬态较复杂。主要是初始化（待扩充？）和打印Framework、Mesh、Nonlinear等信息。 void Steady::init() { checkIntegrity(); // 检查没有瞬态kernel _problem.execute(EXEC_PRE_MULTIAPP_SETUP); // 输出Framework、Mesh等信息 _problem.initialSetup(); } 输出，调用Console的outputSystemInformation函数，输出求解问题的各种信息。还有FEProblemBase::initialSetup函数。_app.getOutputWarehouse().mooseConsole();函数把构造函数和对象初始化中的所有输出flush到终端。 这样就会产生如下的信息： Framework Information: MOOSE Version: git commit c39379d4fe on 2023-04-10 LibMesh Version: 3f05f40f4a45060c1fd07281f8869a4667086291 PETSc Version: 3.16.6 SLEPc Version: 3.16.2 Current Time: Tue Apr 18 11:30:24 2023 Executable Timestamp: Mon Apr 17 19:24:02 2023 Parallelism: Num Processors: 1 Num Threads: 1 Mesh: Parallel Type: replicated Mesh Dimension: 3 Spatial Dimension: 3 Nodes: 3774 Elems: 2476 Num Subdomains: 1 Nonlinear System: Num DOFs: 3774 Num Local DOFs: 3774 Variables: \"diffused\" Finite Element Types: \"LAGRANGE\" Approximation Orders: \"FIRST\" Execution Information: Executioner: Steady Solver Mode: Preconditioned JFNK 求解，Steady::execute()，Transient::execute() 稳态的execute函数包含以下几个重要函数。 preExecute(); // 在真正计算之前要做一些提前计算，对于Steady问题没有要做的 _problem.advanceState(); // 获得上一时间步的状态，从而为进入下一时间步做好准备 preSolve(); // 在Solve之前要做的事，对于Steady问题没有要做的 _nl->solve(); // 开始求解! Steady Transient 详解稳态求解过程Steady::execute() 概述 /home/lee/projects/moose/framework/src/executioners/Steady.C 主要函数有预处理、更新状态、设置时间步、有限元求解、多程序耦合、后处理。 preExecute(); // 预处理。对于Steady问题或者这个简单例子，无事可做 _problem.advanceState(); // 更新状态。获得上一时间步的状态，从而为进入下一时间步做好准备 _problem.timestepSetup(); // 设置时间步？还是不知道啥意思？ _last_solve_converged = _fixed_point_solve->solve(); // 有限元求解!FixedPointSolve::solve() _problem.execMultiApps(EXEC_FINAL); // 多程序耦合的一系列函数 postExecute(); // 后处理。对于Steady问题或者这个简单例子，无事可做 更新状态advanceState /home/lee/projects/moose/framework/src/problems/FEProblemBase.C FEProblemBase::advanceState函数 nl->copyOldSolutions();遍历_nl复制非线性系统的旧值，_nl是一个存放所有非线性系统的verctor。实则调用SystemBase::copyOldSolutions函数，将NonlinearSystemBase.h文件中的solutionUDot函数、solutionUDotDot函数、currentSolution函数返回的_u_dot、_u_dotdot、Moose::PREVIOUS_NL_SOLUTION_TAG变量设置为旧值。(@param udotdot transient term) _aux->copyOldSolutions();同理，及时向后Shift转移求解结果。 对_displaced_problem问题也进行特殊的上述修改。 _reporter_data.copyValuesBack();调用ReporterData::copyValuesBack()函数，这个类帮助管理存储的已声明的Reporter object values。This design of the system is a generalization of the VectorPostprocessor system that the Reporter objects replaced. 材料属性也要更新，_material_props.shift();， _bnd_material_props.shift();， _neighbor_material_props.shift(); Adaptivity系统动态网格判断 遍历通过_problem.adaptivity().getSteps()获得的需要开始动态网格优化的步数steps。可参考Adaptivity系统。 gdb 调试可以使用类似p _problem.adaptivity()和p _problem的命令输出很多东西。例如，adaptivity函数可以返回该系统的所有参数。 （Steady.C文件中可以看到有很多#ifdef LIBMESH_ENABLE_AMR和#endif，其中的代码都是会运行到的。因为moose默认开启了libmesh 库的动态网格优化功能adaptive mesh refinement (AMR)。） 时间步设置timestepSetup 通过调用FEProblemBase::timestepSetup()函数，时间步设置处理包括很多内容：瞬态、位移网格、线性搜索、材料、函数、aux辅助系统、用户对象、输出对象、耦合等，都调用函数形如SubProblem::timestepSetup()。( SubProblem是求解瞬态非线性问题的通用类。) 定点迭代真正求解，FixedPointSolve::solve() /home/lee/projects/moose/framework/src/executioners/FixedPointSolve.C 概述 真正的求解，即定点迭代法（不动点迭代法、固定点迭代法）。调用 FixedPointSolve::solve() 函数的流程如下： 重置残差历史值。 备份多程序以便求解失败后恢复。 作为主程序和子程序做好松弛变量前的准备。 真正的求解，定点迭代循环，输出残差。(_has_fixed_point_its一直是false) 保存求解和时间步结束后的后处理器的值，以免在时间步开始时被覆盖。postprocessors系统 如果收敛，使用定点迭代法传输变量来更新子程序。 打印fixed point convergence收敛原因。（跳过了，我们理解的迭代及输出搜在第四步定点迭代循环中的solveStep函数里） 返回converged布尔值给Steady.C 的_last_solve_converged。 可以输出残差计算、是否收敛等内容。 0 Nonlinear |R| = 6.105359e+00 0 Linear |R| = 6.105359e+00 ...more 2 Nonlinear |R| = 3.802911e-10 Solve Converged! Finished Solving [ 16.32 s] [ 37 MB] 定点迭代循环 for (_fixed_point_it = 0; _fixed_point_it 保存上次的后处理值作为求解前的值。 solveStep函数，每个时间步求解一个程序。 autoAdvance函数 _executioner.preSolve函数 * 计算并打印user-specified postprocessor assessing convergence 更新时间步_problem.dt() = current_dt; FixedPointSolve::solveStep() --> FEProblemSolve::solve() bool FixedPointSolve::solveStep(Real & begin_norm, Real & end_norm, const std::set & transformed_dofs) { bool auto_advance = autoAdvance(); // 是否自动步进。`autoAdvance`函数根据是否瞬态和是否有定点迭代。 // 此例皆为否，因此结果为是。!(_has_fixed_point_its && _problem.isTransient()); Real begin_norm_old = (...code...); // 计算之前的范数来给输出的范数着色。还有end_norm_old。 _executioner.preSolve(); // _problem.execTransfers(EXEC_TIMESTEP_BEGIN); // _problem.updateMeshXFEM(); // _problem.execute(EXEC_TIMESTEP_BEGIN); // transformPostprocessors(true); // 传递定点后处理值ixed point postprocessors，要在(求解前 && 时间步初始的传输被接受后) begin_norm = _problem.computeResidualL2Norm(); // 计算L2范数，着色 _problem.outputStep(EXEC_TIMESTEP_BEGIN); _problem.updateActiveObjects(); // 更新仓库已经激活的对象objects saveAllValues(true); // 在求解前保存当前变量和后处理器的值 if (!_inner_solve->solve()){...code...} // 是调用FEProblemSolve::`solve`函数。 // 1._problem.`solve`函数是真正真正真正的求解,调用FEProblemBase::`solve`函数。 // 2.打印是否收敛和跳过求解，返回是否收敛。 } FEProblemBase::solve() /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5350 void FEProblemBase::solve(const unsigned int nl_sys_num) { setCurrentNonlinearSystem(nl_sys_num); // 获取并设置当前的非线性系统，_current_nl_sys = _nl[nl_sys_num].get(); clearAllDofIndices(); // 清理过时的Dof索引，网格自适应会引起这个问题。 Moose::PetscSupport::petscSetOptions(*this); // 设置PETSc选项 Moose::setSolverDefaults(*this); initPetscOutput(); // 设置输出系统打印迭代信息 possiblyRebuildGeomSearchPatches(); _current_nl_sys->solve(); // NonlinearSystem::solve函数，位置/home/lee/projects/moose/framework/src/systems/NonlinearSystem.C _current_nl_sys->update(); // sync solutions in displaced problem if (_displaced_problem) _displaced_problem->syncSolutions(); #if !PETSC_RELEASE_LESS_THAN(3, 12, 0) if (!_app.isUltimateMaster()) PetscOptionsPop(); #endif } NonlinearSystem::solve() FEProblemBase::computeResidualSys() FEProblemBase::computeResidual() /home/lee/projects/moose/framework/src/systems/NonlinearSystem.C:131 void NonlinearSystem::solve() { _nl_implicit_sys.nonlinear_solver->postcheck = Moose::compute_postcheck; // 连接postcheck函数与求解器（如果有damper或者需要更新解时） if (_fe_problem.solverParams()._type != Moose::ST_LINEAR) // 确定不是线性问题后，计算初始残差用于判断收敛 { _fe_problem.computeResidualSys(_nl_implicit_sys, *_current_solution, *_nl_implicit_sys.rhs); // FEProblemBase::computeResidualSys函数 --> FEProblemBase::computeResidual函数 --> FEProblemBase::computeResidualInternal函数 --> NonlinearSystemBase::setSolution函数 --> _current_solution = &soln; _nl_implicit_sys.rhs->close(); _initial_residual_before_preset_bcs = _nl_implicit_sys.rhs->l2_norm(); if (_compute_initial_residual_before_preset_bcs) _console & solver = static_cast &>(*_nl_implicit_sys.nonlinear_solver); if (_time_integrator) { } // (时间积分方法求解](https://mooseframework.inl.gov/syntax/Executioner/TimeIntegrator/) else { system().solve(); // 1.设置——NonlinearImplicitSystem::solve() --> NonlinearImplicitSystem::set_solver_parameters()，设置最大迭代步数、残差容差tolerance等 // 2.初始化——NonlinearImplicitSystem::solve() --> PetscNonlinearSolver::init // 3.求解——NonlinearImplicitSystem::solve() --> nonlinear_solver->solve() --> PetscNonlinearSolver::solve()——传参预处理矩阵、解的vector、残差vector、Krylov子空间 _n_iters = _nl_implicit_sys.n_nonlinear_iterations(); _n_linear_iters = solver.get_total_linear_iterations(); } // store info about the solve _final_residual = _nl_implicit_sys.final_nonlinear_residual(); if (_use_coloring_finite_difference) MatFDColoringDestroy(&_fdcoloring); } 详解瞬态求解过程Transient::execute() Transient 初始化 init() void Transient::init() { if (!_time_stepper.get()) { InputParameters pars = _app.getFactory().getValidParams(\"ConstantDT\"); pars.set(\"_subproblem\") = &_problem; pars.set(\"_executioner\") = this; // calculate \"dt\" properly. if (!_pars.isParamSetByAddParam(\"end_time\") && !_pars.isParamSetByAddParam(\"num_steps\") && _pars.isParamSetByAddParam(\"dt\")) pars.set(\"dt\") = (getParam(\"end_time\") - getParam(\"start_time\")) / static_cast(getParam(\"num_steps\")); else pars.set(\"dt\") = getParam(\"dt\"); pars.set(\"reset_dt\") = getParam(\"reset_dt\"); _time_stepper = _app.getFactory().create(\"ConstantDT\", \"TimeStepper\", pars); } _problem.execute(EXEC_PRE_MULTIAPP_SETUP); _problem.initialSetup(); // for restart run to override the start time, if (_app.isRestarting()) { if (_app.hasStartTime()) _time = _time_old = _app.getStartTime(); else _time_old = _time; } _time_stepper->init(); if (_app.isRecovering()) // Recover case { if (_t_step == 0) mooseError(\"Internal error in Transient executioner: _t_step is equal to 0 while recovering \" \"in init().\"); _dt_old = _dt; } } 运行execute() 概述 preExecute函数 keepGoing函数作为继续时间循环迭代的判断条件 时间循环 incrementStepOrReject函数求解步是否更新 preStep函数，preStep函数 computeDT函数，计算时间步长 takeStep函数，一堆函数，计算dt及当前时间，preSolve函数，step函数，post函数 endStep函数，计算误差Indicators 和 Markers，输出当前时间步的输出 postStep函数，postStep函数 void Transient::execute() { preExecute(); // Start time loop... while (keepGoing()) { incrementStepOrReject(); preStep(); computeDT(); takeStep(); endStep(); postStep(); } if (lastSolveConverged()) { _t_step++; if (!_fixed_point_solve->autoAdvance()) { _problem.finishMultiAppStep(EXEC_TIMESTEP_BEGIN, /*recurse_through_multiapp_levels=*/true); _problem.finishMultiAppStep(EXEC_TIMESTEP_END, /*recurse_through_multiapp_levels=*/true); } } if (!_app.halfTransient()){...} // This method is to finalize anything else we want to do on the problem side. _problem.postExecute(); // This method can be overridden for user defined activities in the Executioner. postExecute(); } # 从kernel的computeQpResidual函数开始 main(int argc, char * argv[]) // Begin the main program. int main(int argc, char * argv[]) { // Initialize MPI, solvers and MOOSE MooseInit init(argc, argv); // Register this application's MooseApp and any it depends on ExampleApp::registerApps(); // Create an instance of the application and store it in a smart pointer for easy cleanup std::shared_ptr app = AppFactory::createAppShared(\"ExampleApp\", argc, argv); // Execute the application app->run(); return 0; } MooseApp::run() void MooseApp::run() { TIME_SECTION(\"run\", 3); if (isParamValid(\"show_docs\") && getParam(\"show_docs\")) { auto binname = appBinaryName(); if (binname == \"\") mooseError(\"could not locate installed tests to run (unresolved binary/app name)\"); auto docspath = MooseUtils::docsDir(binname); if (docspath == \"\") mooseError(\"no installed documentation found\"); auto docmsgfile = MooseUtils::pathjoin(docspath, \"docmsg.txt\"); std::string docmsg = \"file://\" + MooseUtils::realpath(docspath) + \"/index.html\"; if (MooseUtils::pathExists(docmsgfile) && MooseUtils::checkFileReadable(docmsgfile)) { std::ifstream ifs(docmsgfile); std::string content((std::istreambuf_iterator(ifs)), (std::istreambuf_iterator())); content.replace(content.find(\"$LOCAL_SITE_HOME\"), content.length(), docmsg); docmsg = content; } Moose::out MooseApp::executeExecutioner() void MooseApp::executeExecutioner() { TIME_SECTION(\"executeExecutioner\", 3); // If ready to exit has been set, then just return if (_ready_to_exit) return; // run the simulation if (_use_executor && _executor) { Moose::PetscSupport::petscSetupOutput(_command_line.get()); _executor->init(); errorCheck(); auto result = _executor->exec(); if (!result.convergedAll()) mooseError(result.str()); } else if (_executioner) { Moose::PetscSupport::petscSetupOutput(_command_line.get()); _executioner->init(); errorCheck(); _executioner->execute(); } else mooseError(\"No executioner was specified (go fix your input file)\"); } Steady::execute() void Steady::execute() { if (_app.isRecovering()) { _console solve(); // FixedPointSolve::solve() if (!lastSolveConverged()) { _console FixedPointSolve::solve() bool FixedPointSolve::solve() { TIME_SECTION(\"PicardSolve\", 1); Real current_dt = _problem.dt(); _fixed_point_timestep_begin_norm.clear(); _fixed_point_timestep_end_norm.clear(); _fixed_point_timestep_begin_norm.resize(_max_fixed_point_its); _fixed_point_timestep_end_norm.resize(_max_fixed_point_its); bool converged = true; // need to back up multi-apps even when not doing fixed point iteration for recovering from failed // multiapp solve _problem.backupMultiApps(EXEC_TIMESTEP_BEGIN); _problem.backupMultiApps(EXEC_TIMESTEP_END); // Prepare to relax variables as a main app std::set transformed_dofs; if ((_relax_factor != 1.0 || !dynamic_cast(this)) && _transformed_vars.size() > 0) { // Snag all of the local dof indices for all of these variables AllLocalDofIndicesThread aldit(_problem, _transformed_vars); ConstElemRange & elem_range = *_problem.mesh().getActiveLocalElementRange(); Threads::parallel_reduce(elem_range, aldit); transformed_dofs = aldit.getDofIndices(); } // Prepare to relax variables as a subapp std::set secondary_transformed_dofs; if (_secondary_relaxation_factor != 1.0 || !dynamic_cast(this)) { if (_secondary_transformed_variables.size() > 0) { // Snag all of the local dof indices for all of these variables AllLocalDofIndicesThread aldit(_problem, _secondary_transformed_variables); ConstElemRange & elem_range = *_problem.mesh().getActiveLocalElementRange(); Threads::parallel_reduce(elem_range, aldit); secondary_transformed_dofs = aldit.getDofIndices(); } // To detect a new time step if (_old_entering_time == _problem.time()) { // Keep track of the iteration number of the main app _main_fixed_point_it++; // Save variable values before the solve. Solving will provide new values saveVariableValues(false); } else _main_fixed_point_it = 0; } for (_fixed_point_it = 0; _fixed_point_it ::max()) _console 0 && !getParam(\"direct_pp_value\")) _pp_old = *_fixed_point_custom_pp; // Solve a single application for one time step bool solve_converged = solveStep(_fixed_point_timestep_begin_norm[_fixed_point_it], _fixed_point_timestep_end_norm[_fixed_point_it], transformed_dofs); // FixedPointSolve::solveStep() // Get new value and print history for the custom postprocessor convergence criterion if (_fixed_point_custom_pp) computeCustomConvergencePostprocessor(); if (solve_converged) { if (_has_fixed_point_its) { if (_has_fixed_point_norm) // Print the evolution of the main app residual over the fixed point iterations printFixedPointConvergenceHistory(); // Examine convergence metrics & properties and set the convergence reason bool break_out = examineFixedPointConvergence(converged); if (break_out) break; } } else { // If the last solve didn't converge then we need to exit this step completely (even in the // case of coupling). So we can retry... converged = false; break; } _problem.dt() = current_dt; // _dt might be smaller than this at this point for multistep methods } // Save postprocessors after the solve and their potential timestep_end execution // The postprocessors could be overwritten at timestep_begin, which is why they are saved // after the solve. They could also be saved right after the transfers. if (_old_entering_time == _problem.time()) savePostprocessorValues(false); if (converged) { // Update the subapp using the fixed point algorithm if (_secondary_transformed_variables.size() > 0 && useFixedPointAlgorithmUpdateInsteadOfPicard(false) && _old_entering_time == _problem.time()) transformVariables(secondary_transformed_dofs, false); // Update the entering time, used to detect failed solves _old_entering_time = _problem.time(); } if (_has_fixed_point_its) printFixedPointConvergenceReason(); // clear history to avoid displaying it again on next solve that can happen for example during // transient _pp_history.str(\"\"); return converged; } FixedPointSolve::solveStep() bool FixedPointSolve::solveStep(Real & begin_norm, Real & end_norm, const std::set & transformed_dofs) { bool auto_advance = autoAdvance(); // Compute previous norms for coloring the norm output Real begin_norm_old = (_fixed_point_it > 0 ? _fixed_point_timestep_begin_norm[_fixed_point_it - 1] : std::numeric_limits::max()); Real end_norm_old = (_fixed_point_it > 0 ? _fixed_point_timestep_end_norm[_fixed_point_it - 1] : std::numeric_limits::max()); _executioner.preSolve(); _problem.execTransfers(EXEC_TIMESTEP_BEGIN); if (!_problem.execMultiApps(EXEC_TIMESTEP_BEGIN, auto_advance)) { _fixed_point_status = MooseFixedPointConvergenceReason::DIVERGED_FAILED_MULTIAPP; return false; } if (_problem.haveXFEM() && _update_xfem_at_timestep_begin) _problem.updateMeshXFEM(); _problem.execute(EXEC_TIMESTEP_BEGIN); // Transform the fixed point postprocessors before solving, but after the timestep_begin transfers // have been received if (_transformed_pps.size() > 0 && useFixedPointAlgorithmUpdateInsteadOfPicard(true)) transformPostprocessors(true); if (_secondary_transformed_pps.size() > 0 && useFixedPointAlgorithmUpdateInsteadOfPicard(false) && _problem.time() == _old_entering_time) transformPostprocessors(false); if (_has_fixed_point_its && _has_fixed_point_norm) if (_problem.hasMultiApps(EXEC_TIMESTEP_BEGIN) || _fixed_point_force_norms) { begin_norm = _problem.computeResidualL2Norm(); _console solve()) // FEProblemSolve::solve() { _fixed_point_status = MooseFixedPointConvergenceReason::DIVERGED_NONLINEAR; // Perform the output of the current, failed time step (this only occurs if desired) _problem.outputStep(EXEC_FAILED); return false; } else _fixed_point_status = MooseFixedPointConvergenceReason::CONVERGED_NONLINEAR; // Use the fixed point algorithm if the conditions (availability of values, etc) are met if (_transformed_vars.size() > 0 && useFixedPointAlgorithmUpdateInsteadOfPicard(true)) transformVariables(transformed_dofs, true); if (_problem.haveXFEM() && (_xfem_update_count FEProblemSolve::solve() bool FEProblemSolve::solve() { // This loop is for nonlinear multigrids (developed by Alex) for (MooseIndex(_num_grid_steps) grid_step = 0; grid_step FEProblemBase::solve(const unsigned int nl_sys_num) void FEProblemBase::solve(const unsigned int nl_sys_num) { TIME_SECTION(\"solve\", 1, \"Solving\", false); setCurrentNonlinearSystem(nl_sys_num); // This prevents stale dof indices from lingering around and possibly leading to invalid reads and // writes. Dof indices may be made stale through operations like mesh adaptivity clearAllDofIndices(); if (_displaced_problem) _displaced_problem->clearAllDofIndices(); #if PETSC_RELEASE_LESS_THAN(3, 12, 0) Moose::PetscSupport::petscSetOptions(*this); // Make sure the PETSc options are setup for this app #else // Now this database will be the default // Each app should have only one database if (!_app.isUltimateMaster()) PetscOptionsPush(_petsc_option_data_base); // We did not add PETSc options to database yet if (!_is_petsc_options_inserted) { Moose::PetscSupport::petscSetOptions(*this); _is_petsc_options_inserted = true; } #endif // set up DM which is required if use a field split preconditioner // We need to setup DM every \"solve()\" because libMesh destroy SNES after solve() // Do not worry, DM setup is very cheap if (_current_nl_sys->haveFieldSplitPreconditioner()) Moose::PetscSupport::petscSetupDM(*_current_nl_sys); Moose::setSolverDefaults(*this); // Setup the output system for printing linear/nonlinear iteration information initPetscOutput(); possiblyRebuildGeomSearchPatches(); // reset flag so that linear solver does not use // the old converged reason \"DIVERGED_NANORINF\", when // we throw an exception and stop solve _fail_next_linear_convergence_check = false; if (_solve) _current_nl_sys->solve(); // NonlinearSystem::solve() if (_solve) _current_nl_sys->update(); // sync solutions in displaced problem if (_displaced_problem) _displaced_problem->syncSolutions(); #if !PETSC_RELEASE_LESS_THAN(3, 12, 0) if (!_app.isUltimateMaster()) PetscOptionsPop(); #endif } NonlinearSystem::solve() void NonlinearSystem::solve() { // Only attach the postcheck function to the solver if we actually // have dampers or if the FEProblemBase needs to update the solution, // which is also done during the linesearch postcheck. It doesn't // hurt to do this multiple times, it is just setting a pointer. if (_fe_problem.hasDampers() || _fe_problem.shouldUpdateSolution() || _fe_problem.needsPreviousNewtonIteration()) _nl_implicit_sys.nonlinear_solver->postcheck = Moose::compute_postcheck; if (_fe_problem.solverParams()._type != Moose::ST_LINEAR) { TIME_SECTION(\"nlInitialResidual\", 3, \"Computing Initial Residual\"); // Calculate the initial residual for use in the convergence criterion. _computing_initial_residual = true; _fe_problem.computeResidualSys(_nl_implicit_sys, *_current_solution, *_nl_implicit_sys.rhs); // FEProblemBase::computeResidualSys() _computing_initial_residual = false; _nl_implicit_sys.rhs->close(); _initial_residual_before_preset_bcs = _nl_implicit_sys.rhs->l2_norm(); if (_compute_initial_residual_before_preset_bcs) _console fd_residual_object = &_fd_residual_functor; setupFiniteDifferencedPreconditioner(); } PetscNonlinearSolver & solver = static_cast &>(*_nl_implicit_sys.nonlinear_solver); solver.mffd_residual_object = &_fd_residual_functor; solver.set_snesmf_reuse_base(_fe_problem.useSNESMFReuseBase()); if (_time_integrator) { _time_integrator->solve(); _time_integrator->postSolve(); _n_iters = _time_integrator->getNumNonlinearIterations(); _n_linear_iters = _time_integrator->getNumLinearIterations(); } else { system().solve(); _n_iters = _nl_implicit_sys.n_nonlinear_iterations(); _n_linear_iters = solver.get_total_linear_iterations(); } // store info about the solve _final_residual = _nl_implicit_sys.final_nonlinear_residual(); if (_use_coloring_finite_difference) MatFDColoringDestroy(&_fdcoloring); } FEProblemBase::computeResidualSys() void FEProblemBase::computeResidualSys(NonlinearImplicitSystem & sys, const NumericVector & soln, NumericVector & residual) { TIME_SECTION(\"computeResidualSys\", 5); ADReal::do_derivatives = false; computeResidual(soln, residual, sys.number()); // FEProblemBase::computeResidual() ADReal::do_derivatives = true; } FEProblemBase::computeResidual() void FEProblemBase::computeResidual(const NumericVector & soln, NumericVector & residual, const unsigned int nl_sys_num) { setCurrentNonlinearSystem(nl_sys_num); const auto & residual_vector_tags = getVectorTags(Moose::VECTOR_TAG_RESIDUAL); _fe_vector_tags.clear(); for (const auto & residual_vector_tag : residual_vector_tags) _fe_vector_tags.insert(residual_vector_tag._id); computeResidualInternal(soln, residual, _fe_vector_tags); // FEProblemBase::computeResidualInternal() } FEProblemBase::computeResidualInternal() void FEProblemBase::computeResidualInternal(const NumericVector & soln, NumericVector & residual, const std::set & tags) { TIME_SECTION(\"computeResidualInternal\", 1); try { _current_nl_sys->setSolution(soln); _current_nl_sys->associateVectorToTag(residual, _current_nl_sys->residualVectorTag()); computeResidualTags(tags); // FEProblemBase::computeResidualTags(const std::set & tags) _current_nl_sys->disassociateVectorFromTag(residual, _current_nl_sys->residualVectorTag()); } catch (MooseException & e) { // If a MooseException propagates all the way to here, it means // that it was thrown from a MOOSE system where we do not // (currently) properly support the throwing of exceptions, and // therefore we have no choice but to error out. It may be // *possible* to handle exceptions from other systems, but in the // meantime, we don't want to silently swallow any unhandled // exceptions here. mooseError(\"An unhandled MooseException was raised during residual computation. Please \" \"contact the MOOSE team for assistance.\"); } } FEProblemBase::computeResidualTags(const std::set & tags) void FEProblemBase::computeResidualTags(const std::set & tags) { TIME_SECTION(\"computeResidualTags\", 5, \"Computing Residual\"); _aux->zeroVariablesForResidual(); unsigned int n_threads = libMesh::n_threads(); _current_execute_on_flag = EXEC_LINEAR; // Random interface objects for (const auto & it : _random_data_objects) it.second->updateSeeds(EXEC_LINEAR); execTransfers(EXEC_LINEAR); execMultiApps(EXEC_LINEAR); for (unsigned int tid = 0; tid residualSetup(); if (_displaced_problem) { _aux->compute(EXEC_PRE_DISPLACE); try { try { _displaced_problem->updateMesh(); if (_mortar_data.hasDisplacedObjects()) updateMortarMesh(); } catch (libMesh::LogicError & e) { throw MooseException(\"We caught a libMesh error in FEProblemBase\"); } } catch (MooseException & e) { setException(e.what()); } try { // Propagate the exception to all processes if we had one checkExceptionAndStopSolve(); } catch (MooseException &) { // Just end now. We've inserted our NaN into the residual vector return; } } for (THREAD_ID tid = 0; tid computeTimeDerivatives(); try { _aux->compute(EXEC_LINEAR); } catch (MooseException & e) { _console computeResidualTags(tags); // NonlinearSystemBase::computeResidualTags(const std::set & tags) _safe_access_tagged_vectors = true; } NonlinearSystemBase::computeResidualTags(const std::set & tags) void NonlinearSystemBase::computeResidualTags(const std::set & tags) { TIME_SECTION(\"nl::computeResidualTags\", 5); _fe_problem.setCurrentNonlinearSystem(number()); _fe_problem.setCurrentlyComputingResidual(true); bool required_residual = tags.find(residualVectorTag()) == tags.end() ? false : true; _n_residual_evaluations++; // not suppose to do anythin on matrix deactiveAllMatrixTags(); FloatingPointExceptionGuard fpe_guard(_app); for (const auto & numeric_vec : _vecs_to_zero_for_residual) if (hasVector(numeric_vec)) { NumericVector & vec = getVector(numeric_vec); vec.close(); vec.zero(); } try { zeroTaggedVectors(tags); computeResidualInternal(tags); // NonlinearSystemBase::computeResidualInternal(const std::set & tags) closeTaggedVectors(tags); if (required_residual) { auto & residual = getVector(residualVectorTag()); if (_time_integrator) _time_integrator->postResidual(residual); else residual += *_Re_non_time; residual.close(); } if (_fe_problem.computingScalingResidual()) // We don't want to do nodal bcs or anything else return; computeNodalBCs(tags); closeTaggedVectors(tags); // If we are debugging residuals we need one more assignment to have the ghosted copy up to // date if (_need_residual_ghosted && _debugging_residuals && required_residual) { auto & residual = getVector(residualVectorTag()); *_residual_ghosted = residual; _residual_ghosted->close(); } // Need to close and update the aux system in case residuals were saved to it. if (_has_nodalbc_save_in) _fe_problem.getAuxiliarySystem().solution().close(); if (hasSaveIn()) _fe_problem.getAuxiliarySystem().update(); } catch (MooseException & e) { // The buck stops here, we have already handled the exception by // calling stopSolve(), it is now up to PETSc to return a // \"diverged\" reason during the next solve. } // not supposed to do anything on matrix activeAllMatrixTags(); _fe_problem.setCurrentlyComputingResidual(false); } NonlinearSystemBase::computeResidualInternal(const std::set & tags) void NonlinearSystemBase::computeResidualInternal(const std::set & tags) { TIME_SECTION(\"computeResidualInternal\", 3); residualSetup(); // Residual contributions from UOs - for now this is used for ray tracing // and ray kernels that contribute to the residual (think line sources) std::vector uos; _fe_problem.theWarehouse() .query() .condition(\"UserObject\") .condition(EXEC_PRE_KERNELS) .queryInto(uos); for (auto & uo : uos) uo->residualSetup(); for (auto & uo : uos) { uo->initialize(); uo->execute(); uo->finalize(); } // reinit scalar variables for (unsigned int tid = 0; tid ::const_iterator, const FaceInfo *>; ComputeFVFluxResidualThread fvr(_fe_problem, tags); FVRange faces(_fe_problem.mesh().faceInfo().begin(), _fe_problem.mesh().faceInfo().end()); Threads::parallel_reduce(faces, fvr); } unsigned int n_threads = libMesh::n_threads(); for (unsigned int i = 0; i * scalar_kernel_warehouse; // This code should be refactored once we can do tags for scalar // kernels // Should redo this based on Warehouse if (!tags.size() || tags.size() == _fe_problem.numVectorTags(Moose::VECTOR_TAG_RESIDUAL)) scalar_kernel_warehouse = &_scalar_kernels; else if (tags.size() == 1) scalar_kernel_warehouse = &(_scalar_kernels.getVectorTagObjectWarehouse(*(tags.begin()), 0)); else // scalar_kernels is not threading scalar_kernel_warehouse = &(_scalar_kernels.getVectorTagsObjectWarehouse(tags, 0)); bool have_scalar_contributions = false; const auto & scalars = scalar_kernel_warehouse->getActiveObjects(); for (const auto & scalar_kernel : scalars) { scalar_kernel->reinit(); const std::vector & dof_indices = scalar_kernel->variable().dofIndices(); const DofMap & dof_map = scalar_kernel->variable().dofMap(); const dof_id_type first_dof = dof_map.first_dof(); const dof_id_type end_dof = dof_map.end_dof(); for (dof_id_type dof : dof_indices) { if (dof >= first_dof && dof computeResidual(); have_scalar_contributions = true; break; } } } if (have_scalar_contributions) _fe_problem.addResidualScalar(); } } PARALLEL_CATCH; // residual contributions from Block NodalKernels PARALLEL_TRY { if (_nodal_kernels.hasActiveBlockObjects()) { TIME_SECTION(\"NodalKernels\", 3 /*, \"Computing NodalKernels\"*/); ComputeNodalKernelsThread cnk(_fe_problem, _nodal_kernels, tags); ConstNodeRange & range = *_mesh.getLocalNodeRange(); if (range.begin() != range.end()) { _fe_problem.reinitNode(*range.begin(), 0); Threads::parallel_reduce(range, cnk); unsigned int n_threads = libMesh::n_threads(); for (unsigned int i = 0; i close(); _Re_non_time->localize(_residual_copy); } if (_need_residual_ghosted) { _Re_non_time->close(); *_residual_ghosted = *_Re_non_time; _residual_ghosted->close(); } PARALLEL_TRY { computeDiracContributions(tags, false); } PARALLEL_CATCH; if (_fe_problem._has_constraints) { PARALLEL_TRY { enforceNodalConstraintsResidual(*_Re_non_time); } PARALLEL_CATCH; _Re_non_time->close(); } // Add in Residual contributions from other Constraints if (_fe_problem._has_constraints) { PARALLEL_TRY { // Undisplaced Constraints constraintResiduals(*_Re_non_time, false); // Displaced Constraints if (_fe_problem.getDisplacedProblem()) constraintResiduals(*_Re_non_time, true); if (_fe_problem.computingNonlinearResid()) _constraints.residualEnd(); } PARALLEL_CATCH; _Re_non_time->close(); } } 判断是否并行 void parallel_reduce (const Range & range, Body & body) /** * Execute the provided reduction operation in parallel on the specified * range. */ template inline void parallel_reduce (const Range & range, Body & body) { Threads::BoolAcquire b(Threads::in_threads); // If we're running in serial - just run! if (libMesh::n_threads() == 1) { body(range); // ThreadedElementLoopBase::operator()，遍历所有单元的残差。 return; } #ifdef LIBMESH_ENABLE_PERFORMANCE_LOGGING const bool logging_was_enabled = libMesh::perflog.logging_enabled(); if (libMesh::n_threads() > 1) libMesh::perflog.disable_logging(); #endif unsigned int n_threads = num_pthreads(range); std::vector ranges(n_threads); std::vector bodies(n_threads); std::vector> range_bodies(n_threads); // Create copies of the body for each thread bodies[0] = &body; // Use the original body for the first one for (unsigned int i=1; i threads(n_threads); // It may seem redundant to wrap a pragma in #ifdefs... but GCC // warns about an \"unknown pragma\" if it encounters this line of // code when -fopenmp is not passed to the compiler. #ifdef LIBMESH_HAVE_OPENMP #pragma omp parallel for schedule (static) #endif // The use of 'int' instead of unsigned for the iteration variable // is deliberate here. This is an OpenMP loop, and some older // compilers warn when you don't use int for the loop index. The // reason has to do with signed vs. unsigned integer overflow // behavior and optimization. // http://blog.llvm.org/2011/05/what-every-c-programmer-should-know.html for (int i=0; i(n_threads); i++) { #if !LIBMESH_HAVE_OPENMP pthread_create(&threads[i], nullptr, &run_body, (void *)&range_bodies[i]); #else run_body((void *)&range_bodies[i]); #endif } #if !LIBMESH_HAVE_OPENMP // Wait for them to finish for (unsigned int i=0; ijoin(*bodies[i]); // Clean up for (unsigned int i=1; i 1 && logging_was_enabled) libMesh::perflog.enable_logging(); #endif } ThreadedElementLoopBase::operator()(const RangeType & range, bool bypass_threading) template void ThreadedElementLoopBase::operator()(const RangeType & range, bool bypass_threading) { try { try { ParallelUniqueId puid; _tid = bypass_threading ? 0 : puid.id; pre(); _subdomain = Moose::INVALID_BLOCK_ID; _neighbor_subdomain = Moose::INVALID_BLOCK_ID; typename RangeType::const_iterator el = range.begin(); for (el = range.begin(); el != range.end(); ++el) { if (!keepGoing()) break; const Elem * elem = *el; preElement(elem); _old_subdomain = _subdomain; _subdomain = elem->subdomain_id(); if (_subdomain != _old_subdomain) subdomainChanged(); onElement(elem); // NonlinearThread::onElement(const Elem * elem) if (elem->subdomain_id() == Moose::INTERNAL_SIDE_LOWERD_ID || elem->subdomain_id() == Moose::BOUNDARY_SIDE_LOWERD_ID) { postElement(elem); continue; } for (unsigned int side = 0; side n_sides(); side++) { std::vector boundary_ids = _mesh.getBoundaryIDs(elem, side); const Elem * lower_d_elem = _mesh.getLowerDElem(elem, side); if (boundary_ids.size() > 0) for (std::vector::iterator it = boundary_ids.begin(); it != boundary_ids.end(); ++it) { preBoundary(elem, side, *it, lower_d_elem); onBoundary(elem, side, *it, lower_d_elem); } const Elem * neighbor = elem->neighbor_ptr(side); if (neighbor) { preInternalSide(elem, side); _old_neighbor_subdomain = _neighbor_subdomain; _neighbor_subdomain = neighbor->subdomain_id(); if (_neighbor_subdomain != _old_neighbor_subdomain) neighborSubdomainChanged(); if (shouldComputeInternalSide(*elem, *neighbor)) onInternalSide(elem, side); if (boundary_ids.size() > 0) for (std::vector::iterator it = boundary_ids.begin(); it != boundary_ids.end(); ++it) onInterface(elem, side, *it); postInternalSide(elem, side); } } // sides postElement(elem); } // range post(); } catch (libMesh::LogicError & e) { throw MooseException(\"We caught a libMesh error in ThreadedElementLoopBase\"); } catch (MetaPhysicL::LogicError & e) { moose::translateMetaPhysicLError(e); } } catch (MooseException & e) { caughtMooseException(e); } } NonlinearThread::onElement(const Elem * elem) void NonlinearThread::onElement(const Elem * elem) { _fe_problem.prepare(elem, _tid); _fe_problem.reinitElem(elem, _tid); // Set up Sentinel class so that, even if reinitMaterials() throws, we // still remember to swap back during stack unwinding. SwapBackSentinel sentinel(_fe_problem, &FEProblem::swapBackMaterials, _tid); _fe_problem.reinitMaterials(_subdomain, _tid); if (_tag_kernels->hasActiveBlockObjects(_subdomain, _tid)) { const auto & kernels = _tag_kernels->getActiveBlockObjects(_subdomain, _tid); for (const auto & kernel : kernels) compute(*kernel); // ComputeResidualThread::compute(ResidualObject & ro) } for (auto kernel : _fv_kernels) compute(*kernel); } ComputeResidualThread::compute(ResidualObject & ro) void ComputeResidualThread::compute(ResidualObject & ro) { ro.computeResidual(); // Kernel::computeResidual()，ro即Residual Object } Kernel::computeResidual() void Kernel::computeResidual() { prepareVectorTag(_assembly, _var.number()); precalculateResidual(); for (_i = 0; _i n_points(); _qp++) _local_re(_i) += _JxW[_qp] * _coord[_qp] * computeQpResidual(); // 遍历所有的变量试函数i和高斯正交点qp。 // 调用Diffusion::computeQpResidual() // Jacobian weight (_JxW[_qp]) // coordinate (_coord[_qp])——平方的三倍=1？ // gdb可以用p *_qrule看看, active quadrature rule, const QBase* const& KernelBase::_qrule accumulateTaggedLocalResidual(); if (_has_save_in) { Threads::spin_mutex::scoped_lock lock(Threads::spin_mtx); for (const auto & var : _save_in) var->sys().solution().add_vector(_local_re, var->dofIndices()); } } Diffusion::computeQpResidual() Real Diffusion::computeQpResidual() { return _grad_u[_qp] * _grad_test[_i][_qp]; } 其他 kernel调用物性 ==================== 材料物性 → 系统残差 ==================== ADFluidPropertiesMaterialPh::computeQpProperties (this=0x555555b4a910) at /home/lee/projects/moose/modules/fluid_properties/src/materials/ADFluidPropertiesMaterialPh.C:76 Material::computeProperties (this=0x555555b4a910) at /home/lee/projects/moose/framework/src/materials/Material.C:131 131 for (_qp = 0; _qp n_points(); ++_qp) MaterialData::reinit, std::allocator > > > (this=0x555555a9f720, mats=std::vector of length 1, capacity 1 = {...}) at /home/lee/projects/moose/framework/build/header_symlinks/MaterialData.h:457 457 for (const auto & mat : mats) FEProblemBase::reinitMaterials (this=0x555555a84660, blk_id=0, tid=0, swap_stateful=true) at /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:3322 3322 } NonlinearThread::onElement (this=0x7fffffffbb10, elem=0x555555a4fff0) at /home/lee/projects/moose/framework/src/loops/NonlinearThread.C:109 109 if (_tag_kernels->hasActiveBlockObjects(_subdomain, _tid)) ==================== 材料物性 → 系统残差 ==================== auxkernel调用物性，densityaux ==================== 材料物性 → 系统残差 ==================== /home/lee/projects/moose/modules/fluid_properties/src/materials/ADFluidPropertiesMaterialPh.C:61 ADFluidPropertiesMaterialPh::computeQpProperties() /home/lee/projects/moose/framework/src/materials/Material.C:131 Material::subdomainSetup() computeQpProperties(); /home/lee/projects/moose/framework/build/header_symlinks/MaterialData.h:457 458 mat->computeProperties(); /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:3322 FEProblemBase::reinitMaterials(SubdomainID blk_id, THREAD_ID tid, bool swap_stateful) /home/lee/projects/moose/framework/src/loops/ComputeElemAuxVarsThread.C:114 ComputeElemAuxVarsThread::onElement(const Elem * elem) /home/lee/projects/moose/framework/src/systems/AuxiliarySystem.C:842 AuxiliarySystem::computeElementalVarsHelper 842 ComputeElemAuxVarsThread eavt(_fe_problem, warehouse, vars, true); /home/lee/projects/moose/framework/src/systems/AuxiliarySystem.C:768 AuxiliarySystem::computeElementalVars(ExecFlagType type) 768 TIME_SECTION(\"computeElementalVars\", 3); /home/lee/projects/moose/framework/src/systems/AuxiliarySystem.C:445 AuxiliarySystem::compute(ExecFlagType type) 445 computeElementalVars(type); /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5834 FEProblemBase::computeResidualTags(const std::set & tags) 5834 _aux->compute(EXEC_LINEAR); /home/lee/projects/moose/framework/src/loops/NonlinearThread.C:109 NonlinearThread::onElement(const Elem * elem) 109 if (_tag_kernels->hasActiveBlockObjects(_subdomain, _tid)) /home/lee/projects/moose/framework/src/systems/NonlinearSystemBase.C:1522 NonlinearSystemBase::computeResidualInternal(const std::set & tags) 1522 if (_fe_problem.haveFV()) /home/lee/projects/moose/framework/src/systems/NonlinearSystemBase.C:744 NonlinearSystemBase::computeResidualTags(const std::set & tags) 744 closeTaggedVectors(tags); /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5861 FEProblemBase::computeResidualTags 5861 _safe_access_tagged_vectors = true; /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5699 FEProblemBase::computeResidualInternal 5699 _nl->disassociateVectorFromTag(residual, _nl->residualVectorTag()); /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5487 FEProblemBase::computeResidual /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5463 5463 ADReal::do_derivatives = true; FEProblemBase::computeResidualSys /home/lee/projects/moose/framework/src/systems/NonlinearSystem.C:146 146 _computing_initial_residual = false; NonlinearSystem::solve FEProblemSolve::solve (this=0x555555be3548) at /home/lee/projects/moose/framework/src/executioners/FEProblemSolve.C:262 262 if (_problem.shouldSolve()) FixedPointSolve::solveStep (this=0x5555555e43d0, begin_norm=@0x555556131f20: 0, end_norm=@0x555555edd2f0: 0, transformed_dofs=std::set with 0 elements) at /home/lee/projects/moose/framework/src/executioners/FixedPointSolve.C:393 393 if (!_inner_solve->solve()) FixedPointSolve::solve (this=0x5555555e43d0) at /home/lee/projects/moose/framework/src/executioners/FixedPointSolve.C:274 274 bool solve_converged = solveStep(_fixed_point_timestep_begin_norm[_fixed_point_it], Steady::execute (this=0x555555be3250) at /home/lee/projects/moose/framework/src/executioners/Steady.C:85 85 _last_solve_converged = _fixed_point_solve->solve(); MooseApp::executeExecutioner (this=0x555555795930) at /home/lee/projects/moose/framework/src/base/MooseApp.C:1101 1101 _executioner->execute(); MooseApp::run (this=0x555555795930) at /home/lee/projects/moose/framework/src/base/MooseApp.C:1414 1414 TIME_SECTION(\"execute\", 2, \"Executing\"); main (argc=6, argv=0x7fffffffd8b8) at /home/lee/projects/momentum/src/main.C:35 35 return 0; "},"1study/moose.html":{"url":"1study/moose.html","title":"moose","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 基础（以官网为准！） 准备工作 新建程序 编译测试运行 使用技巧 减小时间步长有利于提高稳定性 提交代码提示 代码不符合规范 kernel 编写 输入文件启用禁用块 重装 MOOSE 限制变量值 vscode 配置文件 moose输出残差 自定义后处理的先后顺序 未整理 矢量速度 min,max函数不匹配 ADReal就是（double，偏导） 目录 [TOC] 基础（以官网为准！） 准备工作 linux系统：建议vmware 安装ubuntu。 （科学上网工具：clash + 机场订阅，用于访问github等网站） 官网开始学习 workshop研讨会视频-B站 workshop研讨会视频-YouTube 新建程序 官网——手动GCC调试 # 创建程序，取名 cd ~/projects ./moose/scripts/stork.sh 程序名 # 先去GitHub新建同名仓库 # 继续 cd 程序名 git remote add origin https://github.com/xxx/仓库名.git git commit -m \"initial commit\" git push -u origin main # 自动化保存为MOOSE代码格式 ./scripts/install-format-hook.sh ## 提交 git add -A git commit -a -m \".\" -- no-verify git push 编译测试运行 # 常用 clear && make -j4 METHOD=dbg && mpiexec -n84 ./phase2eq5-dbg -i problems/1.i -pc_type svd -snes_type vinewtonssls # 基础 make -j4 METHOD=dbg ./run_tests -j4 # 多线程并行 mpiexec -n 4 xxx-opt -i xx.i # 注意，C++使用多线程在输出的时候信息可能会覆盖。比如40个网格4线程输出残差，最后控制台只能看到最后的10个网格的残差。 # opt 模式比 dbg 快近 5 倍 # 调试 + 限制变量值 gdb --args ./phase2eq4-dbg -i problems/liquid2vapor.i -pc_type svd -snes_type vinewtonssls # 浮点溢出断点 break libmesh_handleFPE # [线程终止](https://mooseframework.inl.gov/getting_started/examples_and_tutorials/examples/ex21_debugging.html) break MPI_Abort # [并行调试 / 多线程调试：首先确认该问题只能在并行运行时重现](https://mooseframework.inl.gov/application_development/debugging.html#b4fcff15-e278-407f-9620-f1bd1d0d4f6c) # 需要使用 Xterm 终端（Ctrl + 鼠标左中右键进行设置） sudo apt-get install xterm mpiexec -n 6 ./phase2eq6-dbg -i problems/1.i --start-in-debugger='gdb' # 两种办法 # 1. 原始终端为每个 MPI 进程启动一个新终端。 # 需要我们逐一调试，例如设置浮点溢出断点 b libmesh_handleFPE。然后逐一输入命令c继续，原始终端终于开始运行。 # 到达报错的断点处时，该进程的相应终端会报错，然后我们就可以在那个终端上像单线程调试一样工作了，例如命令bt回溯代码栈。 # 不计算，只后处理 # 在输入卡[Problem]块中填入solve = false 使用技巧 减小时间步长有利于提高稳定性 提交代码提示 代码不符合规范 Your code is not properly formatted. Run git clang-format to resolve the following issues: ... git clang-format kernel 编写 变量是谁 变量 = 标量 / 矢量 需要耦合哪些变量、物性、辅助变量 输入文件启用禁用块 启用禁用块: active = [blockname]，inactive = [blockname] 重装 MOOSE 官网——手动GCC调试 # 克隆 MOOSE 官方仓库 mkdir ~/projects cd ~/projects git clone https://github.com/idaholab/moose.git cd moose git checkout master # 编译 PETSc cd ~/projects/moose unset PETSC_DIR PETSC_ARCH ./scripts/update_and_rebuild_petsc.sh --prefix=/home/lee/software/petsc export PETSC_DIR=/home/lee/software/petsc # 测试 PETCs cd ./petsc make PETSC_DIR=/home/lee/projects/moose/scripts/../petsc PETSC_ARCH=arch-moose check # 编译 libMesh cd ~/projects/moose ./scripts/update_and_rebuild_libmesh.sh # 编译、测试 MOOSE(8G时-j4初次编译会死机！每个处理器都要占用2G内存) cd ~/projects/moose/test make -j 3 ./run_tests -j 3 限制变量值 限制变量值 # 一定要在运行时加 -snes_type vinewtonssls 或 -snes_type vinewtonrsls才能生效 # PJFNK 用 vinewtonrsls ./phase2eq4-dbg -i problems/liquidvapor.i -snes_type vinewtonssls ./phase2eq4-dbg -i problems/liquidvapor.i -snes_type vinewtonrsls [Bounds] [./u_upper_bound] type = ConstantBoundsAux variable = bounds_dummy bounded_variable = alpha bound_type = upper bound_value = 1 [../] [./u_lower_bound] type = ConstantBoundsAux variable = bounds_dummy bounded_variable = alpha bound_type = lower bound_value = 0 [../] [] [AuxVariables] [./bounds_dummy] order = FIRST family = LAGRANGE [../] [] vscode 配置文件 https://mooseframework.inl.gov/help/development/VSCode.html 应该是ctrl shift p-> settings.json->open user settings (~/.config/Code/User/settings.json) moose输出残差 不同kernel的precomputeQpResidual()函数有时候输出的数量不一致,例如最常见的是每次输出4个/2个, 一般2个输出的是正确的值,4个则需要分别两两相加 例如 v2rhoudalphadz 出现两次: -1.43717与1.27698 35.9669 -0.031291相等 v2alpharhodudz (-0.0804875出现4次, -0.0804875+ -0.0215666= -0.102054256 才等于0.00096017135.9669-2.95515 v2rhoudalphadz (-1.43717,{}) v2rhoudalphadzu_v (1.27698,{}) v2rhoudalphadzrho_v (35.9669,{}) v2rhoudalphadzgrad_u_v (-0.031291,{}) v2rhoudalphadz (-1.37953,{}) v2rhoudalphadzu_v (1.2258,{}) v2rhoudalphadzrho_v (35.9659,{}) v2rhoudalphadzgrad_u_v (-0.031291,{}) v2alphaudrhodpdpdz (-7.59565e-05,{}) v2alphaudrhodpdpdz (-2.03525e-05,{}) v2alphaudrhodpdpdz (-8.50894e-06,{}) v2alphaudrhodpdpdz (-3.17558e-05,{}) v2alpharhodudz (-0.0804875,{}) v2alpharhodudzalpha (0.000960171,{}) v2alpharhodudzrho_v (35.9669,{}) v2alpharhodudzgrad_u_v (-2.95515,{}) v2alpharhodudz (-0.0215666,{}) v2alpharhodudzalpha (0.000960171,{}) v2alpharhodudzrho_v (35.9669,{}) v2alpharhodudzgrad_u_v (-2.95515,{}) v2alpharhodudz (-0.00939288,{}) v2alpharhodudzalpha (0.000418194,{}) v2alpharhodudzrho_v (35.9659,{}) v2alpharhodudzgrad_u_v (-2.95515,{}) v2alpharhodudz (-0.0350547,{}) v2alpharhodudzalpha (0.000418194,{}) v2alpharhodudzrho_v (35.9659,{}) v2alpharhodudzgrad_u_v (-2.95515,{}) 自定义后处理的先后顺序 (没用过)参数 execution_order_group https://mooseframework.inl.gov/moose/syntax/UserObjects/index.html 未整理 矢量速度 ADReal j_g = (1 - alpha_g) _u[_qp] ADRealVectorValue(1, 0, 0); min,max函数不匹配 min(170 * (Re / Re), -Re / 6e4) ADReal就是（double，偏导） typedef double libMesh::Real typedef DualNumber DualReal; typedef DualReal ADReal; "},"1study/NUSOL_FI_JFNK.html":{"url":"1study/NUSOL_FI_JFNK.html","title":"NUSOL_FI_JFNK","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 编写输入卡 标题-时间100-201 水力部件CCCXXXX(7位) tmdpvol tmdpjun sngljun pipe 热构件(1CCCGXNN, 8位) 总表table(CCCXXXNN, 8位) 结束 输出 杂项 程序文件表 变量表 目录 [TOC] 编写输入卡 output/input.txt 为输入卡，格式比relap5精简。 标题-时间100-201 = simple pipe flow ******time card***** *迭代输出100：GMRES内迭代残差输出时间; 牛顿外迭代残差输出时间 *时间离散(0一阶精度1二阶); 空间离散=0：迎风差分；=1：中心差分；=2：二阶迎风；*=3：quick；=4：三阶迎风；=5：fromm；=6：minmod；=7：muscl；=8：koren；=9：smart；=10：superbee；=11：harmonic；=12：ospre；=13：van albada 101 0 0 200 1 *时间设置组数 201 0.0 10.0 0.01 *开始时间; 结束时间; 步长201; 水力部件CCCXXXX(7位) tmdpvol tmdpvol *不写卡号和部件名称，直接写类型 1000100 1.13097334e-4 0.1 0.0 *面积; 长度; 倾角 *物性参数组数; 控制体参数标记（0p,Ul,Ug,α， 1T,x0， 2p,x0， 3p,T, 其中x0平衡静态含气率) 1000200 2 0 *物性参数组1、2：时间;控制体参数标记(以此为准); 压力; 液相内能(J/kg); 气相内能; 空泡份额 1000201 0.0 0 6.89e6 0.8061e6 2.58198e6 0.0 1000202 100.0 0 6.89e6 0.8061e6 2.58198e6 0.0 tmdpjun tmdpjun *上游控制体（不区分面，100组件的01控制体）; 下游控制体; 面积 1030101 10001 10501 1.13097334e-4 1030200 2 0 *物性组数; 接管参数标记（0液、汽流速，1液、汽流量） 1030201 0.0 0 1.1204 1.1204 *组1：时间; 接管参数标记(以此为准); 液、汽流速 1030202 100.0 0 1.1204 1.1204 sngljun sngljun 1100101 10520 11501 1.13097334e-4 *上游控制体; 下游; 面积 *接管参数标记（0液、汽流速，1液、汽流量）; 液相速度; 汽相速度; 4正向阻力系数; *5反向阻力系数; 过冷喷放系数; 两相喷放系数; 接管临界流、阻力系数模型选项ab 1100201 0 1.1204 1.1204 0.0 0.0 0.0 0.0 0 *接管选项ab:*a：是否启用临界流，=0：不启用；=1：启用 *b：接管阻力计算选项，=0：不计算阻力；=1：只计算突缩、突扩的形阻系数； *=2：只计算输入卡给定的正反向阻力系数造成的局部阻力系数；=3：1、2都计算 pipe pipe 1050000 20 *控制体数 1050100 1 *控制体信息组数 *组1：面积; 长度; 倾角; （水位模型标记？壁面粗糙度？）; 控制体编号 1050101 1.13097334e-4 0.075 90.0 0 20 1050200 2 *控制体物性参数组数 *组1/2：参数标记(0p,Ul,Ug,α， 1T,α， 2p,α， 3p,T); *压力; 液相内能(J/kg); 气相内能; 空泡份额; 控制体编号 1050201 0 6.89e6 0.8061e6 2.58198e6 0.0 10 1050202 0 6.89e6 0.8061e6 2.58198e6 0.0 20 1050300 1 *接管物性参数组数 *组1：接管参数标记（0液/汽流速，1液/汽流量）; 液相速度/流量; 汽相速度/流量; 正向阻力系数; 5反向阻力系数; *6过冷喷放系数; 两相喷放系数; 管临界流、阻力系数模型选项ab; 接管编号 1050301 0 1.1204 1.1204 0.0 0.0 1.0 1.0 0 19 热构件(1CCCGXNN, 8位) hstructure *轴向控制体数量; 径向网格点数; 几何类型(1矩形体2圆柱3球形); *左边界坐标(管内径); 再淹没标记1(0禁用模型1启用); 再淹没标记2 11050000 20 5 2 0.006 0 0 11050100 1 *网格格式标记 11050101 4 0.008 *网格数(网格点数-1);右边界坐标(管外径) 11050200 1 *径向材料成分组数？ 11050201 5 4 *材料编号(201MMM00卡中的MMM，此处为20100500); 网格编号 11050300 1 *径向功率分布组数？ 11050301 1.0 4 *径向功率因子; 网格编号 11050401 464.0 *初始温度 11050500 1 *左边界条件组数？ *边界条件类型(0绝热后两参数无，1定壁温206表温度-时间，2定热流203表热流-时间，3对流); 边界相邻水力控制体/通用表编号; 0; 周向网格长度; 热构件编号 11050501 3 10501 0 0.075 20 *类型W1=3：如果w2=300~399，换热系数-时间表（204表）；w3指定冷源温度，w3小于999，温度-时间表编号；w3大于10000，冷源是控制体，w3=控制体编号 *如果w2=400~499，换热系数-温度表（205表），w3指定冷源温度，w3小于999，温度-时间表编号；w3大于10000，冷源是控制体，w3=控制体编号 *如果w2=其它，w2=控制体编号，w3=0 11050600 1 *右边界条件组数？ 11050601 0 0 0 0.075 20 *同上 11050700 1 *热源分布组数？ 11050701 999 1.0 20 * 热源类型(999查总表202999XX); 热源乘子; 热构件编号 总表table(CCCXXXNN, 8位) 包含了relap5中的热物性表和总表。 CCC表示表的类型: 201 材料物性表（1-49导热系数，51-99体积热容），202 功率时间表，203 热流时间表，204 换热系数时间表，205 换热系数温度表，206 温度时间表。 XXX为查表时所需编号。 *201XXXNN材料物性表，NN分两部分：01-49导热系数，51-99体积热容 table 20100500 4 *导热系数的组数 20100501 3. 14.88 *温度; 导热系数 20100502 373. 15.05 20100503 423. 15.56 20100504 473. 16.09 20100550 4 *体积热容的组数 20100551 3. 3.81e6 *温度; 体积热容 20100552 373. 3.83e6 20100553 423. 3.91e6 20100554 473. 3.99e6 *202XXXNN功率时间表 table 20299900 2 *功率组数 20299901 0.0 3195.0 *时间; 功率 20299902 1000.0 3195.0 结束 .end. *核对某行前五个字符 输出 参考文件NUSOL_FI_JFNK.f90 100——input.txt 200——output.txt 101——velocity_gas.txt 102——velocity_liquid.txt 103——internal_energy_gas.txt 104——internal_energy_liq.txt 105——void_fraction.txt 106——pressure.txt 107——tempg.txt 108——tempf.txt 109——JFNK.txt 110——wucha.txt 111——satt.txt 112——sathg.txt 113——sathf.txt 150——1111.txt 114——fi.txt 115——quale.txt 116——mflow.txt 117——htemp.txt 218——218.txt 杂项 输入、输出均在output文件夹 103 format(A200)，定义输出格式 程序文件表 文件名(未标注则为.f90格式) 简介………….. 备注 input.txt 输入卡 格式与relap5有不同：100时间误差; 101差分格式; 200时间步信息（201开始、结束时间、步长） input 读取输入卡 JFNK JFNK迭代 使用JFNK方法控制一个时间步内的迭代，外迭代Newton迭代，内迭代Krylov子空间迭代 NUSOL_FI_JFNK 主程序 两流体模型全隐(full implicit)数值算法（基于JFNK方法）的系统分析程序; 读写文件，牛顿迭代调用 JFNK子程序 rdtstep 读取时间步 read time step rhtadv 读取热构件 read heat structure ??? rpipe 读取管道 read pipe rsnlj 读取单接管 read single junction rtable 读取总表 read table rtdj 读取时间接管 read time dependent junction rtdv 读取时间控制体 read time dependent volume 变量表 变量名 简介 备注 hbound(n,1,1,k) 热构件左边界类型 1定壁温，2定热流，3定热流 hbound(n,2,1,k) 热构件右边界类型 hicha hitime 差分格式相关 0) then BDT(1) = 1.0d0 BDT(2) = -1.0d0 BDT(3) = 0.0d0 else if (hitime .eq. 1) then BDT(1) = 1.5d0 BDT(2) = -2.0d0 BDT(3) = 0.5d0 "},"1study/relap5_analysis.html":{"url":"1study/relap5_analysis.html","title":"relap5_analysis","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 修改记录 对比待验证 程序主要流程 vexplt preseq 变量速查表 子程序速查表 CVF源代码调试运行 安装 使用调试 问题 只能build relaplib不能build relap.exe 调试思路 测试 其他 传统的系统分析程序的不足 大破口 两相流数值算法 JFNK 方法中预处理技术 目录 [TOC] 修改记录 前后加上修改标记ccclzw230728 相间传热传质：disp, amist（最初改过？？？） amisthif：修改液滴直径rddrp dispdryhif：修改液滴直径rddrp。velgj(i)改成max(1.0d-5,abs(velgj(i)))，防止速度=0。velfj(i)同理。（是否换R5本构？scrchh用公式算较大，很难达到700K，应该是相对速度需要加个绝对值？alpdrp应该是voidf）。液相换热系数有各分支过小导致液相内能过大报错。 drydrag ：注释计算液滴直径的第二个本构 amistdrag：修改液滴直径rddrp和相对速度scrach；fiu, ga, fac的速度都加上最小值（max(1.0d-5,abs(velgj(i)))，否则domain error报错exp 函数就是下面的fiu 函数） amisthif：修改液滴直径rddrp dispdrag：修改液滴直径rddrp dispdryhif：修改液滴直径rddrp。velgj(i)改成max(1.0d-5,abs(velgj(i)))，防止速度=0。velfj(i)同理。（是否换R5本构？scrchh用公式算较大，很难达到700K，应该是相对速度需要加个绝对值？alpdrp应该是voidf）。液相换热系数有各分支过小导致液相内能过大报错。 dispwethif ：液滴份额最小1e-4改1e-3；（理应使用系数misthidg和misthigd，但是导致178工况258秒报错，暂时不加。其他版本系数在本构中）换回3R模型 drydrag ：注释计算液滴直径的第二个本构 fidis2计算接管中气泡和液滴的相间摩擦：计算液滴雷诺数abs(vfg2*voidx)应为sqrt(vfg2*voidx)。（见107行rey计算） horizhif水平分层流相间传热传质：verhig和verhif改名cohorizhig和cohorizhif。 hstratdrag水平分层流相间摩擦：verfi改名cohorizfi。 htrc1计算传热系数:dtsat>600时去2000，是否注释无影响，因为还有>100的判断。 ijprop计算接管物性用于初始化：voidfj(i)应为1.0d0- voidla(ivbot)和1.0d0- voidlb(ivtop)。（Void above/below the level.） invslughif：师兄为流型=9反弹状流但注释了，改为源程序的10雾状流。 jprop从相邻控制体贡献接管物性：640行左右的液相份额不应为voidg，改为voidf。（也可改为1-voide-voidg） majout：完善outdta大编辑输出格式。 pstdnb计算dnb后强制对流换热系数：hv乘数0.8。+ 直接注释掉过渡沸腾的判断，直接判定为模态沸腾，从而使becker实验足够高壁温。= 传热恶化壁温升高。（ 在backer277干涸后实验发现qfb因此乘数恰好小于qtb，使得换热模式始终为6过渡沸腾而非8膜态沸腾。） rmflds读取选项卡：水平分层流相间传热传质的系数，水平分层流相间摩擦本构的系数verfi改名cohorizfi。 vexplt计算速度和隐式压力求解中的压降系数：液滴沉降计算kq的0.018应该是0.18（见phantv）。（[113] Hewitt G F, Govan A H. Phenomenological modelling of non-equilibrium flows with phase change[J]. International Journal of Heat and Mass Transfer, 1990,33(2):229-242.） 输入卡添加192卡，数值1.0，此前被遗漏。dtsattt是临界后传热的壁面过热度的系数，用于再淹没换热，定义在rmfld.f(255)中，影响htrc1。 相间摩擦：注释掉了dispdrag、amistdrag和drydrag的液滴直径rddrp造成结果为0的重复计算。 气相相间换热系数，anm、mpr始终为10（1e2-1e5） 液相相间换热系数，mpr=1.0（1e5-1e10） 对比待验证 23-3R-SA 22-3R 23-3R RELAP5 vexplt 0.18（注释，不用计算） 0.018（错） amistdrag 新本构 1. 液滴直径试试不同的，becker相对略差: 3e-4。2. 设置速度的最小值 amisthif 新本构 调用fidisv chftab 新本构 becker无差别 dispdrag（MPR，chf前雾状流） 新本构，摩擦系数模型 调用fidis2 dispdryhif（MPO，chf后雾状流） 新本构 调用fidisv dispwethif（MPR，chf前雾状流） 1.0d-4，lzw接手时fj改为R5本构 新本构 新本构 调用fidisv，1.0d-3 换成23-3R版本会报错 drydrag（） 新本构 调用fidis2 液滴直径试试不同的，becker相对略差: 3e-4 dryhif 新变量 eqfinl 改 fidis2 163行rey*abs rey*abs rey*abs rey*sqrt 程序主要流程 输入: inputd 输入卡: rnewp 初始化: rnewp 瞬态计算: trnctl 调用 tran 时间步长控制体及输出: dtstep TDV和TDJ计算: tstate 壁面传热传质计算: htadv (Qwg ; Qwf、壁面蒸汽蒸发量) 再淹没传热计算: qfmove 计算骤冷前沿位置，将热构件网格再划分为二维网格：qfsrch 计算再淹没模型中非再淹没边界的换热系数 (基于 htcond ) : htrc2 判断壁面对流换热模式，并调用相关子程序计算换热系数和热流密度: htrc1 计算再淹没边界区域的换热系数: qfhtrc 计算各种维度、排列等情况的各相质量流速 再淹没工况下的换热模式判断和换热系数：htrc1 完成热构件的二维导热计算: ht2tdp 一维导热计算热构件温度 : ht1tdp 热构件边界条件 htcond 判断壁面对流换热模式，并调用相关子程序计算换热系数和热流密度: htrc1 单相对流换热0/1/2/9/12: dittus 非水平通道的核态沸腾3/4: prednb 水平通道的核态沸腾3/4: prebun CHF临界热流密度: chfcal 过渡及膜态沸腾5/6/7/8: pstdnb 冷凝10/11: conden 计算蒸汽产生率: suboil 划分计算热构件与控制体之间的传热量 水力学计算: hydro 相间传热传质: phantv ( 得到hig*A，hif*A) 流型判断：horizhifreg，verthifreg，得到flomap(1,ix)赋值给floreg。 判断postdry是否干涸： wethif，无干涸后则湿壁面相间换热： bubhif，floreg=4 slughif, floreg=5 amisthif, floreg=6，三流场在此加入了液滴夹带massen。 dispwethif, floreg=7（Mist pre-CHF，MPR，7） horizhif, floreg=12 dryhif，干涸，干壁面： invannhif，floreg=8，反环状流 invslughif，floreg,9，反弹状流 dispdryhif，floreg=10、11（Mist MST 10；Mist post-CHF MPO 11） 三流场在此加入了液滴沉降massden。 相间摩擦: phantj ( 得到 fi) horizdragreg，vertdragreg wetdrag，drydrag wetdrag bubdrag slugdrag amistdrag dispdrag hstratdrag drydrag（干涸后，） invanndrag invslugdrag 弥散流：调用 fidis2 为垂直分层流调整相间传热adjusthif 修正: filterdrag，finaldrag 壁面摩擦: fwdrag ( 得到 fwalf，fwalg) 局部阻力: hloss ( 得到 hlossg、Hlossf) 显式速度: vexplt(计算质量、动量，能量方程源项，并求解显式速度) 临界流: jchoke(计算临界流量) ccfl 最终速度和压力: vfinl 5*5系数矩阵和压力矩阵计算: preseq 求解压力矩阵: syssol 内能，空泡份额: eqfinl 物性: state stacc，计算安注箱状态方程，存储变量 statep classifyvols，控制体分类：一般控制体（非安注箱、TDV）、空气控制体和无空气的一般控制体（不凝性气体质量份额quala supertosub (numnormvol) withair (numnormvol, numairvol, matrl) 和 nwithair (numnormvol, numairvol, matrl) withoutair (numnoairvol) 最终物性：statepfinal(numnormvol,check) 质量误差检查：masserror (check,syserr,sysesq,sysmsq,sysvol,sysvsq) 水位追踪模型计算: level jprop (0): Get donered properties (include stratified void fraction) 控制体平均速度: vlvela 中子动力学: rkin 控制系统：convar 输出到outdta 其他 vexplt sat1 = gammsw(ix)*dt sat2 = gammsc(ix)*dt sourcmg(ix) = (sat1 + sat2 - ff1) * v(i) - vagrg(ix) sourcmf(ix) = - ((sat1 + sat2) - (1.0 - etapf(i))*ff(ix)- (1.0 - etapg(i))*gg(ix))*v(i) - assen(i)*dt - vafrf sourcme(ix) = - ((sat1 + sat2) - etapf(i)*ff(ix)- etapg(i)*gg(ix))*v(i) + massen(i)*dt - vaerf aaa2 = (aaa2 - sat1*sathg(i) - sat2*sathf(i))*v(i) sourcg(ix) = qwg(i)*dt - aaa2 - vagrg(ix)*ugo(i) sourcf(ix) = qwf(i)*dt + aaa2 - (vafrf + vaerf)*ufo(i) preseq 40控制体开始出现液膜，sourcg在40控制体突然由正变为负值。 if (timehy .gt. 1.8e-2 .and. volno(1,i) .gt. 125370000) then write(230725,*)timehy,volno(1,i) write(230725,*)p(i),ug(i),uf(i) write(230725,*)voidg(i),voide(i),voidf(i) write(230725,*)velg(i),velf(i),vele(i) write(230725,*)sourcmg(ix),sourcmf(ix) write(230725,*)sourcg(ix),sourcf(ix) write(230725,*)qwg(i),qwf(i) end if 1.814919466547800E-002 125390000 286041.753864857 2542510.33842387 554209.829969752 0.999930291654598 6.970834540231952E-005 0.000000000000000E+000 26.2887672347571 29.2967290007591 31.8737455655349 0.000000000000000E+000 0.000000000000000E+000 2.557143455480214E-004 -0.219861320037307 0.000000000000000E+000 -270.544953745225 1.814919466547800E-002 125400000 286098.831770267 2542550.05942930 554029.085840901 0.999876772080615 1.100664472066963E-004 1.316147217876387E-005 25.9107522900545 22.0083922473061 22.0083758230836 -7.361893236922008E-008 1.291515536309666E-007 -0.200686233462843 -1.541082559748223E-002 -1.92040536134923 -264.644126739091 变量速查表 参见input manual A4小编辑部分 变量缩写 解释............................. 备注 acqtank 安注箱内向气相传热总能 Total energy transport to the gas by heat and mass transfer in the accumulator (W, Btu/s). acrhon 安注箱不可凝气体密度 Accumulator noncondensable density (kg/m^3 , lb/ft^3 ). acttank 安注箱平均壁温 Mean accumulator tank wall metal temperature (K, ℉). acvdm 安注箱* 气相体积 Gas volume in the accumulator tank, standpipe, and surge line (m^3 , ft^3 ). acvliq 安注箱* 液相体积 Liquid volume in the accumulator tank, standipipe, and surge line (m^3, ft^3) boron 硼浓度 Spatial boron density, ρb (kg/m^3, lb/ft^3). count 时间步计数 Current attempted advancement count number. cntrlvar 控制变量 cputime CPU 时间 Current CPU time for this problem (s). dt 当前时间步长 Current time step (s). dtcrnt 当前库朗特数时间步长 Current Courant time step (s). emass 质量误差 Estimate of mass error in all the systems (kg, lb). fij 相间摩擦的系数 (N-s2/m5) floregflow regi 流型1 Flow regime number; the parameter is the volume number. A chart showing the meaning of each number is shown in Volume II, page 14High mixing bubbly, CTB, 1High mixing bubbly/mist transition CTT 2High mixing mist CTM 3Bubbly BBY 4Slug SLG 5Annular mist ANM 6Mist pre-CHF MPR 7Inverted annular IAN 8Inverted slug ISL 9Mist MST 10Mist post-CHF MPO 11Horizontal stratified HST 12Vertical stratified VST 13Level tracking LEV 14Jet junction JET 15ECC mixer wavy MWY 16ECC mixer wavy/annular mist MWA 17ECC mixer annular mist MAM 18ECC mixer mist MMS 19ECC mixer wavy/slug transition MWS 20ECC mixer wavy-plug-slug transition MWP 21ECC mixer plug MPL 22ECC mixer plug-slug transition MPS 23ECC mixer slug MSL 24ECC mixer plug-bubbly transition MPB 25ECC mixer bubbly MBB 26 fjunft 顺流不可逆的总形状损失系数 Total form loss coefficient for irreversible losses, forward fjunrt 逆流不可逆的总形状损失系数 Total form loss coefficient for irreversible losses, reverse formfj 液相形状损失系数 formgj 气相形状损失系数 fwalfj 液相壁面摩擦的系数 fwalgj 汽相壁面摩擦的系数 Gamma.boil 蒸发总速率 Hif.liq.int 衡量相间传热的系数，液相 (Watts/m3-K) Hig.vap.int 衡量相间传热的系数，汽相 (Watts/m3-K) htchf 临界热流密度 Critical (maximum) heat flux (W/m^2, Btu/s•ft^2). htchfr 临界热流密度比率 Critical heat flux ratio (ratio of HTCHF to HTRNR). hthtc 传热系数 Heat transfer coefficient (W/m^2•K, Btu/s-ft^2•℉). htrnr 热流密度（热通量) Heat flux (W/m^2, Btu/s•ft^2). httemp 网格点温度 Mesh point temperature (K, ℉). htvat 热构件体积平均温度 Volume averaged temperature in the heat structure (K, ℉). jun.area 接管面积 junction area jun-flag 接管控制标记 junction control flag (jefvcahs) j0不是jet喷放接管，e0不用能量方程PV修正项，f0不用CCFL模型，v0不用水平分层夹带模型，c0开启壅塞choking模型（临界流？无1卡/1卡无50选项则为Henry-Fauske模型，否则是relap5模型），a0光滑变截面，h0非均相流，s0同时使用来/去向部件的动量通量 跟随3个临界流参数 临界流常数1（取决于参数6：Henry-Fausk耗散常数discharge默认1.0，relap5模型过冷耗散常数默认1.0）; 临界流常数2（Henry-Fausk未使用此值0.0，Relap5过热耗散常数默认1.0）; 临界流常数3（Henry-Fausk热力非平衡常数默认0.14，Relap5模型默认1.0）; massden(i) 液滴沉降率（控制体） kg*s-1。位于phantv.f，相间传热传质 massen(i) 液滴总夹带率（控制体） kg*s-1。位于amithif.f，环雾流相间传热传质 Mass.flux 质量流密度 (kg/sec-m2) mflowjmass flow 总质量流率 Combined liquid and vapor flow rate (kg/s, lb/s). p 压力 Volume pressure (Pa, lbf/in2). pmphead 泵扬程（水头） Pump head in the pump component (Pa, lbf/ in2). pmptrq 泵扭矩 Pump torque in the pump component (N•m, lbf•ft). pmpvel 泵转速 Pump rotational velocity in the pump component (rad/s, rev/min) q 气液壁面总热源 Total volume heat source from the wall and direct moderator ( 慢化剂 ) heating to liquid and vapor (W, Btu/s). This variable request is the same as “Q.wall.tot.” in the major edits. qualaquality non-cond 不可凝气体质量份额 Volume noncondensable mass fraction. The ratio of the mass of the noncondensable gas to the total mass of the vapor phase. qualaj 接管不可凝气体质量份额 Junction noncondensable mass fraction. qualequality mix-cup 热平衡含气率 Volume equilibrium quality. This quality uses phasic enthalpies and mixture quality, with the mixture enthalpy calculated using the flow quality. qualsquality static 静态含气率 Volume static quality. qwgQwg.wall.gas 气相壁面总热源 Volume heat source from the wall and direct moderator heating to vapor (W, Btu/s). This variable request is the same as “Qwg.wall.gas.” in the major edits. Qwg.wall.total 壁面总热源 reac 总反应性反馈 reactivity feedback total (dollars). This is the sum of reacm, reacrb, reacs, and reactf. reacm 慢化剂密度总* 反应性反馈=密度+温度 reactivity feedback total from moderator density changes (dollars). This is the sum of reacrm and reactm. reacrb 硼浓度反应性反馈 reactivity feedback from boron density changes (dollars). reacrm 慢化剂密度反应性反馈 reactivity feedback from moderator density changes (dollars). reacs 紧急停堆曲线反应性反馈 reactivity feedback from scram curve (dollars). reactf 燃料温度反应性反馈 reactivity feedback from fuel temperature changes (dollars). reactm 慢化剂温度反应性反馈 reactivity feedback from moderator temperature (spectral) changes (dollars) Reynolds liquid / vapor 液/汽雷诺数 rho 混合密度 Total density (kg/m^3, lb/ft^3). rho-boron 硼浓度 rhof 液相密度 Liquid density ρf (kg/m^3, lb/ft^3). rhofj 接管液相密度 Junction liquid density (kg/m^3, lb/ft^3). rhog 气相密度 Vapor density ρg (kg/m^3, lb/ft^3). rhogj 接管气相密度 Junction vapor density (kg/m^3, lb/ft^3). rho-mix 混合平均密度 rkfipow 裂变功率 Reactor power from fission (W). rkgapow 总衰变功率=锕系+裂变产物 Reactor power from decay of fission products and actinides (W). rkpowa 锕系元素衰变功率 Reactor power from decay of actinides (W). rkpowk 裂变产物衰变功率 Reactor power from decay of fission products (W). rkreac 反应性 Reactivity (dollars). rkrecper 反应堆周期的倒数 Reciprocal period (s-1).period：反应堆周期，即堆内中子密度变化e倍所需时间。 rktpow 反应堆总(热)功率=裂变+衰变 Total reactor power, i.e., sum of fission and decay powers (W). sattempsatt-part 饱和温度（基于蒸汽分压） Volume saturation temperature based on the partial pressure of steam (K, ℉). sounde 声速 Volume sonic velocity (m/s, ft/s). tempf 液相温度 Volume liquid temperature Tf (K, ℉). tempg 气相温度 Volume vapor temperature Tg (K, ℉). throat ratio 喉部接管面积比 喉部面积/接管面积（v2p25, 26） time 模拟物理时间 Time (s). tmass 系统总质量 Total mass of water, steam, and noncondensables in all the systems (kg, lb). uf 液相比内能 Liquid specific internal energy (J/kg, Btu/lb). ufj 接管液相比内能 Junction liquid specific internal energy (J/kg, Btu/lb). ug 气相比内能 Vapor specific internal energy (J/kg, Btu/lb). ugj 接管气相比内能 Junction vapor specific internal energy (J/kg, Btu/lb). vapgenVapor.gen 蒸发净总速率 Total mass transfer rate per unit volume at the vapor/liquid interface in the bulk fluid for vapor generation/condensation and in the boundary layer near the wall for vapor generation/condensation (kg/m^3 •s, lb/ft^3 •s). velfvel-liquid 液相速度 Volume oriented liquid velocity (m/s, ft/s); the parameter is the volume number plus F. velfjliq.j.vel 接管液相速度 Junction liquid velocity (m/s, ft/s). This velocity is based on the junction area Aj, which is discussed in Volume II, Section 2.4. velgvel-vapor 气相速度 Volume oriented vapor velocity (m/s, ft/s); the parameter is the volume number plus F. velgjvap.j.vel 接管气相速度 Junction vapor velocity (m/s, ft/s). This velocity is based on the junction area Aj, which is discussed in Volume II, Section 2.4. vlvarea 阀门与接管面积比 Ratio of the current valve physical area to the junction area. vlvstem 阀门面积开启比例阀杆位置比 对于开启了归一化阀杆位置选项的电动阀和伺服阀，是当前阀杆位置与全开时的比值; 否则是面积比 voidf 液相截面份额 Volume liquid fraction. voidfj 接管液相截面份额 Junction liquid fraction. voidg 空泡份额 Volume vapor fraction (void fraction). voidgj 接管空泡份额 Junction vapor fraction (void fraction). voidg 空泡份额(前一时间步) Vapor void fraction previous time step (n) vol-flag 控制体控制标记 volume control flag (tlpvbfe)t0不用热前沿追踪跟踪模型，l0不用mixture level混合物水平面追踪模型，p0使用water packing scheme水填充方案，v0不使用垂直分层模型，b0使用管道相间摩擦模型，f0沿体积的x坐标计算壁摩擦效应，e0使用非平衡(不相等温度)计算 子程序速查表 子程序 功能 accum 模拟安注箱水力、壁面和水表面的换热、蒸汽圆顶冷凝及水面蒸发的过程。 alg63 alg63子程序使用高斯消去法求解一个5×5矩阵方程组 alg63n 子程序主要使用了高斯消去法求解两个5×5矩阵方程组，然后依据方程的解计算中间变量 amux 将矩阵A以点积的形式乘以一个向量，矩阵A以压缩稀疏行的形式存储 bishop 计算超临界条件下的bishop换热系数和次临界状态下的D-B换热系数，当换热包选项htopta=161时，被dittus调用 blkdta 定义一些不应改变的数据 borbnd 利用BPLU算法计算压力系数矩阵，包括LU分解和回代求解压力系数矩阵 bparam 被tsetsl子程序调用，用于瞬态计算前BPLU结构初始化，将系统矩阵重排为border-profile的形式，是BPLU法矩阵重排的主要子程序。 bpcnst bpcnst子程序被bpord子程序调用，主要用于BPLU求解器的重排技术之一——constant removal。 bpform 被bpord子程序调用，主要用于BPLU求解器的重排技术之一——constant removal bplu 被borbnd子程序调用，对系数矩阵进行LU分解。bplu子程序是主要的系数矩阵分解进程 bpmap22 被tsetsl子程序调用，用于瞬态计算开始前BPLU结构初始化，将系统矩阵重排为border-profile的形式，是BPLU法矩阵重排的主要子程序。Bpmap22与bpmap的区别是，bpmap22只用作控制体变量个数不超过8或a22子矩阵的分解。 bpmul 被setrhs子程序调用，setrhs只有在出现错误时被调用。bpmul子程序辅助setrhs，对解子矩阵行求和 bpord 被bparam子程序调用，主要用于BPLU求解器的重排运算 bppart 是BPLU矩阵求解器中重排处理的重要部分，主要作用是在重排后建立分区索引数组indblk，实现矩阵数值分解时的并行效果 bprcm 是BPLU矩阵求解器中重排处理的重要部分，主要作用是利用Reverse Cuthill-Mckee算法对系数矩阵进行重排，使得系数矩阵形成border-banded的形式 bpsqlu 被borbnd和bplu子程序调用，利用部分选主元的高斯消去法处理a（borbnd）或a22（bplu）子矩阵 bpsqsl 被borbnd子程序调用，在bpsqlu和bplu子程序之后。主要作用是在bpsqlu子程或bplu的LU分解之后进行回代，得到Ax=b方程中的解x bpsub 被borbnd子程序调用，在bplu子程序之后。主要作用是在LU分解后进行回代，得到Ax=b方程中的解x brntrn 使用二阶 Godunov方法计算硼的输运 bwlim BPLU矩阵求解器中重排处理的重要部分，主要作用是利用带宽限制算法对系数矩阵进行重排，使得系数矩阵形成border-banded的形式。 ccfl 先判断接管是否发生逆流流动限制(Countercurrent Flow Limitation,CCFL)，若在接管处存在ccfl，则利用Wallis-Kutateladze的淹没限制方程对ccfl进行计算。子程序最后根据半隐和近隐处理格式不同，分别计算其所需的中间变量；若为半隐格式，计算接管汽液两相速度velfj、velgj，计算半隐格式所需的中间变量vfdpk、vgdpk、vfdpl、vgdpl；若为近隐格式，程序计算近隐格式计算所需的中间变量coefv、sourcv、difdpk、difdpl。 celmdr 计算包壳的杨氏模量和泊松比 chfcal 根据选项采用不同的方法进行CHF的预测 chfitr 使用INTER CHF 模型计算临界热流密度 chfkut 使用Kutateladze CHF关系式和Folkin-Goldberg空泡因子以及Ivey Morris冷却因子计算临界热流密度 chforn 针对窄缝板状燃料组件进行CHF的预测 chfosm 使用Osmachkin关系式计算石墨堆功率通道的临界热流密度CHF chfpgf 使用PGF关系式计算临界热流密度比通量形式 chfpgg 使用PGG关系式计算临界热流密度比几何形式 chfpgp 使用PGP关系式计算临界热流密度比的动力形式 chfpg 计算临界热流密度比 chfsrl 根据SRL关系式计算临界热流密度 chftab 根据1986 AECL-UO CHF查询表进行CHF的预测 chklev 控制控制体之间两相液位的移动 chngva 计算由于包壳变形引起的控制体面积变化 coev3d 计算速度矩阵系数coefv项，并计算相关动量通量项convf、convg conden 计算冷凝换热的各相换热系数和热流密度 condn2 采用了新的模型计算冷凝换热，只有当输入卡1的第45个选项开启时，才会调用这个子程序进行计算 convar 用来模拟水力系统中的控制系统的子程序 courn1 计算最小基于接管速度的courant限值（时间步长限值） cournt 计算最小基于体平均速度的courant限值（时间步长限值） cov3dl 计算三维部件的动量通量项的速度矩阵方程的边界条件 cov3dy 计算速度矩阵系数coefv项，并计算相关动量通量项convf、convg，针对三维控制体y方向速度。 cov3dz 计算速度矩阵系数coefv项，并计算相关动量通量项convf、convg，针对三维控制体y方向速度。 cplexp 使用NUREG-0630的数据计算塑性应变。该子程序假设应用了间隙导热模型，当环向应力为负的时候跳过该子程序的计算过程 cprssr 计算压缩机的压差、转矩和转速，以及异步电动机的转矩 cramer2 通过克莱默法则解一系列方程 cthxpr 计算锆合金包壳的径向热膨胀 daxpy 一个向量乘以一个常数再加上另一个向量 ddot 计算两个向量的点积(数量积)，采用开式循环使增量等于一 detector detmnt 采用高斯消去法用于计算行列式的值的子程序 dispdryhif 计算干壁面相间传热 dittus 计算Dittus-Boelter强迫对流换热关系式。 dmpcom1 指向seldmp1或selpdmp2的单元1或2写入重启记录 dmplst 计算common /ftb/ 中的参数,如数据标识、数组大小、文件数量、上次描述的文件位置等，对所有链接表循环，对每个链接表内的参数设立相关的指针参数，并通过指针参数ix、iy输出各个参数相关的指针位置 dnrm2 求n维向量dx的范数 dyer 通过GE干燥器模型计算干燥器出口的汽液空间份额 dtstep 瞬态计算过程中选择时间步长以及控制输出和画图的频率 eccmxj eccmxv eprij eqfinal errorn fidis2 fidisj fidisv fildmp flux3d fmvlwr fricid fwdrag gapcon gasthc gcsub gctp, genchn gesep gesub gniel gninit gninit performs once only calculations and general initializations including setting common block lengths and clearing them. grdnrj griftj helphd hifbub hloss hseflw ht1tdp ht2tdp htadv htcond htfilm htfinl htheta htlev htrc1 htrc2 hydro 控制水力学计算过程 hzflow idfind iedit 初始条件编辑Writes summary of the hydrodynamic volume and junction conditions after completion of input processing. inputd Controls all input data processing. If an error is found, editing for the case is completed, but all following cases only have their input listed jacksn jchoke jprop Donors junction properties from adjacent volume quantities katokj helm htadv Controls advancement of heat structures and computes heat added to hydrodynamic volumes. khoo kloss koshi level c level tracks two-phase level in 1-D vertical components.cc Cognizant engineer: kuo,wlwcc Purpose --c Perform calculations to detect a two-phase level within ac hydrodynamic cell.c Compute level propagation velocity, above-level void fraction,c below-level void fraction, and level position related toc the bottom of the cell.c Set level flags.c This subroutine consists of three main blocks.c 1) the first block determines the level position, either byc examination on the level criteria (icheck = 0), or byc extrapolation of the level position (icheck = 1).c 2) the second block detemines the pressure gradient correctionc term for each volume containing a level after propagatingc the level to the adjacent volume if the level positionc determined in the first block lies outside of the volume. Thec junctions effected by either level movement or by levelc appearance are marked for processing by the next block.c 3) the velocities in the junctions marked by the second blockc are recomputed to be consistent with the level positions.c The first two blocks are contained in a loop over all volumesc while the second loop is over a list containing the indicesc of the junctions marked by the loop over volumes. lint1 lusol0 madata1 majout 大编辑输出This subroutine prints the major edit of the transient and steady state results. mapmat mcheck mdata2 mhdfwf mirec1 mixcon modmem mover mprop ncfilm ncprop ncwall newtseg1 nnkmout noncnd nwithair nwithair (numnormvol, numairvol, matrl)Compute equation of state and derivatives for volumes with airc Specifically for fluid 15 = new steam tables 9-16-00 outpoint outputtr packer petukv pgmres phantj phantv 相间传热Subroutine computes interphase heat transfer and also calculates some information for vexplt. This replaces the volume loop in earlier subroutine phaint, which replaced earlier subroutines fidrag and mdot. pimplt pintfc plstrn pltwda pltwrt pminv1 pminv4 pminvd pminvd子程序是压力矩阵求解器旧版本MA18中的一个子程序，被三个子程序调用，分别是子程序tsetsl、pminvf和syssol。其中在tsetsl子程序中调用，用于直接解法的预处理，包含矩阵系数的存储、选主元排序及消元。pminvd中求解方式属于最基本的选主元消去法。形式为：subroutine pminvd (a,ind,iw,n,np,g,ux,ia)。a 压力矩阵系数ind 系数位置iw 压力矩阵特性参数n 变量个数np 变量个数+1ux 指数ia 矩阵允许最大个数 pminvf pminvr pminvx pol2s pol8 polat polatr prebun precr prednb presej preseq 加载压力矩阵，计算系数矩阵和源向量中的元素。形式为subroutine preseq。preseq uses the phasic equations for mass and energy to eliminatec liquid specific internal energy, vapor specific internal energy, voidc fraction, and noncondensible quality.The preseq subroutine fills the coefficient matrix and row reduces this matrix prior to the call tosyssol. The row reduction reduces the block 5x5 matrix that has one block for each volume in the loop thatis being solved to a block 1x1 matrix. The block 1x1 matrix is the pressure matrix and is sent to syssol tosolve for the increment in pressure in each volume for this time step. psatpd pset pstdnb pstpd2 pump pump2 pzrlev Added subroutine for calculate water level in PRIZER component Much similar to icompn.f file. Since pzr volume component index, is reset in 'trnset' before tansient calculation, use kk = przvn This routine is called every time advancement during transient qfhtrc qfmove qfsrch qmwr qsplit radht rcards Subroutine reads input data for the next case, writes data on disk if not last case. rkin rmblnk1 rmflds rmflds reads optional hydrodynamic system cards that specify a reference volume, its position coordinates, fluid type in the system, the system name, system information flags, and system thermodynamic property file name. rstimg rstrda rstrec ruplas seta setreason Routine that sets all the reasons for the setting of the success flag setrhs sieder simplt simplt computes the new time liquid specific internal energy,c vapor specific internal energy, void fraction, noncondensiblec quality, and boron density using implicit convective terms inc the mass and energy equations. solr sol sortup splin3 sstchk stacc stacc advances the energy equation, evaluates the equation of statec for an accumulator, and performs a backup of the accumulatorc variables on a time step failure. statep Compute equation of state and derivitives for time advanced volumes. state stcset stdsp stgodu sth2x1 sth2x2 sth2x3 sth2x5 sth2x6 stnpu stnsat stntp stntx stnx stpu00 stpu0p stpu2p stpu2t stpupu stputp strip strpu strpx strsat strtp1 strtx strx stvnpx stvrpx suboil surftn svpu2p svpupu syssol 加载压力矩阵，计算系数矩阵和源向量中的元素。形式为：SUBROUTINE SYSSOL (isol,ilsw,offst)。有三种方式求解压力矩阵：旧版本方式、BPLU法和广义最小残差迭代法。用户可在输入卡中选择性激活chngno34和35选择求解压力矩阵的方式。 tcnvsl tempi tempifc thront tideal timinit Initializes the timing routines timset Timing subroutine. Maintains two nested timing measures. tran 控制瞬态计算过程 trilu trip trisub trnctl calls set up, advancement, and finish subroutines for transient problem. trnset tsetsl tstate processes time dependent volumes and junctions. turbst valve varvol vexplt Subroutine computes the explicit liquid and vapor velocities andc the pressure gradient coefficients needed for the implicit pressurec solution. It also computes the old time source terms for the massc and energy equations. vfinl vimdbt vimplt vlvela voidangle volvel volvol vtfrnt wethif Subroutine computes wetted wall interphase heat transfer. zbrent zfslgj CVF源代码调试运行 安装 安装包文件夹为`Compaq.Visual.Fortran.v6.6.win10-已测试，找到X86文件夹内的SETUPX86.EXE，右键，属性，设置以兼容模式运行这个程序（如win7,winxp），并勾选以管理员身份运行。右键管理员运行，选择右上角第一项install visual fortran。 名字公司随便填，序列号从crack文件夹内生成复制（无法全部复制，手敲） 安装方式typical，设置第一个文件夹路径，如f: \\pro\\cvf\\common，则其他路径也随之变为cvf文件夹下。 继续安装，96%时弹出环境变量更新，选择yes。安装完成，不注册，确定，不安装array visualizer。（卡在96%的话反思一下是不是没有管理员运行 ：） 安装完毕，在安装目录下找到DFDEV.EXE（F: \\pro\\cvf\\common\\MSDEV98\\BIN\\DFDEV.EXE），右键属性，设置兼容模式为win7+管理员身份运行。 从此可以正常打开Relap33\\Relap33.dsw项目文件，测试build菜单rebuild all，无报错则成功（中文路径会报错）。 使用调试 先删除outdta和rstplt文件！！！ 调试前F7build，可以避免调试卡顿。：）玄学但有用 单击某行，Ctrl + F10 debug 执行完前一行 F10下一行， 查看变量值——鼠标直接悬停或选中后悬停；在watch表中定义； F11下一步——遇到子过程则进入子过程程序段继续单步执行 shift + F11跳出子程序 单击某行，Ctrl + F10 debug 执行完光标前一行 shift + F5结束调试 Relap33\\Relap\\文件夹内存放有indta、outdta、rstplt和Debug文件夹，内含Relap.exe，可以单独拿到indta同级目录下运行。 设定debug模式： 点击菜单Build/Set Active Project Configuration，选 *- Win32 Debug，OK，即设定为debug模式。 以debug模式执行到报错处： 点击“Go (F5)”按钮，或直接按F5键，则执行程序，并在第一个出错语句处停止，在该语句前有一个小黄色箭头。 若程序没错，则一直执行完毕，自动关闭dos窗口。此时，宜用“！”按钮或“Ctrl+F5”键，执行完成后，dos窗口等待用户关闭。 F9设置断点： 若希望执行时在某一语句处暂停，可将光标置于该语句，点击“手”形状的按钮，或按F9键，则程序执行到该语句时停在该语句处。 查看变量值： 小黄箭头停在某语句时，按下Variable按钮，显示当前程序段的变量值；对于简单变量，将光标放在该变量上，则即时显示该变量值。 运行调试时改动了源代码，如果直接链接生成Relap.exe会报错cannot open file \"Debug/Relap.exe\" Error executing link.exe.（relap.exe还在运行没有解除占用）。退出compaq，删除outdta和rstplt，重新打开项目，ctrl+F7仅编译当前修改文件，再 F7 链接主程序relap.exe（或者rebuild all）发现无报错成功编译。 ！调试插入类似语句制造某个时刻和某个控制体的断点 if (timehy .gt. 2.70e0) then write(231106,*) timehy end if if (timehy .gt. 1.8e5 .and. volno(1,i) .gt. 125380000) then write(230725,*)timehy,volno(1,i) write(230725,*)p(i),ug(i),uf(i) write(230725,*)voidg(i),voide(i),voidf(i) write(230725,*)velg(i),velf(i),vele(i) write(230725,*)qwg(i),qwf(i) end if if (timehy .gt. 502.11 .and. id .gt. 1250038) then write(231017,*)timehy,id end if 问题 只能build relaplib不能build relap.exe 有时报错已存在outdta，但是实际已删除，或者只能build relaplib不能build relap.exe。 在Build菜单set active configuration选择Relap-Win32 Debug。 调试思路 从五变量出发，(六变量Xn?) Ug、Uf、αg、αf、P, 形如Ax=B,发现Uf的方程异常？问题源项或者与变量相乘的系数，源项是液相能量方程的本构之和，经查壁面无问题，相间本构有问题。 因为以前的本构中液相都是除以的液膜项，现在是三流畅，在弥散流无液膜项算不下去，替换为液膜+液滴项-12,-8 调试发现可能是不能从Mist pre-CHF MPR 7过渡到Annular mist ANM 6，两者界限在0.9999左右?直接换回relap自己的本构。（更改判断准则？考虑液滴项？） 一系列操作，可以突破0.999，到达0.86，但是却不是环雾流Annular mist ANM 6，仍然是弥散流，只有液滴没有液膜。因而发现水平工况流型判断的bug，仅判断液相，三流场时无法转换。再查看它的源项：夹带和沉降本构，发现只会沉降，不会夹带，导致液滴项份额从1e-4到1e-13。但是应该影响不大？ eqfinl.f(492): write(484,*)timehy 生成fort.484文件，调试查看变量值 if (timehy .gt. 1.8e-2 .and. volno(1,i) .gt. 125380000) then write(230725,*)timehy,volno(1,i),ug(i),voidg(i),voide(i),velg(i) end if 测试 syssol，奇异矩阵。preseq处理后vfinl调用syssol时传入的压力矩阵系数数组coefp(ixcofp(1,issys))的120/121元素是NaN，122是1，123-184是0。（前面基本都是-41，-41，83，除了最开始1，0，42）（根据定义，应该就是142个控制体压力与速度的关系式联立）调用 pminvd 的 sourcp(i+4) 是 NaN，可能是line106、200、239报错， 后面statep，调用物性withoutair，p是NAN 刚刚从弥散流到环雾流，出现液膜，fwalfj preseq 的 pshig(ix)=0 vexplt syssol，调用 pminvd 的 sourcp(i+4) 是 NaN。 0******** Error return from pminvd because the matrix is singular. row 21 is dependent on the rest. 0#################################################################################################################################### syssol Diagnostic printout, timehy = 1.8149195E-02, dt = 8.1266095E-04, ncount = 130, help = 1, lsuces = 0, fail = F 0Solution array sourcp(i) sourcp(i+1) sourcp(i+2) sourcp(i+3) sourcp(i+4) sourcp(i+5) sourcp(i+6) sourcp(i+7) sourcp(i+8) ========================================================================================================================== 0.0000 34.193 110.15 70.189 84.382 93.208 94.192 94.759 95.032 95.096 94.946 94.590 94.043 93.290 92.322 91.157 89.807 88.249 86.475 84.509 82.365 80.048 77.548 74.867 72.003 68.957 65.715 62.281 58.639 54.793 50.726 46.405 41.858 37.060 31.963 26.577 20.899 15.045 8.8569 -1052.8 NaN 0.0000 0Singularity parameter (if gerr .lt. 0.0, the matrix solution is singular) gerr = -1.0000 call pminvd (coefp(ixcofp(1,issys)),fa(ixirnx(1,issys)), & fa(ixipx(1,issys)),nvr(1,matrxi-1),nvrp(1,matrxi-1),gerr, & 0.25d0,nnz2(1,matrxi-1)) subroutine pminvd (a,ind,iw,n,np,g,ux,ia) !n42, np43, g2.8e294,ux0.25,ia184 if(iw(1,ir,l+6).le.0)go to 560 if(amax.eq.0.0d0)go to 560 560 write (output,570) errmsg,rowcol(l),ir 570 format (a,'the matrix is singular.',2x,a6,i4,' is dependent on the rest.') data errmsg/'0******** Error return from pminvd because '/ data rowcol/'row','column'/ ir=iw(1,1,l+10) 0******** Error return from pminvd because the matrix is singular. row 21 is dependent on the rest. preseq.f(903): coefp(ll) = coefp(ll) + terml preseq.f(906): coefp(lk) = coefp(lk) - termk withoutair p是NAN line 210 ，268 rsth2xv(iv) = fa(ivx+72) subroutine nth2x6f (a,s,it,err,satflag) subroutine getsatatp (tables,getprops,p,x,s,err)的p是NAN 其他 传统的系统分析程序的不足 两流体六方程模型的两流体和单压力假设还不够精细。 两流体六方程模型只对汽相和液相建模，缺少对液滴行为的描述，从而在模拟一些液滴存在的工况时有较大的误差，例如：环雾流区域的壁面传热以及反应堆再淹没阶段的壁面传热。 环状流区域，液膜附着在管道内壁，中心高速流动的气体会剪切液膜，产生大量的液滴，当液膜的厚度小于某个临界值之后，流体不再能导出足够的热量，导致发生沸腾危机现象中的干涸现象，在干涸后区域，液滴与壁面之间的传热扮演了重要的角色。 再如在核反应堆破口事故的再淹没现象中，骤冷前沿附近产生的液滴速度较大，会进入比水位更高的位置，提前冷却壁面。 总结：对于环雾流，液膜附着在管壁上，管道中心高速流动的蒸汽会剪切管壁的液膜，产生大量弥散的小液滴，同时液滴会接触液膜而沉降变为液膜，夹带沉降模型决定了环雾流区域液滴的份额，对于相间换热和相间摩擦的计算至关重要。 液滴夹带是一个较为复杂的过程，与两种现象有关[24]：1）由于近壁面液相核态沸腾产生的气泡从液膜中溢出到达主流区域，然后破裂变为小的液滴，在高壁面热流密度条件下，这部分液滴量比较多；2）在环雾流区域，附着在管壁内侧的液膜是凹凸不平的，当主流区的高速蒸汽流过液膜表面时，部分凸起的液膜会被剪切下来变为小液滴。 此外两流体六方程模型中假设汽液两相处于压力平衡状态，即假设汽相和液相压力相等，对于泡状流、水平分层流等汽液相压力存在明显差异的工况，传统两流体模型的模拟结果不够真实。 半隐数值算法的稳定性受 Courant 值的影响，对慢瞬态过程计算效率较低。当前主流的系统分析程序大都采用半隐数值算法，该算法比较成熟，且实现简单，但其会在时间上引入一阶数值误差，在模拟多物理场耦合的问题时数值误差较大，并且由于半隐数值算法稳定性受限于 Courant 限值，计算中时间步长不能取太大，这使得程序模拟长时间的慢瞬态过程时计算效率较低。 核反应堆系统是一个中子物理场、流场、结构导热场等多物理场耦合的系统，然而当前主流的系统分析程序在模拟该多物理耦合系统时大都采用“脱耦”求解的方式，耦合方式分为两种：一种是每个物理场单独求解，在每一个时间步开始时刻传递参数，但这种耦合方式导致了耦合参数在时间步内存在差异；另外一种方式是 Pircard 迭代，即在一个时间步内求解完各个物理场之后，传递参数进行迭代，直至所有的物理场全部收敛在进行下一个时间步的计算，但这种耦合方式收敛速度慢，计算效率低。 大破口 事故初期，一回路发生破口，堆芯冷却剂从底部和顶部同时流失，堆芯水位迅速降低。破口处临界喷放导致RCS压力迅速降低，液体闪蒸，堆芯内形成的蒸汽引入负反应性，导致堆芯次临界，功率急剧下降。 由于假设事故发生同时丧失厂外电，主泵处于惰转状态，破口喷放过程中堆芯存在短暂的正向流动过程，随着泵转速的进一步下降，冷却剂通过蒸汽发生器(SG)传热管和主泵流向破口的流动阻力逐渐大于流经堆芯和下降腔的阻力，冷却剂以向下的流动为主，堆芯流量出现反转，该流动反转有利于堆芯冷却。 随着RCS压力下降，RCS压力达到ACC背压并触发其动作，ACC水经冷管段流入下降段环腔，与经堆芯、下降段环腔向破口反向流动的蒸汽相互作用，形成两相逆向流动及流动滞止(CCFL)，大量的安注冷水经下降段环腔而未经过堆芯流向破口，安注冷水被旁通。随着反向流动蒸汽流量的进一步降低，安注水经下降段进入堆芯下腔室，达到堆芯活性区底部。 随着安注冷水注入堆芯，燃料棒开始再淹没，伴随着堆芯储能导致的多次冷却剂闪蒸和堆芯-下降段间的流动剧烈波动，堆芯得到有效\"冷却，骤冷前沿快速推进，堆芯衰变热和储能持续稳定释放，堆芯水位缓慢上升，事故后约90 s，ACC排空，约5 min后，堆芯实现淹没。 两相流数值算法 当前两相流数值算法大都采用半隐数值算法，相较于显式算法，半隐数值算法能够更加精确地模拟两相流过程，数值实现过程简单，相关研究非常成熟，且数值稳定性相对较好。 目前半隐数值算法主要可以分为两种思路，一种是将质量方程和动量方程联立，形成压力矩阵求解，迭代求解压力和速度，然后对能量方程迭代求解焓值等，应用这种思路的典型算法有 SIMPLE[48]、IMPLEC、SIMPLER、CACE[8]、ICE[49]算法以及 RELAP5 程序使用的类似的算法，这类算法在算法实现过程中只需要形成压力矩阵，矩阵的阶数与控制体的个数相同，计算效率较高，但是对于不同的问题，压力矩阵的形 成过程是不相同的，且对于多物理场全耦合系统，耦合参数不只有压力、速度、内能等流体参数，该数值算法的求解思路是不适用的。 另外一种半隐数值算法的实现思路是将所有的守恒方程联立形成一个大的方程组，然后使用牛顿迭代法求解。由于牛顿迭代法通用性很强，基于牛顿迭代法的半隐数值解法可以用于求解多物理场耦合系统。但是由于该方法将所有的守恒方程联立形成了一个阶数较大的方程组，求解方程组的效率较低，而且半隐数值算法与显式算法一样，数值稳定性受 Courant 值的限制，时间步长不能取较大的值，因此在计算长时间的慢瞬态问题时计算效率较低。 全隐数值算法的数值稳定性不受 Courant 值的限制，且随着计算机的发展，占据内存等缺点不再是制约全隐数值算法发展的因素，因此近年来国内外研究人员对全隐数值算法开展了一系列的研究。使用全隐数值算法求解两相流模型时，除时间项中旧时刻的值以外，守恒方程中所有的量都是未知的，且两相流数学模型是非线性方程，早期全隐数值算法的研究中通常使用经典的牛顿迭代法求解非线性方程组。已有的两相流模型都是基于没有相间本构模型的均相流模型，或是没有考虑本构模型的两流体模型，构造雅克比矩阵比较容易。 而完整的两流体模型中包含了大量的相间换热、相间摩擦、壁面换热、壁面摩擦等本构模型，且不同两相流型或者不同的换热模式下同一种本构模型也是不同的，本构模型大多都是求解变量的函数，在形成雅克比矩阵时需要每一个模型对每一个变量进行求导，该过程非常复杂，因此近年来一种不写雅克比矩阵的牛顿-克拉洛夫子空间迭代法（Jacobian-Free NewtonKrylov，JFNK）被用来求解全隐数值算法中的非线性方程组。JFNK 方法是一种高效的求解非线性方程组的迭代法，自从被提出之后在许多领域都有广泛的应用。 半隐数值算法研究比较成熟，其中使用压力-速度修正形成压力矩阵的半隐数值算法效率较高，而全隐数值算法的研究还相对较少，基于牛顿法的全隐数值算法不容易形成雅克比矩阵，且效率较低。虽然当前国内外基于 JFNK 方法的全隐数值算法在两相流方面的研究较多，对均相流、漂移流以及两流体模型等都有涉及，但是研究整体还处于起步阶段，算法的适用性和精度验证只针对数值算法本身的精度，对两相流传热的模拟也仅限于核态沸腾单管换热，一些 CHF 后传热以及反应堆瞬态事故后的重要瞬态现象中数值算法的适用性研究尚未涉及。 JFNK 方法中预处理技术 JFNK 方法中使用 Krylov 子空间迭代法求解牛顿修正方程，Krylov 子空间迭代法基于伽辽金原理，在较小维度的子空间中寻找大型方程组的近似解，降低计算成本，提高计算效率。但是如果方程组系数矩阵性质较差，特征值分布会比较分散，量级较小的特征值很容易会被较大的特征值影响，则在有限维度的子空间中很难寻找到满足要求的方程组的近似解，因此需要通过矩阵预处理技术改善系数矩阵的性质，聚拢系数矩阵的特征值，降低在子空间中寻找近似解的难度，提高 Krylov 子空间迭代收敛速率。当在两流体模型中引入能量方程后，系数矩阵中会多出一些密度对压力、密度对内能的偏导项，这些偏导项的量级一般在 10 ^-4^~10^-6^，使得雅克比系数矩阵的性质进一步病态化，系数矩阵特征值的分布很分散，Krylov 子空间迭代往往都找不到方程组的解，因此研究人员尝试对 JFNK 方法中的系数矩阵进行预处理，改善矩阵性质，加快收敛速度。 矩阵预处理技术的主要思想是寻找系数矩阵 A 的近似矩阵 P，使得方程组 A∙ x = b的求解变为求解(A∙ P^-1^)∙(P∙ x) = b，理论上预处理矩阵 P 越接近系数矩阵 A，新的系数矩阵 A∙ P^-1^越接近单位矩阵，特征值越集中分布在 1 周围，Krylov 子空间迭代法收敛速度越快。常用的预处理矩阵构造方法分为两大类，一类是通用的代数预处理技术，另一类是基于物理的预处理技术。 通用的代数预处理技术是普适的，目前主要的方法有不完全 LU 分解（ILU）预处理技术、系数矩阵逆预处理技术、多项式预处理技术以及多重网格预处理技术[65]，这些技术虽然不能对某一类问题求得最优解，但是适用性很强，对大多数问题都能起到合理的加速效果，且容易开发和使用。 第二类预处理矩阵构造方法是基于物理的预处理技术，这种方法是针对某一类特殊问题构造预处理矩阵，可以避免使用纯代数预处理时产生一些非物理意义的解，因此常用于求解一些物理问题，也是目前 JFNK 方法主流的预处理技术，该预处理技术也可以分为算子分裂法、半隐式离散法和低阶离散等三种方法。 算子分裂预处理矩阵的构造方法是利用 Picard 线性化对偏微分方程的非线性离散方程组进行线性化，然后对方程组中的方程进行排序，使得他们具有一定的耦合性。该方法常用于不同模块耦合计算的物理问题，且要求每一个物理模块的雅克比系数矩阵是容易获得的。 基于低阶离散的预处理技术使用一阶雅克比矩阵作为预处理矩阵，然后用完全 LU和不完全 LU 分解(ILU)预处理线性方程组的系数矩阵。但是该方法同样需要先构造一个低阶的雅克比矩阵，然后使用 LU 分解和 ILU 分解对其进行预处理，LU 和 ILU 分解同样会浪费计算时间，降低计算效率，因此研究人员提出了使用基于半隐式离散的预处理技术。 相比于全隐雅克比矩阵，半隐雅克比矩阵中少了部分新时刻的耦合求解项，矩阵的形式以及系数矩阵的量级与全隐雅克比矩阵是相似的，且半隐数值算法中本构模型一般是显式的，雅克比矩阵也容易获得，因此可以将半隐雅克比矩阵当作全隐数值算法的预处理矩阵，这类基于物理的预处理方法常用于全隐式离散方程组的矩阵预处理。 纯代数的预处理技术需要提前写出雅克比系数矩阵，不适用于当前两流体三流场模型全隐数值算法的预处理。基于物理的预处理技术中，算子分裂的预处理技术适用于不同物理场之间的耦合求解问题，基于低阶离散的预处理技术效率较低，而基于半隐数值算法的预处理技术计算效率更高，因此在后续研究中拟使用基于半隐数值算法的预处理技术，针对两流体三流场模型的特点构造预处理矩阵。 "},"1study/relap5.html":{"url":"1study/relap5.html","title":"relap5","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 简介 参考文档 程序文件内容 编写输入卡indta 框架、标记、规律 小编辑301-399 & 变量绘图2080XXXX 标题-控制-时间100~299 Trips信号卡401-799 水力部件CCCXXXX(7位) snglvol单控制体 sngljun单接管 tmdpvol时间控制体 tmdpjun时间接管 pipe管道 mtpljun多接管 annulus环管 branch分支 separator汽水分离器 valve阀门 pump泵 热构件1CCCGXNN(以下均为8位) 热构件物性201MMMNN 总表202TTTNN 控制系统205CCCNN 中子动力学30000000-30399999 控制变量绘图2080XXXX 结束 处理报错 运行程序 新程序运行 再启动运行 strip后处理运行 重难点及杂项 实例——单管加热 rstplt&outdta变量 其他 增加终端默认宽度 为无后缀文件设置默认打开程序 一键删除并运行.bat CVF 调试工具安装 AptPlot快速绘图rstplt UltraEdit / Notepad++ 列编辑 UltraCompare对比文件夹和文件 Origin严肃画图outdta 目录 [TOC] 简介 RELAP-5是轻水堆冷却系统事故工况的瞬态行为最佳估算程序，初始由爱达荷国家实验室（INL，前身INEEL）为美国核管会（NRC）开发，用于规则制定，许可审查计算，事故减缓措施评估，操作员规程评价，和实验计划分析。 集两流体、六方程水力学、一维热传导、点堆中子动力学于一体的系统分析程序。 该程序除拥有泵、导管、阀门、喷射泵、透平、汽水分离器和控制系统部件等通用部件模型外，还包括再淹没传热、气隙导热、壅塞流、非凝气体等特殊过程模型。 该程序可用来模拟轻水堆系统的冷却剂丧失事故 (LOCA) 、丧失流量事故(LOFA)、蒸汽发生器传热管破裂事故（SGTR）、主蒸汽管道破裂事故（MSLB）等事故及某些非核的水蒸气系统的热工水力瞬态性状，是目前核电安全中物理模型较完善的大型程序之一。 常见版本： relap5-mod3.3，最常用* relap5-scdap，严重堆芯事故？不能用aptplot画图？ relap5-3d，relap5mod3系列的三维改进版，但是官方没有mod4及其后续的说法 3d和mod3系列的输入卡几乎可以通用。（除了3d的泵曲线要严格从小到大，而且临界流模型有点不同？） 参考文档 input manual，学习输入卡编写（参看 volume 2） volume 1+4，学习程序算法、数学模型、本构模型 其他：v2 部件模型，v3 模型评价，v5建模指导，v6数值计算方法验证，v7程序整体验证，v8程序结构 程序文件内容 运行程序必须有indta、Relap.exe、tpfh2onew，其他文件运行时生成。 indta， 输入卡，input data Relap.exe， 可执行程序 outdta， 输出文件，output data，包含： 输入编辑，包括输入卡原文、填充解读、高度检查、初始水力部件编辑，初始热构件编辑 原文，listing of input data for case 填充解读， 0Processing type is 控制体和接管的高度检查，Reference volumes and positions for each loop and segment for each hydrodynamic system for z coordinate direction 处理输入后的水力部件编辑，像大编辑一样输出所有变量，相当于初始条件。Edit of hydrodynamic components after input processing 处理输入后的热构件编辑，像大编辑一样输出所有变量，相当于初始条件。Edit of heat structures after input processing 成功处理了输入卡的提示，0$*8 Input processing completed successfully. 小编辑 大编辑，包括整体信息、水力控制体、水力接管、热构件、再启动编号、再淹没等 占据outdata文件内容的大部分，基本囊括了所有需要用到的信息和变量数据。0MAJOR EDIT !!!time= 0.00000 sec 整体信息，包括时间步长、运行时间、Trip卡为真时刻、堆芯功率信息等 水力部件，参数从左到右，构件编号从小上到大。0 Vol.no. pressure，0 Jun.no. from vol.。 热构件，0 HEAT STRUCTURE OUTPUT +++time= 0.00000 sec 再启动编号和再启动总结，0---Restart no. 0 written, block no. 0, at time= 0.00000 ---，以及0---Restart Summary: 41 blocks written in restart file --- 报错诊断编辑 rstplt， 再启动（和绘图）文件，restart and plot，包含所有指定时刻运行的原始非文本数据，作为再启动工况或者绘图时的输入 tpfh2onew， 水物性文件，thermodynamic property file of new light water，不带new为旧版轻水物性。 screen，运行日志，运行时shell框体输出的内容，可以用来查看库朗特限值、运行时间步长、质量误差等信息。 read_steam_comment.o，运行时读取物性生成的，没什么价值。 编写输入卡indta 框架、标记、规律 = 问题标题; title 控制选项; Control options (cards 100-199) 时间步选项; Time step options (cards 200-299) * 小编辑; Minor edits (301-399) * 绘图请求; Plot requests (20300XXY) 动作信号; Trips (400-799 or 20600000-20620000) 水力部件; Hydrodynamic components (CCCXXXX) 热构件; Heat structures (1CCCGXNN) 热构件物性; Heat structure thermal property data（201MMMNN） 通用表; General tables（202TTTNN） * 控制系统; Control system (205CCCNN or 205CCCCN); 可以算术计算、泵控制、蒸汽控制 、给水控制 * 反应堆中子动力学; reactor kinetics (30000000-30399999) * 控制绘图变量; Expanded plot variables (2080XXXX) .End of input. 类控制体部件输入顺序： 面积; 长度; 体积; 方位角; 垂直倾斜角; 高度变化; 壁面粗糙度; 水力直径; 控制体控制标记 tlpvbfe; 控制体初始条件控制标记 εbt。 此处指 snglvol, tmdpvol, pipe, annulus 四种常见控制标记 控制体控制标记 tlpvbfe t0不用热前沿追踪跟踪模型，l0不用mixture level混合物水平面追踪模型，p0使用water packing scheme水填充方案，v0不使用垂直分层模型，b0使用管道相间摩擦模型，f0沿体积的x坐标计算壁摩擦效应，e0使用非平衡(不相等温度)计算 接管控制标记 jefvcahs j0不是jet喷放接管，e0不用能量方程PV修正项，f0不用CCFL模型，v0不用水平分层夹带模型，c0开启临界流模型（choking、壅塞）（默认为Henry-Fauske模型，除非有1卡且包含50选项才是relap5模型）（ps: relap3d的0默认为自带模型，1不启用，2才是Henry-Fauske模型。故直接替换俩种程序的卡会报错，因为后面参数的个数不一致），a0光滑变截面，h0非均相流，s0同时使用来/去向部件的动量通量 接管控制标记后可跟随2个（Henry-Fauske）或3个（relap）临界流参数，省略则为默认值。（默认H-F模型，设置卡1 50后激活RELAP5模型） 临界流系数1：取决于参数6：Henry-Fauske流量系数(discharge coefficient，排放系数)默认1.0，relap5模型过冷流量系数默认1.0； 临界流系数2：Henry-Fauske热力非平衡常数默认0.14，Relap5两相流量系数默认1.0; （对于relap3d: c=0两相流量系数，c=2 热力非平衡常数） 临界流系数3：Henry-Fauske无；Relap5模型过热流量系数默认1.0；（对于relap3d: c=0过热流量系数，c2 不输入） 控制体初始条件控制标记 εbt ε ：流体类型。0/省略时为默认流体，>0对应120~129卡设定。 b：0不含硼，1含有硼。 t：热力学状态。0-3单组分，4-6双组分有不凝性气体。0【P,Uf,Ug,αg】，1【T,xs】，2【P,xs】，3【P,T】，4【P,T,xs】（xs=0.0纯不凝性气体），5【T,xs,xn】，6【P,Uf,Ug,αg,xn】。 xs平衡态静态气相质量分数， xs = Mg/(Mg + Mf)， Mg =Ms + Mn。 static quality in equilibrium condition xn平衡态不凝性气体质量分数，Xn=Mn/(Mn + Ms)。（vol1，3.1）。 noncondensable quality in equilibrium condition 接管初始条件控制标记 0/1 （1表示后面某两个参数是水、汽质量流量kg/s，0则为速度） 小编辑301-399 & 变量绘图2080XXXX minor edits Expanded Plot Variables * 变量名; 作用参数（随变量名改变，如热构件换热模式需要 CCCG0NN0X：CCCG热构件编号，NN热构件细分控制体编号，0X左边界00右边界01） * (换热模式: 0空气水，1超临界，2水，3、4核态，5、6过渡，7、8膜态，9汽，10、11冷凝。遇到再淹没+40) 301 htmode 125001300 * 20800002 htmode 125001300 标题-控制-时间100~299 写在输入卡前面的杂项 * title card 题目卡; A1.3 = Bennett 5253 * 问题类型、选项（new、restart类型有瞬态transnt/稳态stdy-st， strip有格式化输出fmtout/二进制binary） 100 new transnt * input / output units,A2.4,国际单位si， 英制单位british 102 si si * 不凝性气体种类：氩ARGON,氦HELIUM,氢HYDROGEN,氮NITROGEN,氙XENON,氪KRYPTON,空气AIR,六氟化硫SF6. 110 nitrogen * time step control card; A3.2 * 运行结束时间; 最小时间步长（>1e-6不会生效）; 最大时间步长（申请）; 控制选项（一般3即可，半隐）; *小编辑和绘图输出频率（每‘多少步*最大时间步长’输出一次）; 大编辑输出频率; 再启动文件（rstplt）输出频率 201 40.0 1.0e-7 0.01 3 1 100 100 *卡1，控制选项A2.1：50在所有启用了choking模型的接管上激活原始的RELAP5临界流模型， *而不是默认的Henry-Fauske临界流critical flow模型。 1 50 Trips信号卡401-799 Trips动作信号卡分为三类：终止运行trip卡600，变量Trips卡401-599，逻辑Trip卡601-799。 *变量Trips卡A5.3: 401-599 or 20600010-20610000 *变量; 参数（变量）; 关系运算符(lt,le,eq,ne,gt,ge，即less,than,equal,not,greater); *变量; 参数（变量）; 额外内容（+n）; 开关指示（L一开常开，N始终判断（每个时间步）） *定义布尔值401：时间大于等于1000s后永远为真1。 401 time 0 ge null 0 1000.0 l *定义450：每当控制体变量265小于等于14.0时450为真1 450 cntrlvar 265 le null 0 14.0 n * 265稳压器低水位 *定义510: 时间大于等于502为真后1.0s时，510永远为真1。 510 time 0 ge timeof 502 1.0 l * reactor trip *逻辑Trip卡A5.4: 601-799 or 20610010-20620000 *变量Trip卡号; 逻辑运算符（and和，or或，xor异或）; 变量Trip卡号; 开关指示（L一开常开，N始终判断（每个时间步）） *此处定义布尔值689，实则=非401（例如，此处用于trip阀门开关信号，小于1000s为真阀门打开） 689 -401 or -401 n *此处非450是>14%,非451是 水力部件CCCXXXX(7位) 水力部件卡号形如CCCXXXX，CCC即部件编号。 snglvol单控制体 “snglvol”单控制体，最简单的流体流通通道，在不需要分支部件和管道（可以看做单控制体和单接管的组合）部件时使用。 1450000 upplnm2 snglvol *流通面积; 长度; 体积; 方位角; 倾斜角 1450101 7.2707 1.08208 0.0 0.0 90.0 *高度变化; 壁面粗糙度; 水力直径; 控制体控制标记 tlpvbfe 1450102 1.08208 6.3e-6 0.4265 00 *控制体初始条件标记（3单组分水/蒸汽，后面是压力和温度） 1450200 3 1.55790e7 600.466 sngljun单接管 “sngljun”单接管，用来接通两个部件。 1270000 jieguan2 sngljun *来向部件; 去向部件; 面积; 正向流动能量损失系数; 逆流能量损失系数; 接管控制标记 jefvcahs; *789取决于6字段c标记（临界流模型是用的Henry-Fauske√还是relap5×，此处HF不使用9字段） 1270101 125010000 130000000 0.00012469 0.0 0.0 0 1.0 1.0 *接管初始条件标记（0则23变量是水、汽速度，1为质量流量）; 水质量流量; 汽质量流量; 界面速度 1270201 1 0.0 0.0 0.0 tmdpvol时间控制体 “tmdpvol”时间相关控制体，定义边界条件，温度、压力等参数，与snglvol的不同在于其压力温度可随时间等参数变化 1100000 inlet tmdpvol *横截面积; 长度; 体积; 水平方位角; 竖直倾斜角; 高度变化; 壁面粗糙度; 水力直径; 控制体控制标记 1100101 0.00012469 0.048 0.0 0.0 90.0 0.048 0.0 0.0 0 *控制体初始条件控制标记(εbt格式,3表示CCC0201第二三参数为压力和温度); 参数二为Trip卡号 1100200 3 * 第一参数为搜索变量（如上卡有时间trip卡时为时间，表示trip为真后多少秒）; 二三由上指定为压力和温度 1100201 0.0 6.9e6 538.98 tmdpjun时间接管 “tmdpjun”时间相关接管，定义流量边界条件，与sngljun的不同在于其流量可随时间等参数变化 1200000 jieguan1 tmdpjun * 来向部件; 去向部件; 接管面积 1200101 110010000 125000000 0.00012469 * CCC0200卡省略或第一个参数为0则CCC0201的二三参数为液、汽速度，1则为液、汽质量流量。(有参数二为Trip卡号)（有参数三为？？？） 1200200 1 * 搜索变量; 此二三参数为液、汽质量流量kg/s = 质量流密度 * 流通面积; 界面速度0.0 1200201 0.0 0.1696 0.0 0.0 *举例CCC0200有第二个参数的TDJ。（参数一为0则201二三参数为液、汽速度，参数二为Trip卡号） 5700200 0 506 *搜索变量（此为506Trip卡的真假）; 液质量流量; 汽质量流量; 界面速度0.0 *理解： pipe管道 “pipe”管道，含有1~99个子控制体，具体个数由自己定义，各子控制体之间有内部接管相连，相当于一定数量的snglvol和sngljun的集合体（CCCNN0000，CCCJJ0000 ） 1250000 guanzi pipe * 控制体数量 mtpljun多接管 “mtpljun”多接管，连接多个控制体，A9.18。包含的单接管编号为CCCJJNN00 1010000 dn1-1-2 mtpljun *接管数量; 初始条件控制字1（表示CCC1NNM中为水、汽速度，NN组号，M卡号，此处1011011） 1010001 2 1 *来向控制体; 去向控制体; 面积; 顺流能量损失系数; 逆流能量损失系数; 接管控制标记 jefvcahs，多接管jv=0 1010011 100010006 102010005 0.4893 5.0 5.0 01003 1010021 100020006 102020005 0.33 5.0 5.0 01003 *接上面CCC0NNM参数7-13，其中临界流常数789取决于上面控制字6 *临界流常数1; 常数2; 常数3; 来向控制体编号增量（用于批量定义多个接管）; 去向编号增量; 0; 接管编号。 1010012 1.0 1.0 1.0 0 0 0 1 1010022 1.0 1.0 1.0 0 0 0 2 *CCC1NNM:水、汽速度（视1010001规定） 1011011 0.0 0.0 2 annulus环管 “annulus”环管。与pipe只有两点区别：1. 必须在竖直方向流动；2. 环雾流时液相为液膜，而无液滴。(input manual A9.8) 1000000 dwcom1-1 annulus *控制体数 1000001 2 *控制体面积; 编号 1000101 0.64436 2 *接管面积; 编号 1000201 0.64436 1 *控制体长度、编号（此处为1、2两个控制体长度不一样） 1000301 1.08208 1 1.00932 2 *体积 1000401 0. 1 0. 2 *水平方位角501 *竖直倾斜角 1000601 90.0 2 *高度变化 1000701 1.08208 1 1.00932 2 *壁面粗糙度、水力直径 1000801 6.3e-6 0.3304 2 *顺、逆流能量损失系数 1000901 0.0 0.0 1 *控制体标记 tlpvbfe 1001001 00 2 *接管控制标记 jefvcahs; 环jv=0 1001101 00 1 *控制体初始条件控制标记 εbt（3单组分水/蒸汽）; 压力; 温度; （参数未使用填充0.）; 控制体编号 1001201 3 1.58162e7 565.971 0.0 0.0 0.0 1 1001202 3 1.58086e7 565.968 0.0 0.0 0.0 2 *接管初始条件控制标记 0/1（1表示301卡是水、汽质量流量kg/s，0则为速度） 1001300 1 *接管初始条件：水质量流量; 汽质量流量; 相间速度未实现0; 接管编号 1001301 120.34 0.0 0.0 1 *接管水力直径; CCFL关系式（默认0使用Wallis模型，1则Kutateladze，0-1插值）; 气体截距1.0; 斜率1.0； 接管编号 1001401 0.3304 0.0 1.0 1.0 1 branch分支 “branch”分支，最多可以有10个接管，相当于带有多个接管sngljun的单一控制体snglvol。 1060000 clgin-1 branch *接管数4; 接管初始条件控制标记（决定CCCN201：0速度，1质量流量） 1060001 4 1 *面积; 长度; 体积; 方位角; 垂直倾斜角; 高度变化; 壁面粗糙度; 水力直径; 控制体控制标记 1060101 0.0 1.0439 0.8202 0.0 -90.0 1060102 -1.0439 6.3e-6 0.4008 00 *工质初始条件εbt=003单组分蒸汽/水（后面两个参数是PT）; 压力; 温度。 1060200 3 1.57999e7 565.965 *入口面; 出口面; 分支面积; 顺流能量损失系数AF; 逆流能量损失系数AR; 接管控制标记 jefvcahs分支j=0 1061101 250020002 106010001 0.3832 0.28 0.28 0000 1062101 106010001 100010001 0.0 0.0 0.0 0000 1063101 106010002 112010001 0.0 0.0 0.0 0000 1064101 106010006 108010005 0.5065 5.0 5.0 0000 *接管水力直径; CCFL关系式（默认0使用Wallis模型，1则Kutateladze，0-1插值）; 气体截距1; 斜率1 1061110 0.6985 0.0 1.0 1.0 1062110 0.4522 0.0 1.0 1.0 1063110 0.4902 0.0 1.0 1.0 1064110 0.0 0.0 1.0 1.0 *接管初始条件：液、气相质量流量（取决于CCC0001）; 界面速度。 1061201 4813.0 0.0 0.0 1062201 120.40 0.0 0.0 1063201 4692.6 0.0 0.0 1064201 0.0 0.0 0.0 separator汽水分离器 “separatr”汽水分离器，特殊分支，模拟蒸汽发生器里的汽水分离器 5250000 separat1 separatr *接管数=3; 接管初始条件控制标记（决定201参数：0速度，1质量流量。N即3个接管：1出口蒸汽2出口水3入口） 5250001 3 0 *面积; 长度; 体积; 方位角; 垂直倾斜角; 高度变化; 壁面粗糙度; 水力直径; 控制体控制标记 5250101 3.2973 2.3302 0.0 0.0 90.0 2.3302 5250102 6.3e-6 0.532 0000 *控制体初始条件εbt=000单组分蒸汽/水（后面4个参数是P,Uf,Ug,αg）; 压力; 液相内能; 气相内能; 空泡份额。 5250200 0 6.727480e6 1.24432e+06 2.58406e+06 0.75684 *出口蒸汽接管CCC1 *入口面; 出口面; 分支面积（0取相邻控制体的最小面积）; 顺流能量损失系数(AF); 逆流能量损失系数(AR); *接管控制标记 jefvcahs 汽水分离器jefv=0; *空泡份额限制（默认蒸汽接管0.5，水0.15，入口无。入口(?)大于此值则出口为纯蒸汽、纯水） 5251101 525010000 530000000 0.0 10.0 10.0 1100 0.50 *初始水、汽、相间速度0（取决于CCC0001） 5251201 -.28341 4.6902 0.0 *出口水接管CCC2、入口接管CCC3同上 5252101 525000000 505000000 0.0 5.0 5.0 1100 5252201 .52712 -4.9013 0.0 5253101 522010000 525000000 0.0 17.5 17.5 1100 5253201 1.7818 6.6357 0.0 valve阀门 “valve”阀门，特殊接管，模拟六种不同类型的阀门及其动作 1360000 blpval valve *阀门来向组件; 去向组件; 面积; 前向能量损失系数A_F; 逆流能量损失系数A_R; 接管控制标记 jefvcahs 阀门j=0 1360101 260010001 212000000 1.60055e-3 0.0 0.0 0100 *接管初始条件控制标记（此处1，此后两参数为流量，0则为速度）; 初始液相流量; 初始气相流量; 界面速度0. 1360201 1 0.00 0.00 0. *阀门类型（CHKVLV 止回阀Check; TRPVLV 跳闸阀Trip; INRVLV 惯性旋启式止回阀Inertial swing check; *MTRVLV 电动阀Motor; SRVVLV 伺服阀Servo; RLFVLV安全阀Relief） 1360300 trpvlv *Trip阀的开关信号卡编号（在Trips卡中定义为布尔值，例如小于1000s，阀门打开） 1360301 689 *其他类型：电动阀，如稳压器安全阀 2770300 mtrvlv *开启的Trip信号卡编号; 关闭的Trip卡号; 阀门开（关）变换速率（s^-1，此处无参数5，指归一化面积变化率， *（有参数5则指阀杆位置; 若输入参数6指开启时归一化面积变化率）; *初始位置（无5指面积，有5指阀杆位置）; *（参数5是阀门表编号，参数6阀门关闭速率） 2770301 683 685 0.6667 0.0 pump泵 “pump”泵，模拟泵及其动作 2350000 rcppump2 pump *面积; 长度; 体积; 水平方位角; 竖直倾斜角; 高度变化; 控制体控制标记 tlpvbfe 2350101 0.0 1.685 3.039 0.0 0.0 2350102 0.0 00000 *入口、出口控制体面; 面积; 正向能量损失系数; 逆流能量损失系数; 接管控制标记 jefvcahs 2350108 230060002 0.486945 0.0 0.0 0000 2350109 240010001 0.3832 0.146000 0.118000 0000 *控制体初始条件控制标记 εbt（3表示单组分水/蒸汽，用后面两参数压力、温度; 压力; 温度 2350200 3 1.55025e7 565.852 *入口、出口接管初始条件控制标记（0速度1流量）; 水流量; 汽流量; 相间速度未实现0 2350201 1 4813.00 0.0 0.0 2350202 1 4813.00 0.0 0.0 *泵单相数据表标记（0本组件给出单相表，正整数使用该编号代表的泵数据，-1Bingham泵，-2西屋泵）; *两相系数表索引（-1无两相，>=0同上）; 两相扬程差difference表索引（-3无，>=0同上）; *电机扭矩表索引（-1无，>=0同上）; 时间相关速度索引（-1无，>=0同上）; *泵Trip卡编号（trip为真时断电！）; 逆流标记（0不允许，1允许） 2350301 0 0 0 -1 -1 411 0 *1额定转速rated pump velocity; 2初始转速因子（初值除以额定）; 3额定流量; 4额定扬程head; 5额定扭矩torque; 2350302 157.0795 1.0 6.344444 96.228 37300.0 *6转动惯量moment of inertia; 7额定密度; 8额定电机扭矩（非零输入泵电机扭矩表，0由初始转速和泵扭矩计算）; *9TF2摩擦扭矩系数（将真实转速与额定的比值乘以second power）; 10TF0摩擦扭矩系数（定值）; 2350303 3800.0 742.0 0.0 120.0 0.0 *11TF1摩擦扭矩系数; *12TF3摩擦扭矩系数; （将真实转速与额定的比值乘以first、third power） 2350304 2500.0 0.0 *单相扬程曲线：曲线类型（1扬程2扭矩）; 曲线区域; 自变量（-1~0或0~1）; 因变量 2351100 1 1 0.0 1.84 0.1 1.74 0.2 1.64 0.3 1.55 2351101 0.4 1.46 0.5 1.38 0.6 1.32 0.7 1.26 2351102 0.8 1.19 0.9 1.1 0.95 1.05 0.98 1.02 2351103 1.0 1.0 *内容太多写不下曲线区域2~6。 *更多曲线与之类似，参考输入手册A9.17.16, page 208：单相扭矩曲线、两相扬程因子曲线、 *两相扭矩因子曲线、两相水头差（head扬程,difference）曲线、两相扭矩差曲线。 热构件1CCCGXNN(以下均为8位) 热构件（A10，1CCCGXNN）：CCC是热构件编号，一般与水力部件相同，G几何编号用来区分接触同一水力控制体的不同热构件，X卡类型，NN该类型卡的编号 疑问：cpr1000全厂卡模拟中，堆芯通道热构件的写法与以下内容不一致。 11300000等的左边界坐标写成0.0。 10322501的表面积（热构件控制体长度）与以下相同，即控制体长度。但是，接触同一个水力控制体的另一个热构件的10321501卡，却在其他写法几乎完全相同的条件下，将该参数写作换热面积！11300501等热构件也是。 * 常见数据1CCCG000：轴向控制体数量（一般=水力部件控制体数）; 径向网格点数; *几何类型（1矩形体2圆柱3球形）; 稳态初始化标记（0温度由1CCCG401-499给定，1程序计算）; *左边界坐标（模拟管则为内径）; 再淹没条件标记（0无不填78字段，trip卡号启动，1控制体平均p0.9，20.1) *再淹没边界(0左1右); 最大细分轴向间隔数(2, 4, 8, 16, 32, 64, or 128） 11250000 40 5 2 0 0.0063 502 0 64 * 气隙gap初始压力; 气隙导热conductance参考控制体 11250001 7.869e6 125400000 * 燃料表面粗糙度; 包壳表面粗糙度；由于裂变气体引起的燃料膨胀和致密化导致的径向位移；由于包壳蠕变导致的径向位移；热构件编号 12310011 1.0e-6 2.0e-6 0.0 0.0 40 * 网格位置标记（0则在1CCCG101~201填网格信息，否则同该编号热构件且以下不用填); *网格格式标记(1/2为卡1CCCG101-G199格式一/二，参数一是0时填写) 11250100 0 1 * 此为格式一：间隔interval数（网格点数-1）; 右坐标（模拟管则为外径）。格式二：网格间隔长度; 间隔编号 11250101 4 0.0083 * 构件成分201：材料编号（绝对值是201MMM00卡中的MMM，此处为20100500）; 间隔编号 11250201 5 4 * 热构件源项分布301：源项分布相对值（网格全1即平均分布）; 网格间隔编号 11250301 1.0 4 * 初始温度; 网格点编号 11250401 538.98 5 * 左、右边界条件501、601：边界相邻水力控制体/通用表编号的负值; *增量（一般10000，对应控制体12501/2/3/.../40）; *边界条件类型（0对称/绝热，1/1nn对应多种对流边界，1xxx查总表xxx左/右边界温度，2xxx热流密度，3xxx对流系数随时间变化表，4xxx对流系数随壁面温度变化表）; *表面积标记（决定后面参数5，0左表面积，1矩形体表面积/圆柱体高度/球形份额）; *表面积（热构件控制体等效长度:可以将堆芯通道的成百上千根热构件等效equivalent为一个超长的热构件，）/系数; 热构件编号 11250501 125010000 10000 1 1 0.1385 40 11250601 0 0 0 1 0.1385 40 * 热源类型（0无，1~999为TTT查总表202TTTNN，1000~1002中子动力学，参见30，10001~14095热源是控制变量，序号减10000得到ccc,查表205CCCNN); *内热源乘子(轴向峰值因子可在该处输入，作用于参数一指明的功率); *左边界慢化剂直接加热乘子（卷2节3.3）; 右边界慢化剂直接加热乘子; 热构件编号 11250701 975 1.0 0.0 0.0 40 * 其他左、右边界条件801、901：热当量直径; 向前加热长度（加热起始到板中心的距离，大于10入口段影响小）; *回流加热长度（同理出口）; 向前定位架长度; 回流定位架长度; 定位架向前损失系数; 定位架回流损失系数; *局部沸腾因子（=局部热流密度/沸腾开始后的平均热流密度，若无热源/局部平衡态含汽量 热构件物性201MMMNN 热构件热物性，A12，201MMMNN * 热构件热物性，A12，201MMMNN * 热构件材料成分类型，201MMM00 卡，内置碳钢C-STEEL，不锈钢S-STEEL，二氧化铀UO2和锆ZR 20100500 c-steel * 也可以使用用户自定义表/函数，tbl/fctn，此时需要参数二三和201MMM01-49; (大写可能报错) *热导率格式标记/gap 摩尔份额标记（1输入表，2函数，3包含气体组分名和摩尔份额的表）; *体积热容标记（-1表只有热容，温度可以从热导率表对应，1输入包含温度、体积热容的表，2函数） *20100500 tbl/fctn 1 1 ** AISI 304 e/L 不锈钢：温度（K）; 热导率（W/m•K） *20100501 0.3 14.88 *20100502 343. 14.88 *20100503 373. 15.05 ** AISI 304 e/L 不锈钢：温度（K）; 体积热容 (J/m^3/k) *20100551 0.3 8.51e6 *20100552 343. 8.51e6 *20100553 373. 8.53e6 总表202TTTNN 总表数据A13，202TTTxx，TTT为查询编号。 * 表类型（POWER功率随时间变化，HTRNRATE热流密度-t，HTC-T传热系数-t，HTC-TEMP传热系数温度-t， *TEMP温度-t，reac-T 反应性随着时间/控制系统变量，NORMAREA 阀门归一化面积随阀杆位置） 20297500 power * 时间; 功率（W，英制单位则为MW）（注意！！！功率是给热构件的这个控制体的，=功率密度*pi*内径*控制体高度） 20297501 0.0 4.973e3 20297502 5000.0 4.973e3 控制系统205CCCNN *名称; 控制类型（SUM, MULT, DIV等）; 缩放系数S; 初值; 初值标记（0无初值，计算用参数4; 1计算得初值条件） 20501600 avgtemp sum 0.5 0.0 1 *sum和类型：Y=S*(A0+A1*V1+A2*V2+...+Aj*Vj)。 *其中Y是最终结果，S是缩放系数; A是自定义常数; V是变量值。此处计算了平均温度。 *常数A0; 常数A1; 变量V1的名称; 变量V1的控制体编号 20501601 0.0 1.0 tempf 215010000 *常数A2; 变量V2的名称; 变量V2的控制体编号 20501602 1.0 tempf 225010000 *tripunit类型：Y=S*T1。T1是 ±(Trip卡号代表的布尔值)，负号在前则取括号内的非值)。 *同上 20573000 msrv tripunit 1.0 0.0 0 *±Trip卡编号 20573001 730 *mult乘类型：Y=S*V1*V2*...*Vj 20551000 sm500 mult 22.7026 0.0 1 20551001 voidg 500010000 rhog 500010000 *div除类型：Y=S/V1 或者 Y=S/V1*V2 20549500 sgcr-c div 1.0 0.0 1 20549501 mflowj 737000000 mflowj 715000000 *function函数类型：Y = S*f(V1)。f()函数在总表中定义，用于使用查表、插值函数、设置限值 20546200 sglev1 function 1.0 0.0 1 *变量V1的名称; 变量V1的控制体编号; 函数f()的总表卡号 20546201 cntrlvar 460 460 *stdfunc标准函数类型：Y = S*f(V1,V2,...)。如ABS,MIN,MAX,SQRT,EXP,LOG,SIN,COS,TAN,ATAN(即arctan)。 20540000 PCT1 stdfnctn 1.0 0.0 0 0 *函数名; 变量V1的名称; 变量V1的控制体编号; （V2名称; V2控制体编号; ...） 20540001 max httemp 130000109 + httemp 130000209 + httemp 130000309 中子动力学30000000-30399999 用于模拟反应堆的裂变、衰变等核反应。 稳态卡不要加上反馈？（初始条件离稳态差距过大时可能导致堆型功率并非预期的满功率） 模拟双端断裂等的工况时，急速降压会导致堆芯闪蒸，慢化剂密度反馈使堆芯功率骤降。 *中子动力学类型（只有点堆）; 反应性反馈类型（默认seperabl，独立看待慢化剂密度、空泡权重的慢化剂温度、燃料温度的反馈） 30000000 point separabl *裂变产物的衰变类型（no-gamma不计算，gamma标准裂变产物衰变计算，gamma-ac裂变产物衰变+锕系元素衰变）; *总反应堆功率（裂变+裂变衰变+锕系元素衰变）; 初始反应性; *缓发中子份额over 瞬发中子generation time (s-1).; *裂变产物yield因子; U239 yield因子; 30000001 gamma-ac 2.9529e9 0.0 241.9354 1.2 1.0 *裂变产物类型ANS73,ANS79-1,ANS79-3; 每次裂变反应释放的能量（默认200 MeV/fission）; （其他类型见手册） 30000002 ans73 200.0 *缓发中子precursor yield ratio(1~50组); 缓发中子衰变常数（s^-1） 30000101 0.030530 0.0125 30000102 0.205070 0.0308 30000103 0.189070 0.1147 30000104 0.395470 0.3102 30000105 0.134530 1.2316 30000106 0.045330 3.2855 *反应性曲线总表卡号（0~999）/控制变量的卡号（>10000，查找时应该减去10000） 30000011 904 *慢化剂密度反馈：密度（线性插值，若范围超出最后数据点用最后的数据）; 反应性（dollar）。 *(此卡需要反应性反馈类型为seperabl，且30000701~709卡有输入) 30000501 100. -26.95906667 30000502 300. -6.137333333 30000503 500. -0.4472 30000504 600. 0.164533333 30000505 700. 0. *堆芯燃料温度反馈（多普勒反应性表）：温度; 反应性。(此卡需要反应性反馈类型为seperabl，且30000801~899卡有输入) 30000601 473.15 3.44756 30000602 973.15 0.34756 30000603 1073.15 -0.27244 30000604 2873.15 -11.43244 *水力部件控制体编号; 编号增量; 密度反馈权重因子; 水温度系数(dollars/K, dollars/℉) ** vol.no incre weig,f temp.coef 30000701 130010000 0 0.100000 0.0 30000702 130020000 0 0.100000 0.0 30000703 130030000 0 0.100000 0.0 30000704 130040000 0 0.100000 0.0 30000705 130050000 0 0.100000 0.0 30000706 130060000 0 0.100000 0.0 30000707 130070000 0 0.100000 0.0 30000708 130080000 0 0.100000 0.0 30000709 130090000 0 0.100000 0.0 30000710 130100000 0 0.100000 0.0 *热构件编号; 编号增量; 多普勒反馈权重因子; 燃料温度系数(dollars/K, dollars/℉) ** st-no incre weig.f temp.coef 30000801 1300001 0 0.100000 0.0 30000802 1300002 0 0.100000 0.0 30000803 1300003 0 0.100000 0.0 30000804 1300004 0 0.100000 0.0 30000805 1300005 0 0.100000 0.0 30000806 1300006 0 0.100000 0.0 30000807 1300007 0 0.100000 0.0 30000808 1300008 0 0.100000 0.0 30000809 1300009 0 0.100000 0.0 30000810 1300010 0 0.100000 0.0 控制变量绘图2080XXXX Expanded plot variables () 结束 以英文句号.结束，后面的内容其实不会读入 .End of input. 处理报错 如果成功运行，会在outdta最后输出0Transient terminated by end of time step cards.，否则会输出0******** Transient terminated by failure. 或者0******** Errors detected during input processing.。 在outdta文件中搜索0********，找到第一个报错的位置。 常见报错如，（一些报错减小最大时间步长即可解决，如改为0.001s） CVF build程序链接错误，需要重新打开dsw文件后build。（复现：调试时 shift + F5强行终止程序，然后修改后build。）（采取操作可避免：如果离报错不久，可以F5让他正常运行至报错退出）——LINK : fatal error LNK1104: cannot open file \"Debug/Relap.exe\" Error executing link.exe. 直接运行exe时闪退且无报错信息，CVF软件调试运行时才出现报错——run-time error M6201: MATH - exp: DOMAIN error ：程序某处exp(x)函数的参数x超出定义域 。 思路是：首先定位时间，再定位本构，最后定位位置和错误的代码行。 调试时监视时间，记录出错时的时间，在例如hydro之类的主干程序上设置if语句，从而定位到该时刻。 逐行运行，找到出错的被调用的本构程序。遇到循环时监视循环变量，逐次循环找到出错的循环（一般是某个控制体） 依此循环操作。 修改并生成程序后调试未删除outdta等文件：报错Loaded 'APP01.EXE', no matching symbolic information found. 水力部件名超过8 个字符：0******** Unrecognizable card number.，0******** Component type 9O on card 1100000 is illegal. ，0******** Data for component 110 cannot be processed. ，水力部件名不得超过8 个字符。 无法识别Tab键：0******** Unable to determine processing type on card 100, no further processing possible.，RELAP输入卡中的tab符号无法被识别，使用空格替代。 环路高度不闭合：******** Closure by junction 100030000 shown below is incorrect, position from loop is 0.00000 0.00000 0.00000 .，如果闭合环路中的同一个控制体计算的高度相差大于0.0001m，则程序会提示环路高度不闭合。 outdta文件的输入编辑部分也有输出高度检查信息，形如1 Reference volumes and positions for each loop and segment for each hydrodynamic system for z coordinate direction。 生成的文件过大：再启动rstplt等文件写入超过2GB会闪退。增大再启动输出间隔即可。报错forrtl: 试图将文件指针移到文件开头之前 forrtl: severe (38): error during write,unit 13，file C:\\xxx\\rstplt 运行程序 新程序运行 开始新的计算前需要删除已计算的数据，outdta 和 rstplt，然后双击relap5.exe。运行结束后会生成新的outdta 和 rstplt文件。 再启动运行 开始再启动计算（即，在之前的计算结果的基础上继续计算）前需要先备份outdta 和 rstplt文件，然后删除indta和outdta，但保留rstplt文件，再新建一张名为indta的再启动输入卡文件。 再启动卡填写：在100卡参数一填restart，103卡填再启动编号（-1表示最终时刻）。每个再启动编号都对应着一个时刻，再启动计算在此时刻之后继续。需要在原来的new问题输入卡中的201-299卡的最后一个（第七个）参数中设置再启动的输出频率。 再启动编号：可以在outdta最后找到再启动汇总信息，0---Restart Summary: 41 blocks written in restart file ---。也通过在outdta文件中搜索restart在每个时刻大编辑输出的最后看到。如 0---Restart no. 1467 written, block no. 4, at time= 4.00131 ---，表示4.00131 s 的再启动编号为1467。 *问题类型、选项（new、restart类型有瞬态transnt/稳态STDY-ST，strip有格式化输出fmtout/二进制binary） 100 restart transnt *输入检查（run直接运行，inp-chk检查并处理完输入卡就停止） 101 run *再启动编号（new类型不能用; -1表示最终时刻; 其他编号从outdta中找） * 103 -1 *结束时间，最小时间步，最大时间步，控制字，小编辑频率，大编辑频率，再启动频率 0000201 1500.0 1.0e-10 0.01 3 100 1000 100 .end of input strip后处理运行 参考vol 2，sec 8.4。 开始strip 卡计算输出所需参数前，类似再启动，也需要先备份outdta 和 rstplt文件，然后删除indta和outdta，但保留rstplt文件（从中读数据后处理），再新建一张名为indta的strip后处理输入卡文件。运行relap.exe后输出stripf文件，其输出频率就是小编辑和绘图频率。需要原来的new问题输入卡中的201-299卡中的第5个参数中设置。 = Strip from SFP 100 strip fmtout * 对于strip输入卡，103卡再启动号必为0 103 0 *==================Parameters============= * 变量代码，参数。例如p表示控制体压力; cntrlvar表示后面控制体的控制变量，在控制系统205CCCNN中定义 1001 p 260010000 *稳压器压力，260稳压器部件的第一个控制体的压力变量 1002 cntrlvar 260 *控制变量的编号，260在输入卡中定义为稳压器液位 .end of input 重难点及杂项 需要注意的点（从新到旧，从难到易）： relap3d再淹没写法不一样。3.3默认Henry-Fauske临界流模型，加卡11 50才能 3d如果遇到问题。（终端停住：在某时刻不输出信息也不闪退，此时outdta和rstplt文件不更新程序计算结果，也不报错；终端空转：显示在继续计算，但outdta和rstplt文件不再更新程序计算结果；） 考虑一下解决方案： 100卡的问题类型可以从new改为newath，用的是新物性包。（或许可以解决某些问题） 写再启动卡，进行再启动计算。 可以改小时间步长和输出频率等 把小编辑的输出频率改小，例如100 把时间步长改小！ 动量方程的控制体 relap5的动量方程的控制体是相邻控制体各占一半，与质量、能量方程不同。 所以可以看到大编辑中速度、阻力系数等出现在接管变量部分，而空泡份额、压力、内能等则在控制体变量部分。 一般边界条件是流量入口和压力出口： 入口一般设置为tmdpvol+tmdpjun。其中，tdv提供由压力和温度计算的密度，tdj提供速度，相乘得到流量入口条件。两相tdv还提供空泡份额。 出口设置为sngljun+tmdpvol 。sj没用，tdv提供 入口tmdpvol+sngljun应该是压力入口。 时间步控制卡201中的输出频率，是指每隔多少时间步输出一次。 参考控制体： 用于程序中高度计算的基准，在 120 -129卡指定将其控制体中心设置为某一高度。 如120 280010000 0.0 h2o，指定28001控制体为参考控制体，其中心高度为0，系统工质为轻水。 没有指定则默认控制体编号最小的为参考控制体。 接管连接控制体的两种写法： （输入手册A9，P51第二段）传统是偷懒只写出待连接组件的01出口/00进口（注意面的区别）。 建议写法是详细给出待连接组件的控制体的面，更好理解。 如接管要连接110010000 125000000，建议写成 110400002 125010001。即，传统的写法：连接110组件和125组件的出口面01入口面00; 建议写法：连接110组件第40控制体的出口面2和125组件01控制体的入口面1。 控制体和接管的位置坐标： 控制体是RELAP5的基本计算单元，是用于搭建具体装置的基本单元。控制体的坐标设置在控制体的几何中心。 接管用于连接控制体。而接管的坐标设置在两个控制体的连接处，实际上无实体。 控制体的方向与面： x方向始终是流动方向，面1、2始终是流体的进、出口 水平控制体：x、y、z方向分别对应笛卡尔坐标系的x、-y、z方向。face 1左2右（3前4后5下6上）。 竖直控制体：x、y、z方向分别对应笛卡尔坐标系的z、-x、-y方向。face 1下2上（3前4后5右6左）。 热构件的左右边界：左/右边界表示”内/外侧“。例如常用的圆柱/圆环柱，可以分别模拟加热棒和管壁，其左边界就是加热棒的中轴线、管子的内壁面。 0和0.0代表默认值。 注释用*或者$，终止符为点号.。 输入卡每行不得超过80字符。但是在下一行的行首使用加号 + 就可以继续写。 数据类型要对应。 特别是要求输入real浮点数类型的时候不要输入整数（50.正确，50错误）。 输入卡的数据类型分三种：整数integer，浮点数real和含有字母数字的alphanumeric。 连续扩充格式简化输入。 例如，125的pipe部件有40个控制体，1250101 0.1 20，1250102 0.2 40中的参数分别代指卡号、控制体面积、控制体编号，可以表示前20个控制体的面积都是0.1，21~40的控制体面积都是0.2。 实例——单管加热 单管加热Bennett 干涸后传热工况简介： 计算40s，步长0.01s，每步一组绘图数据点，每秒输出一次（大编辑），每秒保留一次再启动数据。 水经过一段长为5.54m、内径6.3e-3 m，面积1.2469e-4 m^2的管道加热后竖直向上流动，加热功率4.973e3 W。 管内水力构件和管壁热构件都沿轴向均分为40个控制体。 边界条件：入口6.9 MPa，538.98 K，速度0.1696 m/s; 出口6.9 MPa，538.98 K。 初值条件：管道内6.9 MPa，538.98 K，管壁538.98 K。 输入卡 = Bennett 5253 * 问题类型、选项（new、restart类型有瞬态transnt/稳态STDY-ST， strip有格式化输出fmtout/二进制binary） 100 new transnt * input / output units,A2.4,国际单位si， 英制单位british 102 si si * time step control card; A3.2 * 运行结束时间; 最小时间步长（>1e-6不会生效）; 最大时间步长（申请）; 控制选项（一般3即可，半隐）; *小编辑和绘图输出频率（每多少步输出一次）; 大编辑输出频率; 再启动文件（rstplt）输出频率 201 40.0 1.0e-7 0.01 3 1 100 100 * minor edits * * boundary volume CCC=110 1100000 inlet tmdpvol *横截面积; 长度; 体积; 水平方位角; 竖直倾斜角; 高度变化; 壁面粗糙度; 水力直径; 控制体控制标记 1100101 0.00012469 0.048 0.0 0.0 90.0 0.048 0.0 0.0 0 *控制体初始条件控制标记; εbt格式; 3表示CCC0201第二三参数为压力和温度。 1100200 3 * 第一参数为搜索变量（如时间）; 二三由上指定为压力和温度 1100201 0.0 6.9e6 538.98 * tdj ccc = 120 1200000 jieguan1 tmdpjun * 来向部件; 去向部件; 接管面积 1200101 110010000 125000000 0.00012469 * CCC0200卡省略或第一个参数为0则CCC0201的二三参数为液、汽速度，1则为液、汽质量流量。(参数二为Trip卡号)（参数三为？？？） 1200200 1 * 搜索变量; 此二三参数为液、汽质量流量kg/s = 质量流密度 * 流通面积; 界面速度0.0 1200201 0.0 0.1696 0.0 0.0 * pipe CCC=125 1250000 guanzi pipe * 控制体数量 rstplt&outdta变量 参见input manual A4小编辑部分 变量缩写 解释............................. 备注 acqtank 安注箱内向气相传热总能 Total energy transport to the gas by heat and mass transfer in the accumulator (W, Btu/s). acrhon 安注箱不可凝气体密度 Accumulator noncondensable density (kg/m^3 , lb/ft^3 ). acttank 安注箱平均壁温 Mean accumulator tank wall metal temperature (K, ℉). acvdm 安注箱* 气相体积 Gas volume in the accumulator tank, standpipe, and surge line (m^3 , ft^3 ). acvliq 安注箱* 液相体积 Liquid volume in the accumulator tank, standipipe, and surge line (m^3, ft^3) boron 硼浓度 Spatial boron density, ρb (kg/m^3, lb/ft^3). count 时间步计数 Current attempted advancement count number. cntrlvar 控制变量 cputime CPU 时间 Current CPU time for this problem (s). dt 当前时间步长 Current time step (s). dtcrnt 当前库朗特数时间步长 Current Courant time step (s). emass 质量误差 Estimate of mass error in all the systems (kg, lb). fij 相间摩擦的系数 (N-s2/m5) floregflow regi 流型1 Flow regime number; the parameter is the volume number. A chart showing the meaning of each number is shown in Volume II, page 14High mixing bubbly, CTB, 1High mixing bubbly/mist transition CTT 2High mixing mist CTM 3Bubbly BBY 4Slug SLG 5Annular mist ANM 6Mist pre-CHF MPR 7Inverted annular IAN 8Inverted slug ISL 9Mist MST 10Mist post-CHF MPO 11Horizontal stratified HST 12Vertical stratified VST 13Level tracking LEV 14Jet junction JET 15ECC mixer wavy MWY 16ECC mixer wavy/annular mist MWA 17ECC mixer annular mist MAM 18ECC mixer mist MMS 19ECC mixer wavy/slug transition MWS 20ECC mixer wavy-plug-slug transition MWP 21ECC mixer plug MPL 22ECC mixer plug-slug transition MPS 23ECC mixer slug MSL 24ECC mixer plug-bubbly transition MPB 25ECC mixer bubbly MBB 26 fjunft 顺流不可逆的总形状损失系数 Total form loss coefficient for irreversible losses, forward fjunrt 逆流不可逆的总形状损失系数 Total form loss coefficient for irreversible losses, reverse formfj 液相形状损失系数 formgj 气相形状损失系数 fwalfj 液相壁面摩擦的系数 fwalgj 汽相壁面摩擦的系数 Gamma.boil 蒸发总速率 Hif.liq.int 衡量相间传热的系数，液相 (Watts/m3-K) Hig.vap.int 衡量相间传热的系数，汽相 (Watts/m3-K) htchf 临界热流密度 Critical (maximum) heat flux (W/m^2, Btu/s•ft^2). htchfr 临界热流密度比率 Critical heat flux ratio (ratio of HTCHF to HTRNR). hthtc 传热系数 Heat transfer coefficient (W/m^2•K, Btu/s-ft^2•℉). htrnr 热流密度（热通量) Heat flux (W/m^2, Btu/s•ft^2). httemp 网格点温度 Mesh point temperature (K, ℉). htvat 热构件体积平均温度 Volume averaged temperature in the heat structure (K, ℉). jun.area 接管面积 junction area jun-flag 接管控制标记 junction control flag (jefvcahs) j0不是jet喷放接管，e0不用能量方程PV修正项，f0不用CCFL模型，v0不用水平分层夹带模型，c0开启壅塞choking模型（临界流？无1卡/1卡无50选项则为Henry-Fauske模型，否则是relap5模型），a0光滑变截面，h0非均相流，s0同时使用来/去向部件的动量通量 跟随3个临界流参数 临界流常数1（取决于参数6：Henry-Fausk耗散常数discharge默认1.0，relap5模型过冷耗散常数默认1.0）; 临界流常数2（Henry-Fausk未使用此值0.0，Relap5过热耗散常数默认1.0）; 临界流常数3（Henry-Fausk热力非平衡常数默认0.14，Relap5模型默认1.0）; Mass.flux 质量流密度 (kg/sec-m2) mflowjmass flow 总质量流率 Combined liquid and vapor flow rate (kg/s, lb/s). p 压力 Volume pressure (Pa, lbf/in2). pmphead 泵扬程（水头） Pump head in the pump component (Pa, lbf/ in2). pmptrq 泵扭矩 Pump torque in the pump component (N•m, lbf•ft). pmpvel 泵转速 Pump rotational velocity in the pump component (rad/s, rev/min) q 气液壁面总热源 Total volume heat source from the wall and direct moderator ( 慢化剂 ) heating to liquid and vapor (W, Btu/s). This variable request is the same as “Q.wall.tot.” in the major edits. qualaquality non-cond. 不可凝气体质量份额（气体中不可凝的占比） Volume noncondensable mass fraction. The ratio of the mass of the noncondensable gas to the total mass of the vapor phase. qualaj 接管不可凝气体质量份额 Junction noncondensable mass fraction. qualequality mix-cup 热平衡含气率 Volume equilibrium quality. This quality uses phasic enthalpies and mixture quality, with the mixture enthalpy calculated using the flow quality. qualsquality static 静态含气率 Volume static quality. qwgQwg.wall.gas 气相壁面总热源 Volume heat source from the wall and direct moderator heating to vapor (W, Btu/s). This variable request is the same as “Qwg.wall.gas.” in the major edits. Qwg.wall.total 壁面总热源 reac 总反应性反馈 reactivity feedback total (dollars). This is the sum of reacm, reacrb, reacs, and reactf. reacm 慢化剂密度总* 反应性反馈=密度+温度 reactivity feedback total from moderator density changes (dollars). This is the sum of reacrm and reactm. reacrb 硼浓度反应性反馈 reactivity feedback from boron density changes (dollars). reacrm 慢化剂密度反应性反馈 reactivity feedback from moderator density changes (dollars). reacs 紧急停堆曲线反应性反馈 reactivity feedback from scram curve (dollars). reactf 燃料温度反应性反馈 reactivity feedback from fuel temperature changes (dollars). reactm 慢化剂温度反应性反馈 reactivity feedback from moderator temperature (spectral) changes (dollars) Reynolds liquid / vapor 液/汽雷诺数 rho 混合密度 Total density (kg/m^3, lb/ft^3). rho-boron 硼浓度 rhof 液相密度 Liquid density ρf (kg/m^3, lb/ft^3). rhofj 接管液相密度 Junction liquid density (kg/m^3, lb/ft^3). rhog 气相密度 Vapor density ρg (kg/m^3, lb/ft^3). rhogj 接管气相密度 Junction vapor density (kg/m^3, lb/ft^3). rho-mix 混合平均密度 rkfipow 裂变功率 Reactor power from fission (W). rkgapow 总衰变功率=锕系+裂变产物 Reactor power from decay of fission products and actinides (W). rkpowa 锕系元素衰变功率 Reactor power from decay of actinides (W). rkpowk 裂变产物衰变功率 Reactor power from decay of fission products (W). rkreac 反应性 Reactivity (dollars). rkrecper 反应堆周期的倒数 Reciprocal period (s-1).period：反应堆周期，即堆内中子密度变化e倍所需时间。 rktpow 反应堆总(热)功率=裂变+衰变 Total reactor power, i.e., sum of fission and decay powers (W). sattempsatt-part 饱和温度（基于蒸汽分压） Volume saturation temperature based on the partial pressure of steam (K, ℉). sounde 声速 Volume sonic velocity (m/s, ft/s). tempf 液相温度 Volume liquid temperature Tf (K, ℉). tempg 气相温度 Volume vapor temperature Tg (K, ℉). throat ratio 喉部接管面积比 喉部面积/接管面积（v2p25, 26） time 模拟物理时间 Time (s). tmass 系统总质量 Total mass of water, steam, and noncondensables in all the systems (kg, lb). uf 液相比内能 Liquid specific internal energy (J/kg, Btu/lb). ufj 接管液相比内能 Junction liquid specific internal energy (J/kg, Btu/lb). ug 气相比内能 Vapor specific internal energy (J/kg, Btu/lb). ugj 接管气相比内能 Junction vapor specific internal energy (J/kg, Btu/lb). vapgenVapor.gen 蒸发净总速率 Total mass transfer rate per unit volume at the vapor/liquid interface in the bulk fluid for vapor generation/condensation and in the boundary layer near the wall for vapor generation/condensation (kg/m^3 •s, lb/ft^3 •s). velfvel-liquid 液相速度 Volume oriented liquid velocity (m/s, ft/s); the parameter is the volume number plus F. velfjliq.j.vel 接管液相速度 Junction liquid velocity (m/s, ft/s). This velocity is based on the junction area Aj, which is discussed in Volume II, Section 2.4. velgvel-vapor 气相速度 Volume oriented vapor velocity (m/s, ft/s); the parameter is the volume number plus F. velgjvap.j.vel 接管气相速度 Junction vapor velocity (m/s, ft/s). This velocity is based on the junction area Aj, which is discussed in Volume II, Section 2.4. vlvarea 阀门与接管面积比 Ratio of the current valve physical area to the junction area. vlvstem 阀门面积开启比例阀杆位置比 对于开启了归一化阀杆位置选项的电动阀和伺服阀，是当前阀杆位置与全开时的比值; 否则是面积比 voidf 液相截面份额 Volume liquid fraction. voidfj 接管液相截面份额 Junction liquid fraction. voidg 空泡份额 Volume vapor fraction (void fraction). voidgo 空泡份额 (旧时刻) the previous time step vapor void fraction voidgj 接管空泡份额 Junction vapor fraction (void fraction). voidg 空泡份额(前一时间步) Vapor void fraction previous time step (n) vol-flag 控制体控制标记 volume control flag (tlpvbfe)t0不用热前沿追踪跟踪模型，l0不用mixture level混合物水平面追踪模型，p0使用water packing scheme水填充方案，v0不使用垂直分层模型，b0使用管道相间摩擦模型，f0沿体积的x坐标计算壁摩擦效应，e0使用非平衡(不相等温度)计算 其他 增加终端默认宽度 问题：relap5计算时终端输出总是由于宽度不够而自动换行。 解决：右键终端上方框体，默认值，布局，窗口大小，设置为140，确定。重新运行。 为无后缀文件设置默认打开程序 管理员运行cmd，assoc .，查看无拓展的关联类型，应该显示没有找到文件关联.。 assoc .=No Extension，自定义设置无后缀文件为No Extension类型 ftype \"No Extension\"=\"F:\\pro\\UltraEdit\\uedit64.exe\"\"%1\"，设置默认打开程序为ultraedit。 ftype，查看所有后缀格式的默认打开程序，在no extention一行确认。 一键删除并运行.bat 新建文本文件，重命名为0一键删除outdta和rstplt，运行relap5.bat，编辑以下内容，双击即可运行。 其中/p提示确认，/f强制删除只读，/S删除所有子目录中的指定的文件， /Q 安静模式，删除全局通配符时，不要求确认。 /A 根据属性选择要删除的文件。（属性: R 只读文件, S 系统文件, H 隐藏文件, A 存档文件, I 无内容索引文件, L 重分析点, -表示“否”的前缀） del /f /q outdta del /f /q rstplt .\\Relap.exe CVF 调试工具安装 安装包文件夹为`Compaq.Visual.Fortran.v6.6.win10-已测试，找到X86文件夹内的SETUPX86.EXE，右键，属性，设置以兼容模式运行这个程序（如win7,winxp），并勾选以管理员身份运行。右键管理员运行，选择右上角第一项install visual fortran。 名字公司随便填，序列号从crack文件夹内的生成复制（无法全部复制，手敲）（全屏安装程序会遮挡视线，轻微左移即可，因为下一步弹窗会出现在该窗口中心，过度移动会导致看不见安装窗口） 安装方式typical，（设置第一个文件夹路径，如f: \\pro\\cvf\\common，则其他路径也随之变为cvf文件夹下。） 继续安装，96%时弹出环境变量更新，选择yes。安装完成，弹窗填否不注册，二次确定，不安装array visualizer。（卡在96%的话反思一下是不是没有管理员运行 ：） 安装完毕，在安装目录下找到DFDEV.EXE（默认C:\\Program Files\\Microsoft Visual Studio\\Common\\MSDEV98\\BIN\\DFDEV.EXE，自定义的则为F: \\pro\\cvf\\common\\MSDEV98\\BIN\\DFDEV.EXE），右键属性，设置兼容模式为win7+管理员身份运行。 从此可以正常打开Relap33\\Relap33.dsw项目文件，测试build菜单rebuild all，无报错则成功（中文路径会报错）。 AptPlot快速绘图rstplt 安装jdk运行环境：双击 jdk-7u51-windows-x64.exe 安装aptplot：右键AptPlotInstaller.jar——打开方式选择java (TM) Plateform SE binary——install or update from a local folder——选择当前文件夹提取安装包（含有文件AptPlot_6.5.2）——选择安装目录——按步骤操作完成安装 处理relap再启动文件rstplot：打开aptplot的file目录——read——relap5 data——选择rstplt再启动文件——在弹出的select relap channels窗口选中关心的数据channel（单击/ +ctrl/ +shift）——plot绘制——可以在data sets中查看已选数据集，继续选中channel增加数据，或者在data sets中右键显示show/隐藏hide/删除kill数据，或者clear sets清空数据集。 为了简化操作，各种绘图框的设置可以通过保存apf文件的形式保留下来。先read一个不需要的rstplt文件，然后read需要的。这样在需要重新运行时，只需要点击select RELAP channels窗口的删除按钮就能解除文件占用，然后去文件夹运行一键删除和运行脚本并读入rstplt文件就能快速查看第二次。 其他注意事项/使用技巧 不懂就去查文档：Help目录——help contents 查看、编辑数据表：双击data sets——双击单元格修改 解决Data Sets不显示变量名：右键Data Sets框体——selector operations——勾选view sets comments 导出到Origin：select relap channels窗口——data sets框——选择数据右键Edits——复制数据（如何大批量复制：选中第一行第二列单元格，拖动滚动条到最后，按住Shift时单击最后一行最后一列单元格，ctrl +c） 调整坐标轴范围：Plot菜单进入Axes设置（或双击四周框线弹出）——general的Edit设置编辑对象——start、stop设置范围 调整绘图框大小位置：双击四角的黑点不松手，拖动即可调整。也可以去Graph Appearance——Main——viewport调整XY范围。 调整图例框位置Legends Box：双击图例框或点击Plot菜单弹出Graph Appearance——编辑Leg. Box Location中的X Y（分别是左、上边的位置） 选择数据操作麻烦，如果关闭select relap channels窗口后还想继续选择数据，只能重新去file目录——read——relap5 data。 UltraEdit / Notepad++ 列编辑 Notepad++ 开源、更轻量级，列编辑时按住alt键选择。 UltraEdit更强大。 安装： 下载安装包，双击 ue_chinese_64.exe 64位版官方安装程序。 安装完成后关闭程序，复制 IDM_Universal_Patch_v6.0.exe 到安装目录（默认为C:\\Program Files\\IDM Computer Solutions），以管理员身份运行。 选择 ultra edit v27.x -(x64) , 点击patch。 若提示未找到安装路径，点击是，手动选择安装目录下的 ProtectionPlusDLL.dll 打开，再次patch。 使用： 列编辑：主菜单——编辑菜单——列模式，打开即可对某一列数据进行操作，对outdta很实用。 列顺序填充编号：编辑——列模式——鼠标控制操作范围——插入号码。对于编写indta的卡号、控制体号很实用。例如，需要rstplt画出某控制体各个时刻的换热模式曲线，可批量修改20800001 htmode 100100100一直到20800040 htmode 100104000 空格处理：格式菜单，制表符/空格，转换制表符为空格（全部）。删除行首空格。删除行尾空格。 UltraCompare对比文件夹和文件 配合备份脚本对比各个程序版本，非常好用。 设置，忽略选项（默认）， 文本，勾选忽略空行、空格、换行符 文件夹/文件夹同步操作，忽略时间戳差异 set sourcePath=C:\\PRODUCT_CACHE_DIR_NAME\\fj\\Relap5-3.3-20230105-3R-SA\\Source\\ set targetPath=C:\\PRODUCT_CACHE_DIR_NAME\\fj\\000backup\\ set folderName=%date:~0,4%-%date:~5,2%-%date:~8,2%-%time:~0,2%-%time:~3,2%-%time:~6,2% XCOPY /e /c /y \"%sourcePath%*\" \"%targetPath%%folderName%\\\" set sourcePath=C:\\PRODUCT_CACHE_DIR_NAME\\fj\\Relap5-3.3-20230105-3R-SA\\Source\\ set targetPath=\\\\Client\\C$\\desktop\\000\\000backup\\ set folderName=%date:~0,4%-%date:~5,2%-%date:~8,2%-%time:~0,2%-%time:~3,2%-%time:~6,2% XCOPY /e /c /y \"%sourcePath%*\" \"%targetPath%%folderName%\\\" Origin严肃画图outdta 安装： 先修改系统时间为20210701（设置，时间与语言，关闭自动设置时间， 手动设置日期，否则提示试用期已过无法安装）。 双击setup.exe安装，安装origin pro试用，用户和公司名yuzhuyi，下一步直到安装完毕，稍后重启。 复制crack文件夹所有文件至安装目录下，替换同名文件。 重新设置系统时间。 AptPlot功能少、操作繁琐，只能绘制某个控制体的某个变量随时间变化的曲线。如果想绘制该变量随所有控制体的变化曲线，则需要使用Origin和Ultraedit来处理outdta。此外，Origin的图也被视为学术规范。 数据图曲线抠图 工具，图像数字化工具。 文件，导入（图片） 调整四条轴线位置，点中长按拖动，使其仅包含绘图区域。 修改轴线坐标值为真实值（X1X2是左右两条竖线） 点击手动取点小图标开始。 （取点时经常发现坐标有些小错位，尽量通过取点时的坐标值调整准确。点击编辑轴小图标即可二次编辑轴线位置。） 从左往右依次取点。左键调整取点位置，回车确认该点。然后继续取其他点，全部完成后点击完成。（ESC键重新取所有点） 点击完成后会出现取点表格和曲线图，分别为DigiData和sourceimage，可以复制图表数据进行其他操作。 利用同一张图取第二条线：底部菜单，图像数字化，新线条。重复以上步骤。 "},"3cs/0cs.html":{"url":"3cs/0cs.html","title":"0cs","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 自学计算机科学 简而言之 还是太多？ 为什么要学习计算机科学？ 分科目指引 编程 计算机系统结构 算法与数据结构 数学知识 操作系统 计算机网络 数据库 编程语言与编译器 分布式系统 常见问题解答 这份指引的目标受众是？ 人工智能/计算机图形学/XX怎么样？ 一定要严格遵守推荐次序吗？ 对比OSS、freeCodeCamp XX 编程语言怎么样？ XX 流行技术怎么样？ 为什么你们还在推荐 SICP? 为什么你们还在推荐龙书？ CS学习规划 必学工具 好书推荐 环境配置 PC 端环境配置 服务器端环境配置 课程地图 数学基础 微积分与线性代数 信息论入门 数学进阶 离散数学与概率论 数值分析 微分方程 数学高阶 凸优化 信息论 应用统计学 初等数论 密码学 编程入门 Shell Python C++ Rust OCaml 电子基础 电路基础 信号与系统 数据结构与算法 软件工程 入门课 专业课 体系结构 入门课 专业课 系统入门 操作系统 并行与分布式系统 并行计算 分布式系统 系统安全 理论课程 实践课程 计算机网络 数据库系统 编译原理 Web开发 两周速成版 系统学习版 计算机图形学 数据科学 人工智能 机器学习 深度学习 计算机视觉 自然语言处理 图神经网络 强化学习 定制属于你的课程地图 目录 [TOC] 自学计算机科学 TeachYourselfCS 你应当学习 哪些科目，为什么？ 对于这些科目，最好的书籍或者视频课程 是什么？ 简而言之 大致按照列出的顺序，借助我们所建议的教材或者视频课程（但是最好二者兼用），学习如下的九门科目。目标是先花 100 到 200 个小时学习完每一个科目，然后在你职业生涯中，不时温习其中的精髓🚀。 科目 为何要学？ 最佳书籍 最佳视频 编程 不要做一个「永远没彻底搞懂」诸如递归等概念的程序员。 《计算机程序的构造和解释》 Brian Harvey’s Berkeley CS 61A 计算机系统结构 如果你对于计算机如何工作没有具体的概念，那么你所做出的所有高级抽象都是空中楼阁。 《深入理解计算机系统》 Berkeley CS 61C 算法与数据结构 如果你不懂得如何使用栈、队列、树、图等常见数据结构，遇到有难度的问题时，你将束手无策。 《算法设计手册》 Steven Skiena’s lectures 数学知识 计算机科学基本上是应用数学的一个「跑偏的」分支，因此学习数学将会给你带来竞争优势。 《计算机科学中的数学》 Tom Leighton’s MIT 6.042J 操作系统 你所写的代码，基本上都由操作系统来运行，因此你应当了解其运作的原理。 《操作系统导论》 Berkeley CS 162 计算机网络 互联网已然势不可挡：理解工作原理才能解锁全部潜力。 《计算机网络：自顶向下方法》 Stanford CS 144 数据库 对于多数重要程序，数据是其核心，然而很少人理解数据库系统的工作原理。 Readings in Database Systems （暂无中译本） Joe Hellerstein’s Berkeley CS 186 编程语言与编译器 若你懂得编程语言和编译器如何工作，你就能写出更好的代码，更轻松地学习新的编程语言。 Crafting Interpreters Alex Aiken’s course on Lagunita 分布式系统 如今，多数 系统都是分布式的。 《数据密集型应用系统设计》 MIT 6.824 还是太多？ 如果花几年时间自学 9 门科目让人望而却步，我们建议你只专注于两本书：《深入理解计算机系统》 和 《数据密集型应用系统设计》。根据我们的经验，投入到这两本书的时间可以获得极高的回报率，特别适合从事网络应用开发的自学工程师。这两本书也可以作为上面表格中其他科目的纲领。 为什么要学习计算机科学？ 软件工程师分为两种：一种充分理解了计算机科学，从而有能力应对充满挑战的创造性工作；另一种仅仅凭着对一些高级工具的熟悉而勉强应付。 这两种人都自称软件工程师，都能在职业生涯早期挣到差不多的工资。然而，随着时间流逝，第一种工程师不断成长，所做的事情将会越来越有意义且更为高薪，不论是有价值的商业工作、突破性的开源项目、技术上的领导力或者高质量的个人贡献。 全球短信系统每日收发约 200 亿条信息，而仅仅靠 57 名工程师，现在的 WhatsApp 每日收发 420 亿条。 — Benedict Evans (@BenedictEvans) 2016 年 2 月 2 日 第一种工程师总是寻求深入学习计算机科学的方法，或是通过传统的方法学习，或是在职业生涯中永无止息地学习；第二种工程师 通常浮于表面，只学习某些特定的工具和技术，而不研究其底层的基本原理，仅仅在技术潮流的风向改变时学习新的技能。 如今，涌入计算机行业的人数激增，然而计算机专业的毕业生数量基本上未曾改变。第二种工程师的供过于求正在开始减少他们的工作机会，使他们无法涉足行业内更加有意义的工作。对你而言，不论正在努力成为第一种工程师，还是只想让自己的职业生涯更加安全，学习计算机科学是唯一可靠的途径。 23333 然而他们……pic.twitter.com/XVNYlXAHar — Jenna Bilotta (@jenna) 2017 年 3 月 4 日 分科目指引 编程 大多数计算机专业本科教学以程序设计「导论」作为开始。这类课程的最佳版本不仅能满足初学者的需要，还适用于那些在初学编程阶段遗漏了某些有益的概念和程序设计模式的人。 对于这部分内容，我们的标准推荐是这部经典著作：《计算机程序的构造和解释》。在网络上，这本书既可供 免费阅读（英文版），也作为 MIT 的免费视频课程。不过尽管这些视频课程很不错，我们对于视频课程的推荐实际上是 Brian Harvey 开设的 SICP 课程（即 Berkeley 的 61A 课程）。比起 MIT 的课程，它更加完善，更适用于初学者。 我们建议至少学完 SICP 的前三章，并完成配套的习题。如果需要额外的练习，可以去解决一些小的程序设计问题，比如 exercism。 中文翻译新增： 关于 SICP 国内视频观看地址 MIT 的免费视频课程（中英字幕） Brian Harvey 开设的 SICP 课程（英文字幕） Scheme 学习的相关资源参见：https://github.com/DeathKing/Learning-SICP 更详细的补充说明：#3 自从 2016 年首次发布这份指南以来，最常被问到的一个问题是，我们是否推荐由 John DeNero 讲授的更新的 CS 61A 课程，以及配套的书籍 Composing Programs，这本书「继承自 SICP」 但使用 Python 讲解。我们认为 DeNero 的课程也很不错，有的学生可能更喜欢，但我们还是建议把 SICP、Scheme 和 Brian Harvey 的视频课程作为首选。 为什么这么说呢？因为 SICP 是独一无二的，它可以——至少很有可能——改变你对计算机和编程的基本认识。不是每个人都有这样的体验。有的人讨厌这本书，有的人看了前几页就放弃了。但潜在的回报让它值得一读。 如果你觉得 SICP 过于难，试试 Composing Programs。如果还是不合适，那我们推荐 《程序设计方法》（中文版，英文版） ；如果你觉得 SICP 过于简单，那我们推荐 Concepts, Techniques, and Models of Computer Programming。如果读这些书让你觉得没有收获，也许你应该先学习其他科目，一两年后再重新审视编程的理念。 新版原文删除了对 Concepts, Techniques, and Models of Computer Programming 一书的推荐，但这本书对各种编程模型有深入的见解，值得一读。所以译文中依然保留。 — 译者注 最后，有一点要说明的是：本指南 不适用 于完全不懂编程的新手。我们假定你是一个没有计算机专业背景的程序员，希望填补一些知识空白。事实上，我们把「编程」章节包括进来只是提醒你还有更多知识需要学习。对于那些从来没有学过编程，但又想学的人来说，这份 指南 更合适。 计算机系统结构 计算机系统结构——有时候又被称为「计算机系统」或者「计算机组成」——是了解软件底层的的重要视角。根据我们的经验，这是自学的软件工程师最容易忽视的领域。 我们最喜欢的入门书是 《深入理解计算机系统》。典型的 计算机体系结构导论课程 会涵盖本书的 1-6 章。 我们喜爱《深入理解计算机系统》，因为它的实用性，并且站在程序员的视角。虽然计算机体系结构的内容比本书所涉及的内容多得多，但对于那些想了解计算机系统以求编写更快、更高效、更可靠的软件的人来说，这本书是很好的起点。 对于那些既想了解这个主题又想兼顾硬件和软件的知识的人来说，我们推荐 《计算机系统要素》，又名「从与非门到俄罗斯方块」（Nand2Tetris），这本书规模宏大，让读者对计算机内的所有部分如何协同工作有完全的认识。这本书的每一章节对应如何构建计算机整体系统中的一小部分，从用 HDL（硬件描述语言）写基本的逻辑门电路出发，途经 CPU 和汇编，最终抵达诸如俄罗斯方块这般规模的应用程序。 我们推荐把此书的前六章读完，并完成对应的项目练习。这么做，你将更加深入地理解，计算机体系结构和运行其上的软件之间的关系。 这本书的前半部分（包括所有对应的项目）均可从 Nand2Tetris 的网站上 免费获得。同时，在 Coursera 上，这是一门 视频课程。 为了追求简洁和紧凑，这本书牺牲了内容上的深度。尤其值得注意的是，流水线和存储层次结构是现代计算机体系结构中极其重要的两个概念，然而这本书对此几乎毫无涉及。 当你掌握了 Nand2Tetris 的内容后，我们推荐要么回到《深入理解计算机系统》，或者考虑 Patterson 和 Hennessy 二人所著的 《计算机组成与设计》，一本优秀的经典著作。这本书中的不同章节重要程度不一，因此我们建议根据 Berkeley 的 CS61C 课程 「计算机体系结构中的伟大思想」来着重阅读一些章节。这门课的笔记和实验在网络上可以免费获得，并且在 互联网档案 中有这门课程的过往资料。 硬件是平台。 — Mike Acton, Engine Director at Insomniac Games （观看他在 CppCon 上的演说） 算法与数据结构 正如几十年来的共识，我们认为，计算机科学教育所赋予人们的最大能量在于对常见算法和数据结构的熟悉。此外，这也可以训练一个人对于各种问题的解决能力，有助于其他领域的学习。 关于算法与数据结构，有成百上千的书可供使用，但是我们的最爱是 Steven Skiena 编写的 《算法设计手册》 。显而易见，他对此充满热爱，迫不及待地想要帮助其他人理解。在我们看来，这本书给人一种焕然一新的体验，完全不同于那些更加经常被推荐的书（比如 Cormen、Leiserson、Rivest、Stein 或 Sedgewick 的书，后两者充斥着过多的证明，不适合以 解决问题 为导向的学习）。 如果你更喜欢视频课程，Skiena 慷慨地提供了他的课程。此外，Tim Roughgarden 的课程也很不错， 在 Stanford 的 MOOC 平台 Lagunita，或者 Coursera 上均可获得。Skiena 和 Roughgarden 的这两门课程没有优劣之分，选择何者取决于个人品味。 至于练习，我们推荐学生在 Leetcode 上解决问题。Leetcode 上的问题往往有趣且带有良好的解法和讨论。此外，在竞争日益激烈的软件行业，这些问题可以帮助你评估自己应对技术面试中常见问题的能力。我们建议解决大约 100 道随机挑选的 Leetcode 问题，作为学习的一部分。 最后，我们强烈推荐 《怎样解题》。这本书极为优秀且独特，指导人们解决广义上的问题，因而一如其适用于数学，它适用于计算机科学。 我可以广泛推荐的方法只有一个： 写之前先思考。 — Richard Hamming 数学知识 从某个角度说，计算机科学是应用数学的一个「发育过度」的分支。尽管许多软件工程师试图——并且在不同程度上成功做到——忽视这一点，我们鼓励你用学习来拥抱数学。如若成功，比起那些没有掌握数学的人，你将获得巨大的竞争优势。 对于计算机科学，数学中最相关的领域是「离散数学」，其中的「离散」与「连续」相对立，大致上指的是应用数学中那些有趣的主题，而不是微积分之类的。由于定义比较含糊，试图掌握离散数学的全部内容是没有意义的。较为现实的学习目标是，了解逻辑、排列组合、概率论、集合论、图论以及密码学相关的一些数论知识。考虑到线性代数在计算机图形学和机器学习中的重要性，该领域同样值得学习。 学习离散数学，我们建议从 László Lovász 的课程笔记 开始。Lovász 教授成功地让这些内容浅显易懂且符合直觉，因此，比起正式的教材，这更适合初学者。 对于更加高阶的学习，我们推荐 《计算机科学中的数学》，MIT 同名课程的课程笔记，篇幅与书籍相当（事实上，现已出版）。这门课程的视频同样 可免费获得，是我们所推荐的学习视频。 对于线性代数，我们建议从 Essence of linear algebra 系列视频开始，然后再去学习 Gilbert Strang 的 《线性代数导论》 和 视频课程。 如果人们不相信数学是简单的，那么只能是因为他们没有意识到生活有多么复杂。 — John von Neumann 操作系统 《操作系统概念》（「恐龙书」）和 《现代操作系统》 是操作系统领域的经典书籍。二者都因为写作风格和对学生不友好而招致了一些批评。 《操作系统导论》（Operating Systems: Three Easy Pieces） 是一个不错的替代品，并且 可在网上免费获得（英文版）。我们格外喜欢这本书的结构，并且认为这本书的习题很值得一做。 在读完《操作系统导论》后，我们鼓励你探索特定操作系统的设计。可以借助「{OS name} Internals」风格的书籍，比如 Lion's commentary on Unix， The Design and Implementation of the FreeBSD Operating System，以及 Mac OS X Internals。对于 Linux ，我们推荐 Robert Love 的 《Linux 内核设计与实现》。 为了巩固对操作系统的理解，阅读小型系统内核的代码并且为其增加特性是一个很不错的方法。比如，xv6，由 MIT 的一门课程所维护的从 Unix V6 到 ANSI C 和 x86 的移植，就是一个很棒的选择。《操作系统导论》有一个附录，记载了一些可能的 xv6 实验项目，其中充满了关于潜在项目的很棒想法。 计算机网络 鉴于有那么多关于网络服务端和客户端的软件工程，计算机网络是计算机科学中价值最为「立竿见影」的领域之一。我们的学生，系统性地学习了计算机网络，最终能够理解那些曾困扰他们多年的术语、概念和协议。 在这一主题上，我们最爱的书籍是 《计算机网络：自顶向下方法》。书中的小项目和习题相当值得练习，尤其是其中的「Wireshark labs」（这部分在网上可以获得）。 如果更喜欢视频课程，我们推荐 Stanford 的 Introduction to Computer Networking，可在他们的 MOOC 平台 Lagunita 上免费观看。 对于计算机网络的学习，做项目比完成小的习题更有益。一些可能的项目有：HTTP 服务器，基于 UDP 的聊天 APP，迷你 TCP 栈，代理，负载均衡器，或者分布式哈希表。 你无法盯着水晶球预见未来，未来的互联网何去何从取决于社会。 — Bob Kahn 数据库 比起其他主题，自学数据库系统需要更多的付出。这是一个相对年轻的研究领域，并且出于很强的商业动机，研究者把想法藏在紧闭的门后。此外，许多原本有潜力写出优秀教材的作者反而选择了加入或创立公司。 鉴于如上情况，我们鼓励自学者大体上抛弃教材，而是从 2015 年春季学期的 CS 186 课程（Joe Hellerstein 在 Berkeley 的数据库课程）开始，然后前往阅读论文。 对于初学者，有一篇格外值得提及的论文：Architecture of a Database System。这篇论文提供了独特的对关系型数据库管理系统（RDBMS）如何工作的高层次观点，是后续学习的实用梗概。 Readings in Database Systems，或者以 数据库「红书」 更为人知，是由 Peter Bailis、Joe Hellerstein 和 Michael Stonebraker 编纂的论文合集。对于那些想要在 CS 186 课程的水平更进一步的学习者，「红书」应当是下一步。 如果你坚持一定要一本导论教材，那我们推荐 Ramakrishnan 和 Gehrke 所著的 《数据库管理系统：原理与设计》。如需更深一步，Jim Gray 的经典著作 Transaction Processing: Concepts and Techniques 值得一读，不过我们不建议把这本书当作首要资源。 如果没有编写足够数量的代码，很难巩固数据库理论。CS 186 课程的学生给 Spark 添加特性，倒是不错的项目，不过我们仅仅建议从零实现一个简单的关系型数据库管理系统。自然，它将不会有太多的特性，但是即便只实现典型的关系型数据库管理系统每个方面最基础的功能，也是相当有启发的。 最后，数据模型往往是数据库中一个被忽视的、教学不充分的方面。关于这个主题，我们推荐的书籍是 Data and Reality: A Timeless Perspective on Perceiving and Managing Information in Our Imprecise World。 编程语言与编译器 多数程序员学习编程语言的知识，而多数计算机科学家学习编程语言 相关 的知识。这使得计算机科学家比起程序员拥有显著的优势，即便在编程领域！因为他们的知识可以推而广之：相较只学习过特定编程语言的人，他们可以更深入更快速地理解新的编程语言。 我们推荐的入门书是 Bob Nystrom 所著的优秀的 Crafting Interpreters，可在网上免费获取。这本书条理清晰，富有趣味性，非常适合那些想要更好地理解语言和语言工具的人。我们建议你花时间读完整本书，并尝试任何一个感兴趣的「挑战」。 另一本更为传统的推荐书籍是 《编译原理》，通常称为「龙书」。不幸的是，这本书不是为自学者而设计的，而是供教师从中挑选一些主题用于 1-2 学期的教学。 如果你选择使用龙书进行自学，你需要从中甄选主题，而且最好是在导师的帮助下。我们建议依据某个视频课程来设定学习的结构，然后按需从龙书中获取深入的内容。我们推荐的在线课程是 Alex Aiken 在 MOOC 平台 edX 所开设的。 不要做一个只写样板代码的程序员。相反，给用户和其他程序员创造工具。从纺织工业和钢铁工业中学习历史教训：你想制造机器和工具，还是操作这些机器？ — Ras Bodik 在他的编译器课程伊始 分布式系统 随着计算机在数量上的增加，计算机同样开始 分散。尽管商业公司过去愿意购买越来越大的大型机，现在的典型情况是，甚至很小的应用程序都同时在多台机器上运行。思考这样做的利弊权衡，即是分布式系统的研究所在，也是越来越重要的一项技能。 我们推荐的自学参考书是 Martin Kleppmann 的 《数据密集型应用系统设计》。与传统的教科书相比，它是一本为实践者设计的具有很高的可读性的书，并且保持了深度和严谨性。 对于那些偏爱传统教材，或者希望可以从网上免费获取的人，我们推荐的教材是 Maarten van Steen 和 Andrew Tanenbaum 所著的 《分布式系统原理与范型》（中文第二版，英文第三版）。 对于喜欢视频课程的人，MIT 的 6.824 是一门很好的在线视频课程，由 Robert Morris 教授的研究生课程，在 这里 可以看到课程安排。 不管选择怎样的教材或者其他辅助资料，学习分布式系统必然要求阅读论文。这里 有一个不错的论文清单，而且我们强烈建议你出席你当地的 Papers We Love（仅限美国）。 常见问题解答 这份指引的目标受众是？ 我们面向自学的软件工程师、培训班学生、「早熟的」高中生或者想要通过自学补充正式教育的大学生。关于何时开启这段自学旅程，完全取决于个人，不过多数人在有一定的职业经历后深入学习计算机科学理论会获益匪浅。比如，我们注意到，如果学生在工作中曾经使用过数据库，他们会 喜爱 学习数据库系统课程；如果学生从事过一两个 Web 项目，他们会 喜爱 学习计算机网络。 人工智能/计算机图形学/XX怎么样？ 我们试图把计算机科学主题清单限制到那些我们认为 每一个软件工程师 都应该了解的内容，不限于专业或行业。拥有了这些基础，你将能更加轻松地挑选教材或论文，然而无需指引地学习核心概念。在这里，我们给出一些其他常见主题的自学起点： 人工智能：通过观看视频并完成 Pacman 项目来学习 Berkeley 的 AI 课程。至于教材，使用 Russell 和 Norvig 编写的 《人工智能：一种现代方法》。 机器学习：学习吴恩达在 Coursera 上的课程。耐心学习，先确保理解了基础概念再奔向类如深度学习的诱人新主题。 计算机图形学：学习 Berkeley CS 184 课程 的材料，使用 《计算机图形学：原理及实践》 作为教材。 一定要严格遵守推荐次序吗？ 事实上，所有主题之间都有一定程度的重叠，彼此循环引用。以离散数学和算法的关系为例：先学习数学可以帮助你更深入地分析和理解算法，然而先学习算法可以为学习离散数学提供更大的动力和应用背景。理想情况下，你将在你的职业生涯多次重温二者。 因此，我们所推荐的次序主要是为了帮助你 起步……如果你出于某种强烈的原因而倾向以不同的顺序学习，那也没有关系，勇敢开始吧！不过在我们看来，最重要的「先决条件」是：先学计算机体系结构再学操作系统或数据库，先学计算机网络和操作系统再学分布式系统。 对比OSS、freeCodeCamp OSS 指引 涵盖太多主题，在许多主题中推荐劣质资源，没有就特定课程哪些方面有价值提供原因或指引。我们努力对这份指引中的课程加以限制，仅仅包括那些你作为软件工程师 确实需要了解的，不论你的专业方向，并且对每门课程为何必要做出了解释以帮助你理解。 FreeCodeCamp 主要关注编程，而不是计算机科学。至于你为什么要学习计算机科学，参见 上文。如果你是个新手，我们建议先学 freeCodeCamp 的课程，一两年后再回归本指南。 XX 编程语言怎么样？ 学习一门特定的编程语言和学习计算机科学的一个领域完全不在一个维度——相比之下，学习语言 容易 且 缺乏价值。如果你已经了解了一些语言，我们强烈建议遵照我们的指引，然后在学习的空当中习得语言，或者暂且不管以后再说。如果你已经把编程学得不错了（比如学完了 《计算机程序的构造和解释》），尤其是如果你学习过编译器，那么面对一门新的语言，你只需要花一个周末稍多的时间即可基本掌握，之后你可以在工作中学习相关的类库/工具/生态。 XX 流行技术怎么样？ 没有任何一种技术的重要程度可以达到学习其使用足以成为计算机科学教学的核心部分。不过，你对学习那门技术充满热情，这很不错。诀窍是先从特定的技术回退到基本的领域或概念，判断这门流行技术在技术的宏观大局中位于何处，然后才深入学习这门技术。 为什么你们还在推荐 SICP? 先尝试读一下，有些人觉得 SICP 让人神魂颠倒，这在其他书很少见。如果你不喜欢，你可以尝试其他的东西，也许以后再回到 SICP。 为什么你们还在推荐龙书？ 龙书依旧是内容最为完整的编译器单本书籍。由于过分强调一些如今不够时新的主题的细节，比如解析，这本书招致了恶评。然而事实上，这本书从未打算供人一页一页的学习，而仅仅是为了给教师准备一门课程提供足够的材料。类似地，自学者可以从书中量身按需挑选主题，或者最好依照公开课授课教师在课程大纲中的建议。 CS学习规划 [CS学习规划]https://csdiy.wiki/CS%E5%AD%A6%E4%B9%A0%E8%A7%84%E5%88%92/） 计算机领域方向庞杂，知识浩如烟海，每个细分领域如果深究下去都可以说学无止境。因此，一个清晰明确的学习规划是非常重要的。我在多年自学的尝试中也走过不少弯路，最终提炼出了下面的内容，供大家参考。 不过，在开始学习之前，先向小白们强烈推荐一个科普向系列视频 Crash Course: Computer Science，在短短 8 个小时里非常生动且全面地科普了关于计算机科学的方方面面：计算机的历史、计算机是如何运作的、组成计算机的各个重要模块、计算机科学中的重要思想等等等等。正如它的口号所说的 Computers are not magic!，希望看完这个视频之后，大家能对计算机科学有个全貌性地感知，从而怀着兴趣去面对下面浩如烟海的更为细致且深入的学习内容。 必学工具 俗话说：磨刀不误砍柴工。如果你是一个刚刚接触计算机的24k纯小白，学会一些工具将会让你事半功倍。 学会提问：也许你会惊讶，提问也算计算机必备技能吗，还放在第一条？我觉得在开源社区中，学会提问是一项非常重要的能力，它包含两方面的事情。其一是会变相地培养你自主解决问题的能力，因为从形成问题、描述问题并发布、他人回答、最后再到理解回答这个周期是非常长的，如果遇到什么鸡毛蒜皮的事情都希望别人最好远程桌面手把手帮你完成，那计算机的世界基本与你无缘了。其二，如果真的经过尝试还无法解决，可以借助开源社区的帮助，但这时候如何通过简洁的文字让别人瞬间理解你的处境以及目的，就显得尤为重要。推荐阅读提问的智慧这篇文章，这不仅能提高你解决问题的概率和效率，也能让开源社区里无偿提供解答的人们拥有一个好心情。 MIT-Missing-Semester 这门课覆盖了这些工具中绝大部分，而且有相当详细的使用指导，强烈建议小白学习。不过需要注意的一点是，在课程中会不时提到一些与开发流程相关的术语。因此推荐至少在学完计算机导论级别的课程之后进行学习。 翻墙：由于一些众所周知的原因，谷歌、GitHub 等网站在大陆无法访问。然而很多时候，谷歌和 StackOverflow 可以解决你在开发过程中遇到的 99% 的问题。因此，学会翻墙几乎是一个内地 CSer 的必备技能。（考虑到法律问题，这个文档提供的翻墙方式仅对拥有北大邮箱的用户适用）。 命令行：熟练使用命令行是一种常常被忽视，或被认为难以掌握的技能，但实际上，它会极大地提高你作为工程师的灵活性以及生产力。命令行的艺术是一份非常经典的教程，它源于 Quora 的一个提问，但在各路大神的贡献努力下已经成为了一个 GitHub 十万 stars 的顶流项目，被翻译成了十几种语言。教程不长，非常建议大家反复通读，在实践中内化吸收。同时，掌握 Shell 脚本编程也是一项不容忽视的技术，可以参考这个教程。 IDE (Integrated Development Environment)：集成开发环境，说白了就是你写代码的地方。作为一个码农，IDE 的重要性不言而喻，但由于很多 IDE 是为大型工程项目设计的，体量较大，功能也过于丰富。其实如今一些轻便的文本编辑器配合丰富的插件生态基本可以满足日常的轻量编程需求。个人常用的编辑器是 VS Code 和 Sublime（前者的插件配置非常简单，后者略显复杂但颜值很高）。当然对于大型项目我还是会采用略重型的 IDE，例如 Pycharm (Python)，IDEA (Java) 等等（免责申明：所有的 IDE 都是世界上最好的 IDE）。 Vim：一款命令行编辑工具。这是一个学习曲线有些陡峭的编辑器，不过学会它我觉得是非常有必要的，因为它将极大地提高你的开发效率。现在绝大多数 IDE 也都支持 Vim 插件，让你在享受现代开发环境的同时保留极客的炫酷（yue）。 Git：一款代码版本控制工具。Git的学习曲线可能更为陡峭，但出自 Linux 之父 Linus 之手的 Git 绝对是每个学 CS 的童鞋必须掌握的神器之一。 GitHub：基于 Git 的代码托管平台。全世界最大的代码开源社区，大佬集聚地。 GNU Make：一款工程构建工具。善用 GNU Make 会让你养成代码模块化的习惯，同时也能让你熟悉一些大型工程的编译链接流程。 CMake：一款功能比 GNU Make 更为强大的构建工具，建议掌握 GNU Make 之后再加以学习。 LaTex：~逼格提升~ 论文排版工具。 Docker：一款相较于虚拟机更轻量级的软件打包与环境部署工具。 实用工具箱：除了上面提到的这些在开发中使用频率极高的工具之外，我还收集了很多实用有趣的免费工具，例如一些下载工具、设计工具、学习网站等等。 Thesis：毕业论文 Word 写作教程。 好书推荐 私以为一本好的教材应当是以人为本的，而不是炫技式的理论堆砌。告诉读者“是什么”固然重要，但更好的应当是教材作者将其在这个领域深耕几十年的经验融汇进书中，向读者娓娓道来“为什么”以及未来应该“怎么做”。 链接戳这里 环境配置 你以为的开发 —— 在 IDE 里疯狂码代码数小时。 实际上的开发 —— 配环境配几天还没开始写代码。 PC 端环境配置 如果你是 Mac 用户，那么你很幸运，这份指南 将会手把手地带你搭建起整套开发环境。如果你是 Windows 用户，在开源社区的努力下，你同样可以获得与其他平台类似的体验：Scoop。 另外大家可以参考一份灵感来自 6.NULL MIT-Missing-Semester 的 环境配置指南，重点在于终端的美化配置。此外还包括常用软件源（如 GitHub, Anaconda, PyPI 等）的加速与替换以及一些 IDE 的配置与激活教程。 服务器端环境配置 服务器端的运维需要掌握 Linux（或者其他类 Unix 系统）的基本使用以及进程、设备、网络等系统相关的基本概念，小白可以参考中国科学技术大学 Linux 用户协会编写的《Linux 101》在线讲义。如果想深入学习系统运维相关的知识，可以参考 Aspects of System Administration 这门课程。 另外，如果需要学习某个具体的概念或工具，推荐一个非常不错的 GitHub 项目 DevOps-Guide，其中涵盖了非常多的运维方面的基础知识和教程，例如 Docker, Kubernetes, Linux, CI-CD, GitHub Actions 等等。 课程地图 正如这章开头提到的，这份课程地图仅仅是一个仅供参考的课程规划，我作为一个临近毕业的本科生。深感自己没有权利也没有能力向别人宣扬“应该怎么学”。因此如果你觉得以下的课程分类与选择有不合理之处，我全盘接受，并深感抱歉。你可以在下一节定制属于你的课程地图 以下课程类别中除了含有 基础 和 入门 字眼的以外，并无明确的先后次序，大家只要满足某个课程的先修要求，完全可以根据自己的需要和喜好选择想要学习的课程。 数学基础 微积分与线性代数 作为大一新生，学好微积分线代是和写代码至少同等重要的事情，相信已经有无数的前人经验提到过这一点，但我还是要不厌其烦地再强调一遍：学好微积分线代真的很重要！你也许会吐槽这些东西岂不是考完就忘，那我觉得你是并没有把握住它们本质，对它们的理解还没有达到刻骨铭心的程度。如果觉得老师课上讲的内容晦涩难懂，不妨参考 MIT 的 Calculus Course 和 18.06: Linear Algebra 的课程 notes，至少于我而言，它帮助我深刻理解了微积分和线性代数的许多本质。顺道再安利一个油管数学网红 3Blue1Brown，他的频道有很多用生动形象的动画阐释数学本质内核的视频，兼具深度和广度，质量非常高。 信息论入门 作为计算机系的学生，及早了解一些信息论的基础知识，我觉得是大有裨益的。但大多信息论课程都面向高年级本科生甚至研究生，对新手极不友好。而 MIT 的 6.050J: Information theory and Entropy 这门课正是为大一新生量身定制的，几乎没有先修要求，涵盖了编码、压缩、通信、信息熵等等内容，非常有趣。 数学进阶 离散数学与概率论 集合论、图论、概率论等等是算法推导与证明的重要工具，也是后续高阶数学课程的基础。但我觉得这类课程的讲授很容易落入理论化与形式化的窠臼，让课堂成为定理结论的堆砌，而无法使学生深刻把握理论的本质，进而造成学了就背，考了就忘的怪圈。如果能在理论教学中穿插算法运用实例，学生在拓展算法知识的同时也能窥见理论的力量和魅力。 UCB CS70 : discrete Math and probability theory 和 UCB CS126 : Probability theory 是 UC Berkeley 的概率论课程，前者覆盖了离散数学和概率论基础，后者则涉及随机过程以及深入的理论内容。两者都非常注重理论和实践的结合，有丰富的算法实际运用实例，后者还有大量的 Python 编程作业来让学生运用概率论的知识解决实际问题。 数值分析 作为计算机系的学生，培养计算思维是很重要的，实际问题的建模、离散化，计算机的模拟、分析，是一项很重要的能力。而这两年开始风靡的，由 MIT 打造的 Julia 编程语言以其 C 一样的速度和 Python 一样友好的语法在数值计算领域有一统天下之势，MIT 的许多数学课程也开始用 Julia 作为教学工具，把艰深的数学理论用直观清晰的代码展示出来。 ComputationalThinking 是 MIT 开设的一门计算思维入门课，所有课程内容全部开源，可以在课程网站直接访问。这门课利用 Julia 编程语言，在图像处理、社会科学与数据科学、气候学建模三个 topic 下带领学生理解算法、数学建模、数据分析、交互设计、图例展示，让学生体验计算与科学的美妙结合。内容虽然不难，但给我最深刻的感受就是，科学的魅力并不是故弄玄虚的艰深理论，不是诘屈聱牙的术语行话，而是用直观生动的案例，用简练深刻的语言，让每个普通人都能理解。 上完上面的体验课之后，如果意犹未尽的话，不妨试试 MIT 的 18.330 : Introduction to numerical analysis，这门课的编程作业同样会用 Julia 编程语言，不过难度和深度上都上了一个台阶。内容涉及了浮点编码、Root finding、线性系统、微分方程等等方面，整门课的主旨就是让你利用离散化的计算机表示去估计和逼近一个数学上连续的概念。这门课的教授还专门撰写了一本配套的开源教材 Fundamentals of Numerical Computation，里面附有丰富的 Julia 代码实例和严谨的公式推导。 如果你还意犹未尽的话，还有 MIT 的数值分析研究生课程 18.335: Introduction to numerical method 供你参考。 微分方程 如果世间万物的运动发展都能用方程来刻画和描述，这是一件多么酷的事情呀！虽然几乎任何一所学校的 CS 培养方案中都没有微分方程相关的必修课程，但我还是觉得掌握它会赋予你一个新的视角来审视这个世界。 由于微分方程中往往会用到很多复变函数的知识，所以大家可以参考 MIT18.04: Complex variables functions 的课程 notes 来补齐先修知识。 MIT18.03: differential equations 主要覆盖了常微分方程的求解，在此基础之上 MIT18.152: Partial differential equations 则会深入偏微分方程的建模与求解。掌握了微分方程这一有力工具，相信对于你的实际问题的建模能力以及从众多噪声变量中把握本质的直觉都会有很大帮助。 数学高阶 作为计算机系的学生，我经常听到数学无用论的论断，对此我不敢苟同但也无权反对，但若凡事都硬要争出个有用和无用的区别来，倒也着实无趣，因此下面这些面向高年级甚至研究生的数学课程，大家按兴趣自取所需。 凸优化 Standford EE364A: Convex Optimization 信息论 MIT6.441: Information Theory 应用统计学 MIT18.650: Statistics for Applications 初等数论 MIT18.781: Theory of Numbers 密码学 Standford CS255: Cryptography 编程入门 Languages are tools, you choose the right tool to do the right thing. Since there's no universally perfect tool, there's no universally perfect language. Shell MIT-Missing-Semester Python CS50P: CS50's Introduction to Programming with Python Harvard CS50: This is CS50x UCB CS61A: Structure and Interpretation of Computer Programs C++ Stanford CS106B/X: Programming Abstractions Stanford CS106L: Standard C++ Programming Rust Stanford CS110L: Safety in Systems Programming OCaml Cornell CS3110 textbook: Functional Programming in OCaml 电子基础 电路基础 作为计算机系的学生，了解一些基础的电路知识，感受从传感器收集数据到数据分析再到算法预测整条流水线，对于后续知识的学习以及计算思维的培养还是很有帮助的。EE16A&B: Designing Information Devices and Systems I&II 是伯克利 EE 学生的大一入门课，其中 EE16A 注重通过电路从实际环境中收集和分析数据，而 EE16B 则侧重从这些收集到的数据进行分析并做出预测行为。 信号与系统 信号与系统是一门我觉得非常值得一上的课，最初学它只是为了满足我对傅里叶变换的好奇，但学完之后我才不禁感叹，傅立叶变换给我提供了一个全新的视角去看待这个世界，就如同微分方程一样，让你沉浸在用数学去精确描绘和刻画这个世界的优雅与神奇之中。 MIT 6.003: signal and systems 提供了全部的课程录影、书面作业以及答案。也可以去看这门课的远古版本 而 UCB EE120: Signal and Systems 关于傅立叶变换的 notes 写得非常好，并且提供了6 个非常有趣的 Python 编程作业，让你实践中运用信号与系统的理论与算法。 数据结构与算法 算法是计算机科学的核心，也是几乎一切专业课程的基础。如何将实际问题通过数学抽象转化为算法问题，并选用合适的数据结构在时间和内存大小的限制下将其解决是算法课的永恒主题。如果你受够了老师的照本宣科，那么我强烈推荐伯克利的 UCB CS61B: Data Structures and Algorithms 和普林斯顿的 Coursera: Algorithms I & II，这两门课的都讲得深入浅出并且会有丰富且有趣的编程实验将理论与知识结合起来。 以上两门课程都是基于 Java 语言，如果你想学习 C/C++ 描述的版本，可以参考斯坦福的数据结构与基础算法课程 Stanford CS106B/X: Programming Abstractions。偏好 Python 的同学可以学习 MIT 的算法入门课 MIT 6.006: Introduction to Algorithms 对一些更高级的算法以及 NP 问题感兴趣的同学可以学习伯克利的算法设计与分析课程 UCB CS170: Efficient Algorithms and Intractable Problems 或者 MIT 的高阶算法 MIT 6.046: Design and Analysis of Algorithms。 软件工程 入门课 一份“能跑”的代码，和一份高质量的工业级代码是有本质区别的。因此我非常推荐低年级的同学学习一下 MIT 6.031: Software Construction 这门课，它会以 Java 语言为基础，以丰富细致的阅读材料和精心设计的编程练习传授如何编写不易出 bug、简明易懂、易于维护修改的高质量代码。大到宏观数据结构设计，小到如何写注释，遵循这些前人总结的细节和经验，对于你此后的编程生涯大有裨益。 专业课 当然，如果你想系统性地上一门软件工程的课程，那我推荐的是伯克利的 UCB CS169: software engineering。但需要提醒的是，和大多学校（包括贵校）的软件工程课程不同，这门课不会涉及传统的 design and document 模式，即强调各种类图、流程图及文档设计，而是采用近些年流行起来的小团队快速迭代 Agile Develepment 开发模式以及利用云平台的 Software as a service 服务模式。 体系结构 入门课 从小我就一直听说，计算机的世界是由 01 构成的，我不理解但大受震撼。如果你的内心也怀有这份好奇，不妨花一到两个月的时间学习 Coursera: Nand2Tetris 这门无门槛的计算机课程。这门麻雀虽小五脏俱全的课程会从 01 开始让你亲手造出一台计算机，并在上面运行俄罗斯方块小游戏。一门课里涵盖了编译、虚拟机、汇编、体系结构、数字电路、逻辑门等等从上至下、从软至硬的各类知识，非常全面。难度上也是通过精心的设计，略去了众多现代计算机复杂的细节，提取出了最核心本质的东西，力图让每个人都能理解。在低年级，如果就能从宏观上建立对整个计算机体系的鸟瞰图，是大有裨益的。 专业课 当然，如果想深入现代计算机体系结构的复杂细节，还得上一门大学本科难度的课程 UCB CS61C: Great Ideas in Computer Architecture。UC Berkeley 作为 RISC-V 架构的发源地，在体系结构领域算得上首屈一指。其课程非常注重实践，你会在 Project 中手写汇编构造神经网络，从零开始搭建一个 CPU，这些实践都会让你对计算机体系结构有更为深入的理解，而不是仅停留于“取指译码执行访存写回”的单调背诵里。 系统入门 计算机系统是一个庞杂而深刻的主题，在深入学习某个细分领域之前，对各个领域有一个宏观概念性的理解，对一些通用性的设计原则有所知晓，会让你在之后的深入学习中不断强化一些最为核心乃至哲学的概念，而不会桎梏于复杂的内部细节和各种 trick。因为在我看来，学习系统最关键的还是想让你领悟到这些最核心的东西，从而能够设计和实现出属于自己的系统。 MIT6.033: System Engineering 是 MIT 的系统入门课，主题涉及了操作系统、网络、分布式和系统安全，除了知识点的传授外，这门课还会讲授一些写作和表达上的技巧，让你学会如何设计并向别人介绍和分析自己的系统。这本书配套的教材 Principles of Computer System Design: An Introduction 也写得非常好，推荐大家阅读。 CMU 15-213: Introduction to Computer System 是 CMU 的系统入门课，内容覆盖了体系结构、操作系统、链接、并行、网络等等，兼具广度和深度，配套的教材 Computer Systems: A Programmer's Perspective 也是质量极高，强烈建议阅读。 操作系统 没有什么能比自己写个内核更能加深对操作系统的理解了。 操作系统作为各类纷繁复杂的底层硬件虚拟化出一套规范优雅的抽象，给所有应用软件提供丰富的功能支持。了解操作系统的设计原则和内部原理对于一个不满足于当调包侠的程序员来说是大有裨益的。出于对操作系统的热爱，我上过国内外很多操作系统课程，它们各有侧重和优劣，大家可以根据兴趣各取所需。 MIT 6.S081: Operating System Engineering，MIT 著名 PDOS 实验室出品，11 个 Project 让你在一个实现非常优雅的类Unix操作系统xv6上增加各类功能模块。这门课也让我深刻认识到，做系统不是靠 PPT 念出来的，是得几万行代码一点点累起来的。 UCB CS162: Operating System，伯克利的操作系统课，采用和 Stanford 同样的 Project —— 一个教学用操作系统 Pintos。我作为北京大学2022年春季学期操作系统实验班的助教，引入并改善了这个 Project，课程资源也会全部开源，具体参见课程网站。 NJU: Operating System Design and Implementation，南京大学的蒋炎岩老师开设的操作系统课程。蒋老师以其独到的系统视角结合丰富的代码示例将众多操作系统的概念讲得深入浅出，此外这门课的全部课程内容都是中文的，非常方便大家学习。 并行与分布式系统 想必这两年各类 CS 讲座里最常听到的话就是“摩尔定律正在走向终结”，此话不假，当单核能力达到上限时，多核乃至众核架构如日中天。硬件的变化带来的是上层编程逻辑的适应与改变，要想充分利用硬件性能，编写并行程序几乎成了程序员的必备技能。与此同时，深度学习的兴起对计算机算力与存储的要求都达到了前所未有的高度，大规模集群的部署和优化也成为热门技术话题。 并行计算 CMU 15-418/Stanford CS149: Parallel Computing 分布式系统 MIT 6.824: Distributed System 系统安全 不知道你当年选择计算机是不是因为怀着一个中二的黑客梦想，但现实却是成为黑客道阻且长。 理论课程 UCB CS161: Computer Security 是伯克利的系统安全课程，会涵盖栈攻击、密码学、网站安全、网络安全等等内容。 ASU CSE365: Introduction to Cybersecurity 亚利桑那州立大学的 Web 安全课程，主要涉及注入、汇编与密码学的内容。 ASU CSE466: Computer Systems Security 亚利桑那州立大学的系统安全课程，涉及内容全面。门槛较高，需要对 Linux, C 与 Python 充分熟悉。 实践课程 掌握这些理论知识之后，还需要在实践中培养和锻炼这些“黑客素养”。CTF 夺旗赛是一项比较热门的系统安全比赛，赛题中会融会贯通地考察你对计算机各个领域知识的理解和运用。北大今年也成功举办了第 0 届和第 1 届，鼓励大家后期踊跃参与，在实践中提高自己。下面列举一些我平时学习（摸鱼）用到的资源： CTF-wiki CTF-101 Hacker-101 计算机网络 没有什么能比自己写个 TCP/IP 协议栈更能加深对计算机网络的理解了。 大名鼎鼎的 Stanford CS144: Computer Network，8 个 Project 带你实现整个 TCP/IP 协议栈。 如果你只是想在理论上对计算机网络有所了解，那么推荐计网著名教材《自顶向下方法》的配套学习资源 Computer Networking: A Top-Down Approach。 数据库系统 没有什么能比自己写个关系型数据库更能加深对数据库系统的理解了。 CMU 的著名数据库神课 CMU 15-445: Introduction to Database System 会通过 4 个 Project 带你为一个用于教学的关系型数据库 bustub 添加各种功能。实验的评测框架也免费开源了，非常适合大家自学。此外课程实验会用到 C++11 的众多新特性，也是一个锻炼 C++ 代码能力的好机会。 Berkeley 作为著名开源数据库 postgres 的发源地也不遑多让，UCB CS186: Introduction to Database System 会让你用 Java 语言实现一个支持 SQL 并发查询、B+ 树索引和故障恢复的关系型数据库。 编译原理 没有什么能比自己写个编译器更能加深对编译器的理解了。 Stanford CS143: Compilers 带你手写编译器。 Web开发 前后端开发很少在计算机的培养方案里被重视，但其实掌握这项技能还是好处多多的，例如搭建自己的个人主页，抑或是给自己的课程项目做一个精彩的展示网页。 两周速成版 MIT web development course 系统学习版 Stanford CS142: Web Applications 计算机图形学 Stanford CS148 Games101 Games103 Games202 数据科学 其实数据科学和机器学习与深度学习有着很紧密的联系，但可能更侧重于实践。Berkeley 的 UCB Data100: Principles and Techniques of Data Science 通过丰富的编程练习让你在实践中掌握各类数据分析工具和算法，并带领你体验从海量的数据集中提取出想要的结果，并对未来的数据或用户的行为做出相应的预测。但这只是一门基础课，如果想学习工业级别的数据挖掘与分析技术，可以尝试 Stanford 的大数据挖掘课程 CS246: Mining Massive Data Sets。 人工智能 近十年人工智能应该算是计算机界最火爆的领域。如果你不满足于整日听各路媒体争相报道人工智能相关的进展，而想真正一探究竟，那么非常推荐学习 Harvard 神课 CS50 系列的人工智能课程 Harvard CS50: Introduction to AI with Python。课程短小精悍，覆盖了传统人工智能领域的几大分支，并配有丰富有趣的 Python 编程练习来巩固你对人工智能算法的理解。美中不足的是这门课因为面向在线自学者的缘故内容较为精简，并且不会涉及特别深入的数学理论，如果想要系统深入地学习还需要一门本科生难度的课程，例如 Berkeley 的 UCB CS188: Introduction to Artificial Intelligence。这门课的 Project 复刻了经典游戏糖豆人，让你运用人工智能算法玩游戏，非常有趣。 机器学习 机器学习领域近些年最重要的进展就是发展出了基于神经网络的深度学习分支，但其实很多基于统计学习的算法依然在数据分析领域有着广泛的应用。如果你之前从未接触过机器学习的相关知识，而且不想一开始就陷入艰深晦涩的数学证明，那么不妨先从 Andrew Ng （吴恩达）的 Coursera: Machine Learning 学起。这门课在机器学习领域基本无人不晓，吴恩达以其深厚的理论功底和出色的表达能力把很多艰深的算法讲得深入浅出，并且非常实用。其配套的作业也是质量相当上乘，可以帮助你快速入门。 但上过这门课只能让你从宏观上对机器学习这一领域有一定了解，如果想真正理解那些“神奇”算法背后的数学原理甚至从事相关领域的科研工作，那么还需要一门更“数学”的课程，例如 Stanford CS229: Machine Learning 或者 UCB CS189: Introduction to Machine Learning。 深度学习 前几年 AlphaGo 的大热让深度学习进入了大众的视野，不少大学甚至专门成立了相关专业。很多计算机的其他领域也会借助深度学习的技术来做研究，因此基本不管你干啥多少都会接触到一些神经网络、深度学习相关的技术需求。如果想快速入门，同样推荐 Andrew Ng （吴恩达）的 Coursera: Deep Learning，质量无需多言，Coursera 上罕见的满分课程。此外如果你觉得英文课程学习起来有难度，推荐李宏毅老师的 国立台湾大学：机器学习 课程。这门课打着机器学习的名号，却囊括了深度学习领域的几乎所有方向，非常全面，很适合你从宏观上对这个领域有一个大致的了解。而且老师本人也非常幽默，课堂金句频出。 当然因为深度学习领域发展非常迅速，已经拥有了众多研究分支，如果想要进一步深入，可以按需学习下面罗列的代表课程， 计算机视觉 Stanford CS231n: CNN for Visual Recognition 自然语言处理 Stanford CS224n: Natural Language Processing 图神经网络 Stanford CS224w: Machine Learning with Graphs 强化学习 UCB CS285: Deep Reinforcement Learning 定制属于你的课程地图 授人以鱼不如授人以渔。 以上的课程规划难免带有强烈的个人偏好，不一定适合所有人，更多是起到抛砖引玉的作用。如果你想挑选自己感兴趣的方向和内容加以学习，可以参考我在下面列出来的资源。 MIT OpenCourseWare: 麻省理工学院的课程资源开放共享项目，收录了数以千计的各科课程资源，其中计算机类的课号是 6.xxx。 MIT CS Course List: 麻省理工学院的 CS 课程列表。 UC Berkeley EECS Course Map: UC Berkeley 的 EECS 培养方案，以课程地图的方式将各门课程的类别和先修关系一目了然地呈现，其中绝大多数课程本书中均有收录。 UC Berkeley CS Course List: UC Berkeley 的 CS 课程列表。 Stanford CS Course List: 斯坦福的 CS 课程列表。 "},"3cs/1android.html":{"url":"3cs/1android.html","title":"1android","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 使用技巧 MIUI关闭系统广告 刷机 majisk 获取root LSPosed模块生态丰富 冰箱随时冻结、解冻软件 AdHome广告拦截 kindle用U盘传文件 目录 [TOC] 使用技巧 MIUI关闭系统广告 关闭系统广告，冰箱冻结智能服务和analytics。 刷机 参考 ！LineageOS 官方教程——Redmi K30 Pro Pixel Experience 安装教程——基于Lineage，原生谷歌生态；貌似更好用，bug更少 网络教程安装MIUI或者lineage 跳过验证谷歌 lineage支持设备列表 XDA论坛redmi k30 pro 刷机资源收集 k30 pro第三方rom汇总对比表 derpfest猫头鹰系统 准备 下载rom包和recovery包！lineage ( lineage系统必须使用专用recovery)（或者microG版本的Lineage系统） 手机设置——小米账号——云备份——桌面云备份 手机设置——我的设备——备份与恢复——手机备份 连接电脑——复制文件夹MIUI/backup/allbackup 手机恢复出厂设置——更多设置——开发者选项——打开USB调试（我的设备——全部参数——miui版本连续点击）（设备解锁状态，需要提前一周申请） （下载谷歌套件开源替代——MindTheGapps-13.0.0-arm64-20221025_100653.zip，注意选择安卓版本与arm64)（或者microG版本的Lineage系统） （关机时同时长按音量下键和开关机键，可以进入fastboot模式，音量+和电源键则是recovery模式） 开始刷机 （如果刷入Gapps谷歌，必选第1、2步！！否则无法上外网就进不去系统，除非有外网热点） 刷miui的Recovery跳过验证谷歌：打开脚本 H:\\3backup\\redmi K30 PRO\\刷机\\TWRP\\recovery-twrp一键刷入工具-1-先跳过谷歌验证.bat，按照指示操作；手机弹窗允许usb调试；重启后自动先后进入fastboot和recovery模式。（更改bat脚本中的包名set rec_img=从而刷入不同的recovery包：刷miui用twrp_3.6.2_LMI_unofficialtwrp.img，刷lineage用lineage_recovery.img） 跳过验证谷歌：打开recovery后，点击高级，点击终端，高通cpu的输入dd if=/dev/zero of=/dev/block/by-name/frp，联发科cpu输入dd if=/dev/zero of=/dev/block/bootdevice/by-name/frp，最后重启到Boot Loader（fastboot）。(注意zero 和of之间有空格。) 刷入lineage的recovery ( 功能太少 )：打开脚本H:\\3backup\\redmi K30 PRO\\刷机\\TWRP\\recovery-twrp一键刷入工具-2-lineage.bat，按照指示操作后手机自动进入recovery。(建议使用twrp，以部分防止变砖：1. 清除数据——同一系统可能仅滑动恢复出厂即可（不同系统乃至安卓版本不一样，则必须格式化Data分区、高级清除全选）；2. 开启adb侧载——高级，ADB sideload，全选，开始；3. 电脑刷入系统：adb devices查看是否已连接设备，如果有，则adb sideload lineage-xxx.zip；4. 成功后重启系统) 刷入lineage系统：Factory Reset——格式化全部三项——返回apply update ——apply from ADB——电脑双击打开cmd命令行.bat执行.\\adb.exe sideload lineage-20.0-20230325-nightly-lmi-signed.zip（或者adb sideload lineage-20.0-20231109-microG-lmi.zip）（两个文件和终端路径在同一目录下；Table键可以帮助填充文件名）（刷入microG版本时手机报错鉴权错误时应该继续） 刷入谷歌套件(lineage-microG版不需要)：再次apply update，apply from ADB——执行.\\adb.exe sideload MindTheGapps-13.0.0-arm64-20221025_100653.zip刷入google——手机提示signature verification failed，点击继续。——手机reboot system now 进入系统初始设置，建议取消google所有勾选，关闭更新lineage恢复。建议关闭系统更新，因为似乎会使magisk失效，冰箱已冻结的app无法启用。（系统app需要重新启用，非系统app需要手动重新安装） 4. 刷入miui（出现过lineage无法刷入其他recovery的情况，好像没关系。直接刷其他系统包就行）：清除数据（wipe）——格式化data分区——返回高级清除（advanced wipe）——勾选所有（）——返回重启——recovery。安装（install）——sdcard/twrp(复制lineage安装包到此目录)——重启 问题 lineage 重新刷回 低版本安卓的 miui后，如果更新系统会一直卡在recovery，无法进入系统。解决办法是重新刷回lineage，或者最新版本miui（也无法更新系统，但是可以进入系统）。 lineage 横屏时音量增减反了；刷入microG套件后发现没有声音。 若无法挂载data无法解密，搜索 twrp k30 pro最近一年，下载最新twrp.img 无法跳过验证谷歌，一直卡在“正在准备你的手机”——进入twrp，点击高级，点击终端，高通cpu的输入dd if=/dev/zero of=/dev/block/by-name/frp，确定（联发科cpu输入dd if=/dev/zero of=/dev/block/bootdevice/by-name/frp） magisk可能干扰微信、中国银行等的人脸验证，在magisk设置中伪装隐藏，但仍然可能无效 微信小程序同程艺龙完全无法使用。支付宝小程序飞猪、12306有时无法选择起始和终点站。（使用微信飞猪，携程一切正常） pubg mobile 开clash能下载安装，但是不能下载资源进入游戏。（5G移动不行，4G和WiFi可以） 其他 谷歌相机 教程，lineage相机很差劲，可以搜索自己手机是否有谷歌相机支持。 新建GCam/Configs7文件夹，并将下载的配置文件放入 下载安装谷歌相机，连击快门按钮周边的区域，选择配置，restore。（若无谷歌框架需要解决闪退，下载安装谷歌相机伪装） 点击上部箭头进入相机设置——照片——使用第三方图库 lineage开发者模式，设置——关于手机——版本号连续点击 底部上划进入应用切换页面时，点击应用图标，可以进入应用设置、上下分屏、固定。 搜狗输入法，设置为默认 MT文件管理器，设置为默认 开发者选项/无障碍设置，关闭动画 设置，网络和互联网，sim卡，首选网络类型，选NR/LTE/TDSCDMA/开头的，从而打开5G 设置，默认应用，主屏幕应用，隐藏和保护应用 传微信，clash，节点订阅 设置，系统，状态栏，开启网络流量监视 magisk可能干扰微信、中国银行等的人脸验证，在magisk设置中伪装隐藏，但仍然可能无效 天气软件weewow完美适配系统日历，闹钟等 majisk 获取root 开启lineage调试：进入lineage开发者模式（设置——关于手机——版本号连续点击开启）——返回设置，系统，开发者选项——调试部分打开USB调试——网络部分设置默认USB配置为文件传输。 安装apk：电脑下载magisk的安装包，传给手机并安装。然后电脑端修改安装包格式为zip。 将zip刷入系统内：手机关机，长按电源键和音量加键进入recovery模式——apply update ——apply from ADB——电脑打开cmd命令行.cmd执行.\\adb.exe sideload Magisk-v25.2.zip——手机提示验证失败继续（如果卡住电脑cmd回车）——reboot system now 查看magisk 底边栏root可进入，至此magisk获取root成功。 LSPosed模块生态丰富 下载LSPosed模块zygisk版本(xposed只支持安卓8及以下)。(riru版本2022停止更新，且可能需要先下载riru ) 打开Magisk – 设置 – 开启 Zygisk 打开Magisk – 模块 – 从本地安装 - 选择LSPosed压缩包 - 重启 重启设备，点开通知栏 lsposed（如果没显示，可以通过拨号键输入 ##5776733## 进入LSPosed） 1.创建快捷方式 – 2.状态通知 关闭。若LSPosed 显示“已激活”则成功刷入。 冰箱随时冻结、解冻软件 禁用谷歌服务框架，就能直接跳过biubiu加速器广告，不显示广告直接拿到加速时长奖励，加速 PUBG mobile。 AdHome广告拦截 下载该模块后用magisk添加： 浏览器打开http://127.0.0.1:3000/#filters，新增规则列表。 kindle用U盘传文件 "},"3cs/1linux.html":{"url":"3cs/1linux.html","title":"1linux","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 常见命令 apt软件管理 软件安装卸载 查看文件内容 查看历史命令 删除用户帐号 用户口令管理 使用技巧 设置文件默认打开程序 Linux刷回windows（重装系统） Linux主机上qemu+kvm直通显卡 linux作为host，qemu/kvm虚拟windows base64加密 openssl加密文件 rename批量修改文件名 crontab设置定时任务 vmware自动挂载win共享文件夹 bash-it 插件 自定义shell命令（程序别名） 命令含特殊字符，如空格 终端后台执行命令、执行多条命令 open-vm-tools自由分辨率+文件拖拽 swap交换分区 imwheel更改鼠标滚轮速度 切换工作区 系统自带截图 Alt + F2 输入r 重启gnome桌面 nvm 管理node 版本 .zshrc自动执行命令 软件 wps旧版可编辑pdf audacity音频降噪 ImageMagick批量压缩图指定大小 XTerm终端复制粘贴 UltraEdit Visual Studio Code 音乐播放器qmmp chrome typora 微信 QQ 搜狗输入法 安卓虚拟机waydroid 问题 网络图标消失，无法联网 ubuntu 启动很慢,F2显示1m30s 域名解析失败（向日葵断开连接） 目录 [TOC] 参考： Linux 命令大全—— 菜鸟教程 Linux命令大全(手册) 《Linux 101》在线讲义(左上两级目录) DevOps-Guide Ubuntu官方文档 ubuntu社区 常见命令 命令 功能 rm -r -f 目录名 递归、强制地删除 whereis xxx 查看软件安装位置 dpkg -i xxx.deb 安装deb包 tar -xzvf xxx.gz 解压缩（.tar、.tar.gz、.tar.bz2） unzip xxx.zip -d ./xxx 解压缩至xxx文件夹（防止遍地都是） CTRL + D 退出某个环境 history 10 查看最近10个命令 history \\ grep 'xxx' 关键词查找命令 Ctrl + r，'xxx' 关键词查找（回车执行，右方向修改） alias 查看所有程序别名（定义alias xx='命令'） apt软件管理 # 列出所有可更新的软件清单命令 sudo apt update # 升级软件包 sudo apt upgrade # 列出可更新的软件包及版本信息 apt list --upgradeable # 升级软件包，升级前先删除需要更新软件包 sudo apt full-upgrade # 安装指定的软件命令 sudo apt install # 安装多个软件包 sudo apt install # 更新指定的软件命令 sudo apt update # 显示软件包具体信息,例如 版本号，安装大小，依赖关系等等 sudo apt show # 删除软件包命令 sudo apt remove # 清理不再使用的依赖和库文件 sudo apt autoremove # 移除软件包及配置文件 sudo apt purge # 查找软件包命令 sudo apt search # 列出所有已安装的包 apt list --installed # 列出所有已安装的包的版本信息 apt list --all-versions 软件安装卸载 # 解压 # .zip unzip xxx.zip # .deb dpkg -i xxx.deb # .tar、.tar.gz、.tar.bz2 tar -xzvf xxx.gz ## APPimage，先添加可执行权限，然后执行 chmod a+x *.AppImage ./*.AppImage # 卸载 # deb dpkg -r linuxqq # apt # 知道具体名称 sudo apt-get remove --purge 软件名称 sudo apt-get autoremove --purge 软件名称 # 不知道具体名称，查询 dpkg --get-selections | grep '模糊名称字段' # 清理残留数据 dpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P 查看文件内容 cat 由第一行开始显示文件内容，如： cat ~/Desktop/1.txt tac 从最后一行开始显示,逐次上一行（可以看出 tac 是 cat 的倒着写！） nl 显示的时候，顺道输出行号！ more 一页一页的显示文件内容 less 与 more 类似，但是比 more 更好的是，他可以往前翻页！ head 只看头几行 tail 只看尾巴几行 man 命令名 来查看各个命令的使用文档，如 ： man cp 查看历史命令 # 查询历史文件位置 echo $HISTFILE # 更改文件位置（例如，zsh 未设置 HISTFILE 变量，可在shell配置文件中添加保存位置） vim ~/.zshrc HISTFILE=~/.zsh_history # 还可以更改保存行数（一般已存在，修改而非添加） HISTFILESIZE=5000 HISTSIZE=5000 # 打开文件 vim ~/.bash_history 删除用户帐号 # 如果一个用户的账号不再使用，可以从系统中删除。 # 删除用户账号就是要将/etc/passwd等系统文件中的该用户记录删除。 # 必要时还应该删除用户的主目录。 userdel -r sam # 此命令删除用户sam在系统文件中的记录，同时删除用户的主目录。 # （主要是/etc/passwd, /etc/shadow, /etc/group等） 用户口令管理 passwd 选项 用户名 # 可使用的选项： # -l 锁定口令，即禁用账号。 # -u 口令解锁。 # -d 使账号无口令。 # -f 强迫用户下次登录时修改口令。 # （用户管理的一项重要内容是用户口令的管理。用户账号刚创建时没有口令，但是被系统锁定，无法使用，必须为其指定口令后才可以使用，即使是指定空口令。） 使用技巧 设置文件默认打开程序 如PDF：右键任意pdf文件，属性，打开为，选中WPS PDF，设置为默认。 Linux刷回windows（重装系统） 老毛桃预装360等毒瘤？下次换微PE安装（可能功能会简陋一些？） 如果已经安装了可以重置系统：设置，更新与安全，恢复，重置此电脑。 准备：备份U盘，另一台windows电脑下载老毛桃工具箱完整版和win10系统ios镜像官方版。 制作u盘启动盘：打开老毛桃，U盘启动，普通模式，USB-HDD，NTFS，一键制作成USB启动盘。复制ISO系统镜像文件到u盘启动盘，笔记本电脑插入U盘。 BIOS设置U盘启动：重启，同时狂按F2（Lenovo-R720）进入BIOS设置。BOOT菜单，上下箭头移动到EFI和Legacy中的U盘USB Device (hp v206w)，F6将两者都移动到最顶部。Exit菜单，exit saving changes，确认进入老毛桃系统。 重建分区：双击桌面图标“分区工具”，右键左侧菜单所有硬盘（HD0、HD1等），删除所有分区，保存更改。固态系统C盘128G，新建分区，全选建立ESP和MSR分区，格式化为NTFS，保存更改，确定格式化。机械数据D盘1T，新建分区，不选ESP、MSR，保存更改，确定格式化。 重装Win10：双击桌面图标“老毛桃一键装机”，打开选择镜像文件，版本选最好的专业工作站版，盘符选C盘固态，执行，选中格式化分区、网卡驱动、USB驱动、SATA驱动，勾选完成后重启，等到重启时拔掉U盘以免进入老毛桃系统。 20230625成功，卸载老毛桃预装软件。（还有360这种毒瘤？下次换微PE安装） Linux主机上qemu+kvm直通显卡 ? 如果是linux虚拟机需要双显卡 linux作为host，qemu/kvm虚拟windows ? https://linux.cn/article-15834-1.html https://www.google.com/search?q=linux%E4%BD%9C%E4%B8%BAhost%EF%BC%8Cqemu%2Fkvm%E8%99%9A%E6%8B%9Fwindows&ie=UTF-8 base64加密 echo \"wang@123\"|base64 # 加-i选项也可以，输出 d2FuZ0AxMjMK echo \"d2FuZ0AxMjMK\"|base64 -d # 对上面加密后的字符串进行解密操作，成功解密wang@123 openssl加密文件 tar等压缩程序也可以实现。 openssl aes-256-cbc -salt -in gitbook.sh -out secret.sh # 加密文件，输入密码并确认。 # （默认有salt，相当于随机数干扰) # (但是是不是就只能本地解密？因为不知道salt是啥?） openssl aes-256-cbc -d -in secret.sh -out 2gitbook.sh # 解密文件 cmp gitbook.sh 2gitbook.sh # 简单对比两个文件，无返回说明文件相同 # 否则返回行号和字节位置，如：byte 12, line 2 echo $? # 会返回不同数量，0说明文件相同 rename批量修改文件名 linux终端输入rename命令，可以修改当前文件夹内的所有文件名 此外，ubuntu自带的重命名功能也很强大。 # 改为全大写 sudo rename 'y/A-Z/a-z/' * # 改为全小写 sudo rename 'y/a-z/A-Z/' * crontab设置定时任务 # https://www.cnblogs.com/0201zcr/p/4739207.html #查看任务列表 crontab -l # 编辑 crontab -e # 时程表的格式如下: # f1 f2 f3 f4 f5 program #其中 f1 是表示分钟，f2 表示小时，f3 表示一个月份中的第几日，f4 表示月份，f5 表示一个星期中的第几天。program 表示要执行的程式。 * 3 * * * /home/lee/gitbook.sh */5 * * * * ./home/lee/gitbook.sh # 好像没生效…… vmware自动挂载win共享文件夹 # 打开‘启动应用程序’ gnome-session-properties # 添加以下命令，取名自动挂载 sudo vmhgfs-fuse -o allow_other .host:/ /mnt/hgfs bash-it 插件 https://github.com/Bash-it/bash-it 自定义shell命令（程序别名） vim ~/.bashrc # 填入 alias 命令=’可执行文件全局路径’ source ~/.bashrc 命令含特殊字符，如空格 # 利用反斜杠\\做转义符 # 如文件1 copy.i ./phase2eq5-dbg -i problems/1\\ copy.i 终端后台执行命令、执行多条命令 # 命令后追加 & /usr/local/VSCode-linux-x64/code & # \\ 反斜杠按序执行 # ; 分号按序执行 cd /home/PyTest/src ; python suning.py # && 执行成功，才会去执行后续命令 cd /home/PyTest/src && python suning.py # || 或者 | # ||是或的意思，只有前面的命令执行失败后才去执行下一条命令，直到执行成功一条命令为止。 cd /home/PyTest/123 || echo \"error234\" cd /home/PyTest/123 | echo \"error234\" open-vm-tools自由分辨率+文件拖拽 sudo apt install open-vm-tools sudo apt install dkms sudo apt install open-vm-tools-desktop swap交换分区 https://help.ubuntu.com/community/SwapFaq # 查看交换分区大小 swapon -s # 如果查看的时候有内容显式表示当前是处于启用状态，如果什么内容都没有则是未启用 # 如果当前swapfile是启用状态则需要先使用swapoff关闭交换分区，再进行大小的调整 sudo swapoff /swapfile # 调整大小 sudo dd if=/dev/zero of=/swapfile bs=1M count=2048 # 这里是设置交换分区单位为1M，大小是16384，也就是16G，一般设置为虚拟机设置的内存的两倍，count值自己计算一下。（感觉用不了这么多） # 17 笔记本 200 MB/s # 21 工位台式机 100 MB/s # 创建swapfile # 相当于根据调整的大小重新建一个swapfile sudo mkswap /swapfile # 启用交换分区 sudo swapon /swapfile imwheel更改鼠标滚轮速度 直接自定义配置 | 原版脚本参考 | 论坛 sudo apt install imwheel bash # 上面只能上下滚动相同。自定义可修改配置.imwheelrc sudo vim .imwheelrc # 在Button4和Button5设置数字为3、4大概一次会滚动7、14行。 切换工作区 键 功能 Ctrl + Alt + 上下方向键 快速上下切换 Win 可视化所有工作区 问题：只有主显示器有工作区分区 安装gnome-tweak-tools sudo apt update sudo add-apt-repository universe # sudo apt install gnome-tweaks # 报错未满足的依赖关系——换成 aptitude 安装 # https://blog.csdn.net/weixin_39145415/article/details/121726723 sudo apt-get install aptitude sudo aptitude install gnome-tweak-tool # ！！！提示依赖的包已安装，但版本比需求的要高 # 1. 是否接受该解决方案, no # 2. 提醒降级软件包，是否接受该解决方案, yes # 运行软件 gnome-tweaks 系统自带截图 键 功能 PrtSc 获取整个屏幕的截图并保存到 Pictures 目录。 Shift + PrtSc 获取屏幕的某个区域截图并保存到 Pictures 目录。 Alt + PrtSc 获取当前窗口的截图并保存到 Pictures 目录。 Ctrl +以上 存放到剪贴板 Alt + F2 输入r 重启gnome桌面 nvm 管理node 版本 sudo apt-get install build-essential # https://github.com/nvm-sh/nvm#install--update-script curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.0/install.sh | bash nvm install 18.14.2 nvm use 18.14.2 nvm ls # default version nvm alias default v18.14.2 .zshrc自动执行命令 sudo vim ~/.zsdefaulthrc # 添加以下命令，即可在打开新终端时自动执行。 echo \"nameserver 8.8.8.8\" | sudo tee /etc/resolv.conf > /dev/null 软件 github超赞的-linux-软件仓库 linux游戏站 wps旧版可编辑pdf 直接下载安装包 来源：arclinux软件仓库 降级安装：先删除配置，rm -rI ~/.config/Kingsoft/，再安装sudo dpkg -i wps-office_11.1.0.10161_amd64.deb。 内存占用700MB。 audacity音频降噪 github下载，给运行权限chmod +x *.AppImage，双击运行。 导入音频：file, import, audio。 降噪：effect，noise removal and repair，noise reduction，get noise profile 选中噪音：F1选择模式，单击选中纯噪音段起始时刻，ctrl 选中结束时刻，再次进入上一步降噪。可以设置降噪强度，敏感度，平滑度。OK确定，开始降噪处理。 导出音频。 ImageMagick批量压缩图指定大小 软件下载AppImage格式 命令选项网页 ImageMagick是一个用于查看、编辑位图文件以及进行图像格式转换的开放源代码软件套装。它可以读取、编辑超过100种图帧式。主要由大量的命令行程序组成，而不提供图形界面。它还为很多程序语言提供了API库。 chmod a+x magick # 压缩图片略小于指定值(MB、KB)，应该是多次压缩后比较判断 ./magick convert 春游*.jpg -define jpeg:extent=25MB output.jpg # reduce the image size before it is written to the PNG format: magick rose.jpg -resize 50% rose.png XTerm终端复制粘贴 XTerm 是一个终端介面，最近刚好使用到，但在使用复制功能时就有点不顺了。传统上我们只要使用 ctrl + c 就能复制 ctrl + v 就能贴上，但在 XTerm 上却无法使用。以下我们就来看看如何处理这个问题。 XTerm 内复制贴上 用鼠标选取想复制的内文，按 shift + insert (Ins) 即可在 XTerm 的里面贴上想复制的文字。 XTerm 外复制 如果要把 XTerm 内的文字复制出来就有点麻烦了。 先打开 ~/.Xresources ( 或是建立一个 )，内文输入如下 XTerm*selectToClipboard: true 接着打开 terminal 执行以下指令 xrdb -merge ~/.Xresources 再重新打开 XTerm 即可使用 ctrl + c 复制文字到外面了 XTerm终端复制粘贴2 https://www.cnblogs.com/foreverwith/p/3680842.html 在系统自带的终端中一律是SHIFT+CRTL+C(V),但是现在用了XTerm了,这个快捷键就不支持了 找了一下 让 xterm 与其它程序间复制粘贴更灵活 按照这个说的来就OK啦,还记得上一篇我们说的在主文件夹下建立一个.Xdefaults文件吗,这次我们在terminal下继续输入vim .Xdefaults 将以下代码复制到 XTerm\\*locale: zh\\_CN.UTF-8 的下面就可以啦,这样以后就可以自由的在XTerm中复制或者粘贴(鼠标中键,也就是滚动轮,不太习惯SHIFT+insert) 鼠标框选XTerm中内容后，中键粘贴到任何地方。 \\*VT100\\*translations: #override \\\\n\\\\ Shift Insert:insert-selection(CLIPBOARD, CUT\\_BUFFER1) \\\\n\\\\ ~Shift~Ctrl: insert-selection(CLIPBOARD, CUT\\_BUFFER1) \\\\n\\\\ ~Shift: select-end(CLIPBOARD, CUT\\_BUFFER1) UltraEdit # 复制以下（或者官网下载，信息随便填得到下载网页） # https://www.ultraedit.com/downloads/uex-thank-you/?mobile=1&email=1%40gmail.com wget https://downloads.ultraedit.com/main/ue/linux/deb/focal/uex_21.00.0.0_amd64.deb sudo dpkg -i uex_21.00.0.0_amd64.deb sudo apt --fix-broken install # 破解:删除配置文件，始终30天试用 rm -rfd ~/.idm/uex rm -rf ~/.idm/*.spl rm -rf /tmp/*.spl Visual Studio Code # 更新软件包索引，并且安装依赖软件： sudo apt update sudo apt install software-properties-common apt-transport-https wget # 使用 wget 命令插入 Microsoft GPG key ： wget -q https://packages.microsoft.com/keys/microsoft.asc -O- | sudo apt-key add - # 启用 Visual Studio Code 源仓库，输入： sudo add-apt-repository \"deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main\" # 一旦 apt 软件源被启用，安装 Visual Studio Code 软件包： sudo apt install code code 音乐播放器qmmp # https://launchpad.net/~forkotov02/+archive/ubuntu/ppa sudo add-apt-repository ppa:forkotov02/ppa sudo apt-get update sudo apt-get install qmmp qmmp-plugin-pack Name=typora Exec=/home/lee/software/typora/Typora Terminal=false Icon=/home/lee/software/typora/typora_icon.png Type=Application Categories=Development chrome 内存占用1.1GB。 typora 135MB内存 微信 优麒麟应用商店下载deb包，用命令sudo dpkg -i XXX.deb安装。 是linux原生的，但是只有基本的聊天功能，没有朋友圈小程序等，聊天不能图片编辑、@他人、显示时间，内存占用仍有870MB，但比wine的微信好像更轻巧。 QQ 官网下载x86版deb包安装（ubuntu），内存占用190MB。 搜狗输入法 60MB内存 安卓虚拟机waydroid （适配差，问题多） https://docs.waydro.id/usage/install-on-desktops sudo apt install curl ca-certificates -y curl https://repo.waydro.id | sudo bash sudo apt install waydroid -y 问题 网络图标消失，无法联网 service NetworkManager stop # 弹出用户认证 sudo rm /var/lib/NetworkManager/NetworkManager.state service NetworkManager start # 弹出用户认证 ubuntu 启动很慢,F2显示1m30s (swap 分区不自动挂载) A start job is running for dev-disk-by...UUID (xx s/ 1min30s) # 查看UUID，发现是swap分区，可能是之前分区操作错误 sudo vim /etc/fstab # 重新分区，记录第二步mkswap 时的UUID sudo dd if=/dev/zero of=/swapfile bs=1M count=8096 sudo mkswap /swapfile sudo swapon /swapfile # 查看内存使用情况确认有 Mem...Swap free -m # 实现永久自动挂载——找到 # swap was on ..., 更新UUID sudo vim /etc/fstab UUID=4a5a03bc-46eb-4b1d-a12b-fce2a4c28ed1 /swap swap defaults 0 0 域名解析失败（向日葵断开连接） 只有临时方法有效，临时添加 DNS 服务器。https://askubuntu.com/a/91595 sudo vim ~/.zshrc # 添加以下命令，即可在打开新终端时自动执行。 echo \"nameserver 8.8.8.8\" | sudo tee /etc/resolv.conf > /dev/null "},"3cs/1web.html":{"url":"3cs/1web.html","title":"1web","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 使用技巧 浏览器长按左上角箭头返回任意网页 高级搜索 资源 cs学习项目 问题 google出现其他语言，跟随 ip 地址 chrome安装插件：图像解码失败 目录 [TOC] 使用技巧 浏览器长按左上角箭头返回任意网页 高级搜索 站内搜索：site:bilibili.com 学习 完全匹配搜索：双引号“” 屏蔽关键词：减号- 模糊搜索：星号（如上海 机械有限公司，Google将 * 替换成任意内容） 特定格式文件搜索指令：filetype: pdf 或搜索：用 OR 连接，同时搜索两个词条 标题搜索：intitle:公司荣誉。只搜索标题，内容不进行匹配 正文搜索：intext: Mechanics。 搜索网址：inurl:Mechanics。（搜索所有的url（网址）中包含关键词的网址。） 资源 cs学习项目 前端网页小程序 Blog Finder发现优秀的个人博客 c++计算器 c++数独 终端计算器 终端剪切板 hellogithub月刊 微信客户端取证 问题 google出现其他语言，跟随 ip 地址 进入偏好设置 搜索结果——区域设置中选择香港。 语言——搜索结果目前的显示语言，选择中文 (简体), English, 中文 (繁體) chrome安装插件：图像解码失败 切换clash节点 "},"3cs/1windows.html":{"url":"3cs/1windows.html","title":"1windows","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 使用技巧 批量删除子文件夹内某种类型的文件 查看电脑已保存wifi的密码 win定时任务自动备份重要文件 笔记本+工位双屏协同 attrib命令隐藏文件夹 添加软件到开始屏幕 为无后缀文件设置默认打开程序 一键删除文件.bat 用 diskgenius 将 win 环境迁移到虚拟机 批量修改文件名后缀 删除Windows电脑本地PE系统 windows设置 安装&激活office windows镜像/虚拟机vmware win虚拟机扩展硬盘内存容量 win虚拟机安装vm tools win虚拟机无法使用共享文件夹 win虚拟机迁移微信聊天记录 快捷键 添加环境变量 windows永不更新 软件 重装系统 BBDown下载B站视频 EXCEL 筛选行号 Word 论文mathtype公式编号 word菜单栏没有mathtype 论文引用图、表 论文引用参考文献 解决尾注默认在文档最后 复制文档样式 无法组合图片和插入的文本框 方程编号 文本插入模式 Rss订阅 IPTV直播源 clash 科学上网 电子书 Calibre看书转换格式 硬件 固态/机械/移动硬盘速度对比 问题 移动后vmware报错配置文件与此版不兼容 电脑蓝牙无法搜到耳机等设备 笔记本无法联网 VMware的win10蓝屏pfn share count VMware虚拟机自动挂起 VMware虚拟机正在被使用无法运行 wifi不跳转网页验证 .msi 安装失败 无法识别U盘、移动固态硬盘盒 0 目录 [TOC] 使用技巧 批量删除子文件夹内某种类型的文件 例如毕设用fluent模拟时保存了数千个模拟快照，文件格式为ppm。 在文件的上一层目录打开cmd，输入del /s /q files/*.ppm即可全删。（中文路径会乱码） 查看电脑已保存wifi的密码 已连接上：设置，网络和Internet，状态，网络和共享中心，点击该WiFi ”WLAN（xxx_Printer）”，无线属性，安全，勾选“显示字符”。 “命令提示符”工具查询所有使用过的WiFi连接密码：命令提示符（管理员）输入netsh wlan show profiles，找到你想查询的连接名称，然后套入如下命令netsh wlan show profile name=\"查询WiFi名\" key=clear，密码显示在安全设置的关键内容。 win定时任务自动备份重要文件 新建backup.bat备份脚本。 rem是注释命令； 注意文件夹路径尾部的\\ %date% 表示当前日期，格式为 \"周几 MM/DD/YYYY\"，例如 \"Wed 02/17/2023\"。 %date:~0,4% 表示从日期字符串中提取第 0 到第 4 个字符，也就是年份。 %date:~5,2% 表示从日期字符串中提取第 5 到第 6 个字符，也就是月份。 %date:~8,2% 表示从日期字符串中提取第 8 到第 9 个字符，也就是日。 %time% 表示当前时间，格式为 \"HH:mm:ss.00\"，例如 \"10:30:45.99\"。 %time:~0,2% 表示从时间字符串中提取第 0 到第 2 个字符，也就是小时。 %time:~3,2% 表示从时间字符串中提取第 3 到第 4 个字符，也就是分钟。 %time:~6,2% 表示从时间字符串中提取第 6 到第 7 个字符，也就是秒。 可以用短横线连接，但是冒号不行。。。 @echo off rem 要备份的文件夹 set sourcePath=C:\\0r720\\sourcePath\\ rem 要备份到的文件夹 set targetPath=D:\\BackupHistory\\ rem 自动备份生成的文件名，形如2023-11-13-14-21-43 set folderName=%date:~0,4%-%date:~5,2%-%date:~8,2%-%time:~0,2%-%time:~3,2%-%time:~6,2% XCOPY /e /c /y \"%sourcePath%*\" \"%targetPath%%folderName%\\\" 利用系统定时任务执行脚本：控制面板 > 小图标 > 计划任务，最右侧操作菜单，创建基本任务，输入任务名、周期、时刻、启动程序，浏览选择脚本，勾选完成时打开任务属性，完成。在安全选项中勾选不管用户是否登录都要运行和使用最高权限运行，配置选win10。 此时点确定会弹出参数错误任务无效，需要设置用户账户。安全选项，更改用户组，高级，立即查找，例如我是r720，选中，确定，确定，确定，即可成功。（可以看到主要是加了文件夹前缀，从r720变成了R720\\r720） 点击最左侧任务计划程序（本地）和任务计划程序库可以看到所有定时任务，日后可以在此修改设置。选中任务，点击右侧所选项的属性弹出修改。（但是好像又会出现参数错误任务无效的bug） 笔记本+工位双屏协同 原理：左侧显示器显示远程笔记本的第一屏，右侧显示器直连笔记本显示第二屏，笔记本鼠标可以无缝操作双屏，键盘可以直接用台式机操作双屏！（音量调节等部分功能不行。应该是只要笔记本鼠标把光标放在了第二屏，台式键盘只管输入内容，不论是哪个屏幕） 好处：便宜、享受、便携。既能在工位享受双屏，又能在下班后直接带走所有工作。（远程软件如todesk提供虚拟双屏？198元/年。如果不购买只能在一个显示器上来回切换） 屏幕：笔记本、台式大屏、笔记本拓展大屏从左向右 鼠标：以笔记本鼠标为主，台式鼠标放在右上角辅助操作 设置： 笔记本鼠标：点击笔记本右下角通知栏，打开投影，设置为拓展，则右侧大屏显示第二屏（没有的话打开折叠，或者右键编辑图标，加入投影） 台式机鼠标：开启todesk、向日葵等远程软件的全屏模式，则左侧大屏控制第一屏。 建议常用、显示文本类的应用放在第二屏，直连笔记本更清晰。 需要时间适应操作逻辑，不要混淆笔记本和台式，屏幕和屏幕。 attrib命令隐藏文件夹 cmd管理员运行 attrib +s +h 文件夹完整路径，就能隐藏。不需要了可以解，输入attrib -s -h 文件夹完整路径。 在默认的资源管理器中，即使勾选显示隐藏项目也不会显示，除非直接输入路径。不过对DirectoryOpus等第三方文件管理器无效，一般够用了。 更建议继续在隐藏目录下使用attrib +s +h * /s /d 和 attrib -s -h * /s /d，应用于所有文件夹和文件。 attrib /? 查看命令用法：+/- 设置/清除属性，R 只读属性，A 存档属性，S 系统属性，H 隐藏属性。/S 和 /D 分别对该目录下所有匹配的文件和文件夹执行 添加软件到开始屏幕 找到软件安装目录下的.exe可执行程序，右键新建快捷方式，复制到C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs，右键固定到开始屏幕。（可能无法点击开始菜单的程序列表中的程序，但是可以操作开始屏幕中的程序） 为无后缀文件设置默认打开程序 管理员运行cmd，assoc .，查看无拓展的关联类型，应该显示没有找到文件关联.。 assoc .=No Extension，自定义设置无后缀文件为No Extension类型 ftype \"No Extension\"=\"F:\\pro\\UltraEdit\\uedit64.exe\"\"%1\"，设置默认打开程序为ultraedit。 ftype，查看所有后缀格式的默认打开程序，在no extention一行确认。 (outdta有效，indta无效) 一键删除文件.bat 新建文本文件，重命名为0一键删除outdta和rstplt文件.bat，编辑以下内容。双击即可运行。 del /f /s /q outdta del /f /s /q rstplt 用 diskgenius 将 win 环境迁移到虚拟机 ？ 批量修改文件名后缀 确保当前文件夹内都需要修改后缀——新建txt文档，写入以下内容 ren *.* *.jpg*——保存为bat格式——双击运行 删除Windows电脑本地PE系统 方法1: Win + R输入msconfig打开系统配置，打开引导，删除不必要的启动项 方法2: Win + S运行搜索，输入cmd，以管理员身份运行——输入bcdedit，找到标识符，如果你在本地有PE系统，那么这里是一串代码，复制——然后bcdedit /delete [你复制的代码\\回车——最后弹出操作成功完成，说明成功了——然后我们在系统盘里面再把PE的文件删除即可 windows设置 DWS移除win10跟踪及系统应用：DWS下载后打开，设置菜单，（慎用！专业模式选择所有（metro是预装应用））。工具菜单，删除所有metro应用（包括应用商店），删除One Drive，禁用UAC，禁用Windows update。主界面菜单，点击Destroy-Windows-10-Spying，重启。 任务栏：右键底部任务栏。搜索，显示桌面图标。显示桌面图标，关闭。显示任务视图，关闭。 关闭磁盘自动优化：右键磁盘，属性，工具，优化驱动器，关闭所有 最佳性能：右键我的电脑，属性，高级，性能，设置，调整为最佳性能，确定。 电源高性能模式：右键右下角电池图标，选择电源模式为高性能。如果没有该模式，搜索‘’命令提示符‘’，打开输入powercfg -SETACTIVE 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c。（适用于Intel CPU且操作系统是Windows 10 20H1或之后版本） 激活windows：HEU_KMS_Activator激活工具 迁移系统文件夹：文件管理器，桌面、文档等文件夹，右键属性，位置，文件路径前缀改为D:\\sys\\，确定。 启动项管理：ctrl + shift +esc打开任务管理器，启动，基本可以禁用所有。 卸载系统多余软件：在开始菜单中寻找，不需要的右键直接卸载。也可以右键开始菜单，弹出菜单中点击“应用和功能（F）”卸载应用。 关闭defender防火墙：在搜索栏中输入控制面板，打开，系统和安全，安全和维护下方的【更改用户账户控制设置】，Windows defender防火墙，左侧【启用或关闭Windows defender防火墙】，全部关闭，确定； 清空桌面系统图标和开始屏幕：右键桌面，个性化，主题，桌面图标设置，取消所有。在开始菜单中删除固定的不需要的应用，找到我的电脑、控制面板、计算机管理、power shell、命令提示符、运行等，拖动到开始屏幕固定。 设置底部任务栏图标：右键桌面，个性化，任务栏，打开或关闭系统图标 卸载小娜： Windows 10 2004 以上版本！搜索输入 PowerShell 并以管理员身份运行，Get-AppxPackage -allusers Microsoft.549981C3F5F10 | Remove-AppxPackage 设置，个性化，颜色，透明效果关闭 设置，系统，关于，重命名此电脑 关闭安全中心通知：控制面板\\所有控制面板项\\安全和维护，左侧更改安全与维护设置，取消勾选安全消息部分所有。 安装&激活office ccleaner卸载office，清理注册表 复制此前安装的文件夹，或者下载运行Office Tool Plus.exe。 安装： 如果以前安装过，office tools文件夹会存在已下载的版本，软件自动匹配了相关配置，此时安装命令的配置 如果与以前不一致，可能会无法安装。 此时可以：1.执行以前版本的部署命令，弹出准备部署窗口，记住最后的Office版本，是，提示版本不一致，选择否就不会下载更新的版本，而是用本地安装包直接安装。2.重新下载安装。进入部署菜单，安装文件，删除该版本，执行下面部署命令。 右上角命令，输入 deploy /addProduct O365ProPlusRetail_zh-cn_Access,Bing,Groove,Lync,OneDrive,OneNote,Outlook,Publisher,Teams /addProduct VisioProRetail_zh-cn_Groove,OneDrive /channel Current /downloadFirst，（安装 Microsoft 365 企业应用版（Word, PowerPoint, Excel）+ Visio 2016） 把以前的命令备份一下：deploy /addProduct ProPlus2021Volume_zh-cn_Access,Groove,Lync,OneDrive,OneNote,Outlook,Publisher,Teams /addProduct VisioPro2021Volume__Groove,OneDrive /channel PerpetualVL2021 /downloadFirst（安装 Office LTSC 专业增强版 2021 批量许可 (仅 Word, PowerPoint, Excel) + Visio LTSC 专业版 2021 批量许可。） 激活： 激活菜单，许可证管理小箭头，清除激活信息。 工具箱菜单，office工具，重置 Office 设置为默认设置。 右上角命令，输入ospp /insLicID MondoVolume /sethst:kms.loli.best /setprt:1688 /act和 和 和 和和 和 visio2021ospp /insLicID VisioPro2021Volume /sethst:kms.loli.best /setprt:1688 /act。 备份Office LTSC 专业增强版 2021 批量许可激活命令：ospp /insLicID ProPlus2021Volume /sethst:kms.loli.best /setprt:1688 /act 和 和 和 和和 和visio2021 ospp /insLicID VisioPro2021Volume /sethst:kms.loli.best /setprt:1688 /act。 激活失败，可以用HEU KMS Activator激活！ 出错一般是激活代码更新了，前往激活教程核对。 关闭自动更新 在“开始屏幕”打开任意office应用，单击左下角“账户”，“更新选项”，禁用更新 windows镜像/虚拟机vmware 精简版windows，只运行微信、tim，内存可低至1G。 官方windows下载 win虚拟机扩展硬盘内存容量 VMware扩容：虚拟机设置——硬件——硬盘——拓展磁盘容量 win扩容：右键此电脑——管理——左侧存储，磁盘管理——找到未分配空间前一卷——右键拓展卷 win虚拟机安装vm tools 开机状态下，点击vmware上方虚拟机菜单——安装VMware tools 如果安装为灰色：尝试在虚拟机设置中——设备——先删除再添加CD/DVD——使用安装时的iso文件——再次查看vmtools是否可点击（否则多次关机开机并重试）——自动安装开始 如果没有自动安装：进入文件管理器查看VMware盘符（D或E）——win+R输入D:\\setup64.exe手动安装（或者E盘E:\\setup64.exe，或者32位系统用D:\\setup.exe）——（或许也可以直接在文件管理器内右键管理员运行？） win虚拟机无法使用共享文件夹 检查虚拟机设置里面是否有启用并添加了宿主机的共享文件夹 检查VMware Tools是否已经安装 打开文件管理器——此电脑——上方计算机菜单——映射网络驱动器————文件夹框内填写 \\\\vmware-host\\Shared Folders 添加——完成后刷新确认左侧此电脑目录出现 Shared Folder 文件夹，网络目录出现 vmware-host\\Shared Folder 文件夹，里面是所有的共享文件夹（可以右键固定到快速访问） win虚拟机迁移微信聊天记录 将旧电脑WeChat Files目录内文件夹全部复制、替换到新电脑好像不行。此外，手机和电脑可以相互迁移备份，但是虚拟机可能导致网络不符要求。 查知乎解决了：路径要相同 先保证版本都是最新的 如果设置过微信聊天记录文件位置，比如D:\\Documents\\Wechat Files，在新电脑选择D:\\Documents重启微信。不要新建Wechat Files 文件夹，会自动生成。 关闭微信，删除新电脑D:\\Documents\\WeChat Files所有文件夹，复制旧电脑上的D:\\Documents\\WeChat Files 里面All Users、wxid_xxxx两个文件夹到新电脑。 可能需要编辑WeChat Files文件夹权限为everyone——完全控制。 原文 微信电脑版聊天记录的迁移的正确方法，微信电脑版重装系统还原聊天记录的办法。 百度知乎了很多，大部分人没说清楚原理。QQ聊天记录迁移大家都会，直接拷贝QQ聊天文件夹名称到新的电脑对应文件夹就好。而微信PC版比较奇葩的地方在于，一定要保证原来的路径目录，而且一定要同时拷贝All Users目录。原因是All Users目录里保存一些配置信息及微信账号头像，如果不拷贝这个目录，只拷贝你的微信ID文件夹，导致的结果就是登录后会重新更新聊天记录文件，最终导致微信聊天记录迁移失败。如果你是电脑小白，在操作前，请千万记得备份新旧电脑上的整个Wechat Files文件夹，以免导致聊天记录丢失。如果你没有信心完全通过步骤自己搞定，建议先备份，否则私信找我，我也没有办法恢复。备份操作很简单，直接复制一份出来放到有足够剩余容量的地方即可，可以是当前目录，或者其他盘，或者是移动硬盘。 下面我来说一下正确的操作步骤。 情况一：没有设置过任何微信PC版文件存档设置。比如你原来电脑用户名是ABC，更换了一台电脑用户名不一样了叫CBA。在正常情况下，没有主动变更过微信聊天记录保存位置，或者变更过我的文档路径，那么安装微信后，Windows Vista以上版本系统默认保存的位置就是C:\\Users\\CBA\\Documents\\WeChat Files 目录里面。这个时候要迁移聊天记录，怎么办呢？关键点就在这里了，在新电脑里退出微信，在新电脑的C盘，Users（中文版操作系统可能显示为\"用户\"）目录下新建一个文件夹，叫ABC，在里面新建一个文件夹，叫Documents 。然后,登录微信PC版，在电脑版微信界面左下角有三个横线一样的标识，点击设置，然后点击左侧通用设置，文件管理，点击更改，然后选择C:\\Users\\ABC\\Documents，点击确定，然后会提示重启微信。很多网友失败在这一部，因为Wechat Files 这个文件夹会自动生成，不需要再新建一个Wechat Files 文件夹。这个时候，你把微信关闭，把新电脑C:\\Users\\ABC\\Documents\\WeChat Files目录下所有文件夹删除（建议删除前做好备份），把原来电脑上的C:\\Users\\ABC\\Documents\\WeChat Files 里面All Users以及你的微信ID文件夹一起拷贝到新电脑目录 C:\\Users\\ABC\\Documents\\WeChat Files 里面。拷贝完毕，你会发现，之前旧电脑的所有聊天记录已经恢复。 情况二：旧电脑有设置过微信PC版文件存档设置如果是设置过微信聊天记录文件位置的，比如是设置在D:\\Documents\\Wechat Files文件夹里的，那么迁移到新电脑，该如何处理呢？在新的电脑里，在D盘新建一个文件夹，叫Documents。然后登录微信PC版，在电脑版微信界面左下角有三个横线一样的标识，点击设置，然后点击左侧通用设置，文件管理，点击更改，然后选择D:\\Documents，点击确定，然后会提示重启微信。很多网友失败在这一部，因为Wechat Files 这个文件夹会自动生成，不需要再新建一个Wechat Files 文件夹。这个时候，你把微信关闭，把新电脑D:\\Documents\\WeChat Files目录下所有文件夹删除（建议删除前做好备份），把原来电脑上的D:\\Documents\\WeChat Files 里面All Users以及你的微信ID文件夹一起拷贝到新电脑目录D:\\Documents\\WeChat Files 里面。拷贝完毕，你会发现，之前旧电脑的所有聊天记录已经恢复。 情况三：重装系统重装系统情况比较复杂，如果要恢复聊天记录，得满足两个条件第一，重装系统前知道微信聊天记录存档位置；**第二，重装系统之前有完整备份过整个Wechat Files 文件夹。重装系统后，在正常情况下，没有主动变更过微信聊天记录保存位置，或者变更过我的文档路径，那么安装微信后，Windows Vista以上版本系统默认保存的位置就是C:\\Users\\CBA\\Documents\\WeChat Files （CBA为当前系统用户名）目录里面。而且默认只有重装系统后的聊天记录。这个时候要迁移聊天记录，怎么办呢？如果知道重装系统之前的位置，比如是位于D:\\2018\\Wechat\\Wechat Files里面，那么接下来就在在D盘新建一个文件夹，叫2018，然后在2018里面建一个Wechat。然后登录微信PC版，在电脑版微信界面左下角有三个横线一样的标识，点击设置，然后点击左侧通用设置，文件管理，点击更改，然后选择D:\\2018\\Wechat*，点击确定，然后会提示重启微信。很多网友失败在这一部，因为Wechat Files 这个文件夹会自动生成，不需要再新建一个Wechat Files 文件夹。这个时候，你把微信关闭，把电脑D:\\2018\\Wechat\\Wechat Files目录下所有文件夹删除（建议删除前做好备份），把备份的整个WeChat Files 里面All Users以及你的微信ID文件夹一起拷贝到目录D:\\2018\\Wechat\\Wechat Files 里面。拷贝完毕，你会发现，重装系统之前电脑的所有聊天记录已经恢复。但是重装系统后的聊天记录就不会存在，可以通过登录微信PC版时勾选“登录后同步最近的聊天记录到Windows\"来恢复最近两天的聊天记录。不同系统之间迁移，亲测有效，不需要ghost或者其他方法。如果帮助到你请点赞，如果不明白*请在操作前私信我，评论一般不回复，会被封禁。 2018-11-16 更新经知友反馈，如果新电脑为更新版本的微信，可能导致在聊天记录管理器中，查找历史文件或者图片时只显示空白结果。解决方案为：1、把老电脑上的老版本微信安装目录直接拷贝至新电脑微信安装目录，覆盖所有文件。（已验证）2、在迁移之前，先把老电脑上的微信版本升级至新版本，与新电脑上的微信版本一致。升级成功后登录微信再退出，然后再迁移文件。 2018-11-23 更新经知友反馈，当聊天记录同步好了，登录时会提示“文件默认保存位置无法使用，将不能正常使用微信，请更改位置”。 出现这个情况是权限不够引起的。 解决方案一，在使用微信的时候，不是直接双击打开，而是点右键，选择以管理员身份运行（缺点：每次登录前都需要进行这个操作）； 解决方案二，找到Wechat Files文件夹，点右键，属性，安全，编辑Everyone权限的权限为完全控制，然后点确定。 2019-07-01 更新经知友反馈，在新电脑里建立同样的目录路径（尤其是C盘原始路径的），并且把微信位置设定为原来目录，重启后再登录时会提示“文件默认保存位置无法使用，将不能正常使用微信，请更改位置”。 出现这个情况仍然是权限不够引起的。 解决方案：关闭微信后，找到Wechat Files文件夹，点右键，属性，安全，编辑Everyone权限的权限为完全控制，然后点确定。 发布于 2018-08-25 11:18 ，编辑于 2020-02-25 18:40 快捷键 大写：Shift + 字母 ：（有效避免忘了关大写锁定！） 下一个输入框：Table，上一个输入框shift table 添加环境变量 左下角开始（或右击我的电脑，属性）——设置——系统——关于——高级系统设置——高级——环境变量——（系统变量）新建——3次确定 windows永不更新 设置，时间与语言，关闭自动设置时间， 手动设置日期为30年后 设置，更新与安全，高级选项，暂停更新 软件 重装系统 老毛桃预装360等毒瘤？下次换微PE或windows官方安装（可能功能会简陋一些？） 如果已经安装了可以重置系统：设置，更新与安全，恢复，重置此电脑。 准备：备份U盘，另一台windows电脑下载老毛桃工具箱完整版和win10系统ios镜像官方版。 制作u盘启动盘：打开老毛桃，U盘启动，普通模式，USB-HDD，NTFS，一键制作成USB启动盘。复制ISO系统镜像文件到u盘启动盘的LMT文件夹，笔记本电脑插入U盘。 BIOS设置U盘启动：重启，同时狂按F2（Lenovo-R720，常见F12/F8/F9/ESC/F11/F10）进入BIOS设置。BOOT菜单，上下箭头移动到EFI和Legacy中的U盘USB Device (hp v206w)，F6将两者都移动到最顶部。Exit菜单，exit saving changes，确认进入老毛桃系统。 重建分区：双击桌面图标“分区工具”，右键左侧菜单所有硬盘（HD0、HD1等），删除所有分区，保存更改。固态系统C盘128G，新建分区，全选建立ESP和MSR分区，格式化为NTFS，保存更改，确定格式化。机械数据D盘1T，新建分区，不选ESP、MSR，保存更改，确定格式化。 重装Win10：双击桌面图标“老毛桃一键装机”，打开选择镜像文件，版本选最好的专业工作站版，盘符选C盘固态，执行，选中格式化分区、网卡驱动、USB驱动、SATA驱动，勾选完成后重启，等到重启时拔掉U盘以免进入老毛桃系统。 20230625成功，卸载老毛桃预装软件。（还有360这种毒瘤？下次换微PE安装） 微PE（WePE）制作系统启动U盘 微PE安装包下载，部分教程 双击WePE64_V2.2.exe安装，选择其他安装方式，安装到U盘，方案一UEFI/Legacy全能三分区，选择U盘，格式化exFAT，USB-HDD，安装。 复制win10系统ISO到WePE的U盘（非EFI盘）。 同上BIOS设置，进入PE，安装系统iso，进入系统 BBDown下载B站视频 下载BBDown（windows下win-x64.zip，linux下linux-x64.zip），并解压到BBDown文件夹下，应该只有BBDown.exe或者BBDwon。 下载ffmpeg（ffmpeg-release-full.7z）实现视频音频合并能力，复制\\bin\\ffmpeg.exe到BBDown.exe同级文件夹。(ubuntu下载可能是sudo apt install ffmpeg) 登录账号：在BBDown文件夹下右键打开cmd命令提示符，输入BBDown login，app扫码登陆。 下载：BBDown 链接或者BV号单集下载，或者收藏夹等链接批量下载（点击头像进入个人空间，收藏菜单，收藏夹，复制右键或地址栏链接）。（linux先给运行权限chmod +x BBDown，然后./BBDown 链接或BV号，但是好像多P无法下载，无法合并第一集） 有些字幕有问题无法下载，BBDown --skip-subtitle 链接或BV号跳过。 EXCEL 筛选行号 空列，填入公式=MOD(ROW()-2,10) 第一行表头，每十行选一行（行号对10取模为2的行） 全选该列所有单元格（有数据的行）。 按住 Shift 键，拉动侧控制条到最后一个单元格 Ctrl + D 填入所有公式 筛选该列数据 Word 论文mathtype公式编号 问题：编号从1-1开始了，但是想改成2-1。 mathtype菜单，公式编号，章节，插入分隔符，新的章，确定。 也可以修改章，节等编号。 word菜单栏没有mathtype 先看自己word版本：文件，账户，关于word，最顶上说明32位（影响下面操作文件夹位置） 看mathtype安装位置D:\\Program Files (x86)\\MathType word安装位置C:\\Program Files (x86)\\Microsoft Office\\root\\Office16 打开word，单击 文件---->选项—>信任中心---->信任中心设置—>受信任位置—>添加新位置，将`C:\\Program Files\\Microsoft Office\\root\\Office16\\STARTUP\\添加入受信任路径。 找到MythType安装目录，将mathtype中的 D:\\Program Files (x86)\\MathType\\MathPage\\32的”MathPage.wll“； D:\\Program Files (x86)\\MathType\\Office Support\\32的”WordCmds.dot“ 和 ”MathType Commands 2013.dotm“ 这三个文件。复制到Office 安装路径中的： C:\\Program Files\\Microsoft Office\\root\\Office16\\STARTUP 中。 【注意】：如果想在PPT里显示Mathtype选项卡，可以加上文件MathType AddIn (PowerPoint 2013).ppam 4.重启Word即可正常使用mathtype加载栏。 论文引用图、表 选中图片，菜单栏，引用，题注，插入题注 （首次）新建标签 ！取名为图。点击编号，勾选包含章节号 ，章节起始样式设为标题一，分隔符用短横，确定。可以看到题注栏名为类似图 1-1样式。 （首次）选项，标签确认为图，位置选所选项目下方（表选上方)。确定 在出现的图1-1后填写图片名。 引用：在所需插入位置处，到菜单栏中点击【引用】>【题注】里的交叉引用，引用类型选择图。引用内容选择仅标签和编号。选中图名，插入。完成后关闭。 修改：如果有增删改，需要快捷更新——文章全选，右键->更新域。 论文引用参考文献 准备好文献名条目：在参考文献部分准备好需要的参考文献条目 设置排序格式：菜单栏中【开始】>【段落】，选择一级数字编号内的【定义新编号格式】，在灰色固定数字格式前后加上中括号 [ 和 ] 。（ctrl + 空格 切换中英文中括号） 给文献自动排序：选中全部文献，选择上述文献格式[1]。 插入文献引用：在所需插入位置处，到菜单栏中点击【引用】>【题注】里的交叉引用，保持引用类型：编号项。引用内容：段落编号。不变，【引用哪一个编号项】下拉到参考文献处选择正确的文献条目[1] xxxxx，插入。完成后关闭。 调整引用编号为上标：选择编号，开始，字体，上标。此时，按住【ctrl】用鼠标点击参考文献编号，可直接跳转到参考文献所在位置。 修改：如果有增删改，需要快捷更新——文章全选，右键->更新域。 解决尾注默认在文档最后 尾注默认在文档最后，导致很多操作（如将致谢显示到最后）无法做到 整体思路：1.新增参考文献节、致谢节等从而可以操作这些内容。2.将尾注改到节最后显示从而使参考文献能置于致谢之前。3.通过在整篇文档取消尾注合并所有尾注，此时会在文档最后生成合并版的尾注。4.通过在参考文献节禁用“取消尾注”从而将尾注显示到这一节 新增参考文献节、致谢节：光标放在正文最后——布局——页面设置——分隔符——下一页——输入参考文献四个字——同理继续插入下一页分节符——输入致谢节内容 将尾注改到节最后: 光标放在参考文献四个字后——引用——脚注面板——位置选尾注，节的结尾——应用更改选整篇文档——应用 合并所有尾注到最后一节：光标置于任意位置（或者有尾注的地方）布局——页面设置面板——版式/布局——勾选取消尾注——应用于整篇文档——确定 将致谢节的尾注移动至上一参考文献节：光标置于参考文献节——布局——页面设置面板——布局/版式——取消勾选“取消尾注”——应用于本节——确定 复制文档样式 参考 打开模板文件，“开始”选项卡→“样式”，“管理样式”→“编辑”选项卡→“导入/ 导出”按钮，打开“管理器”对话框。 单击“样式”选项卡→单击右侧的“关闭文件”，“打开文件”，单击“所有Word 模板”，打开下拉菜单→选择“所有文件”,找到需要格式化的文件。 选择需要左侧模板复制的样式（Shift + Ctrl + 左键 ）→单击“复制”按钮。（可事先删除右侧样式，以防同名混淆） 无法组合图片和插入的文本框 （希望覆盖图中文字，随意拖动和排版） 原因： 嵌入式的图片无法选中。改为浮与文字上方。 选中插入的文本框需要 Ctrl 且找准框体边缘。找准了会显示一个小加号和虚框。 技巧： 在图片和文本框下部预留足够空间 图片改为浮动 Ctrl 逐个选中所有文本框，组合，置于顶层 调整位置，组合文本框和图片 组合改为嵌入 方程编号 参考 公式编号——插入编号——格式化——高级格式(#C1.#E1)——确定 插入公式——右编号——（复制已有无编号公式）——保存 若章节有误 单击公式——公式编号——章节——修改分隔符 样式设置 样式——样式检查器——MTDisplayEquation——修改 段落——间距——段前段后6磅，单倍行距，勾选“相同样式段落无空格”，取消“如果定义文档网格，则对齐到网格” 制表位——（进一步控制公式和编号的位置）——20字符，居中，设置——40字符，右对齐，设置——确定 方程组 点击括号栏，选中大括号（2行左一） 点击方块阵列栏，选择合适的布局（2行右2） 文本插入模式 将底部状态栏的“改写”改为“插入”。 （右键单击Word底部空白状态栏，在弹出的“自定义状态栏”中，勾选“改写”选项，以在底部显示。） Rss订阅 软件—— Inoreader网页端 找订阅的网站—— RSSHUB， 小宇宙播客排行榜， 中文个人博客， 丑搜博客内容 插件找订阅—— RSS+油猴插件， Inoreader插件——RSS Reader, RSSHB插件——RSSHub Radar 常用—— B站up主视频——进入up主页, RSS+发现up主的动态订阅 订阅Telegram频道——（https://rsshub.app/telegram/channel/TestFlightCN ） ， 最后一词替换成频道名字，在频道信息链接中查看，如 https://t.me/TestFlightCN 订阅公众号——人工采集，感恩珍惜……其他办法 订阅喜马拉雅专辑——替换最后的专辑编号( https://rsshub.app/ximalaya/album/203355 )。与喜马拉雅网址一致（https://www.ximalaya.com/album/203355 ） 订阅 Youtube 频道：https://www.youtube.com/feeds/videos.xml?channel_id= + Channel id，最后的ID可以跳过复制频道主页的链接后打开这个网站获取 IPTV直播源 使用方法 Windows：PotPlayer右键——打开——打开链接——输入直播源地址（.m3u）——确定 Android：VLC。（或者部分设备浏览器（手机）上，可打开.m3u文件，单独播放其中的.m3u8文件） [直播源] 随时可能失效，github项目 🌏Global直播源 https://live.fanmingming.com/tv/m3u/global.m3u 198个 2023.8.13 📺IPTV(IPV6专用) https://live.fanmingming.com/tv/m3u/ipv6.m3u 120个 2023.8.13 📻Radio直播源 https://live.fanmingming.com/radio/m3u/index.m3u 317个 2023.5.3 无法播放？ 在clash中打开IPV6 clash 科学上网 下载clash软件并安装。win/linux——win展开更多，下载Clash.for.Windows.Setup.0.20.21.exe ，ubuntu下载Clash.for.Windows-0.20.21-x64-linux.tar.gz 。android下载cfa-2.5.12-foss-universal-release.apk。 打开clash——General通用——打开system proxy和Start with windows，从而打开网络代理和自启动。 Profiles配置——粘贴机场订阅链接——download——右击机场配置——settings——设置update interval更新间隔为1小时。 Proxies代理——选择Rule模式——点击类似WiFi的测速按钮——选择延迟较低的 Settings——proxies——Order by——选择Latency，使得代理可以按照延迟排序。 如果无法连接，查看本机ip是否与设置ip一致 机场代理的规则如果不合适可以自行修改：Settings——Profiles——parsers ——修改完一定要在Profiles更新订阅。具体可以参考lbyczf。 parsers: # array - url: 【替换成你需要配置的的机场订阅链接】 yaml: prepend-rules: # 设置规则，如某域名需要直连或者代理 - DOMAIN-SUFFIX,nist.gov,DIRECT - DOMAIN,yuguo.us,GLOBAL 电子书 看什么书 豆瓣读书top250 2013版豆瓣读书top250 你所在领域的入门书单是怎样的？ - 知乎 通识千书书单 从哪找书 zlibrary，公网仅有私密域名，与本人账号唯一绑定 读书，可能是电子书爱好者自制的，少量古籍和现代作品，甚至还有马督工睡前消息的文字稿，飞书文档 安娜书库存档，含zlibrary，libgen等，速度慢？但资源很多！ 全国图书馆参考咨询联盟，国家数据库，可查信息，可试看 图书联盟，付费，网上找书商家应该用的这个 电子书独秀库百度网盘妙传下载（好像失效了，存不到网盘内） Calibre看书转换格式 软件下载 不改成拼音路径插件 翻译电子书插件 硬件 装机教程——硬件茶谈 装机教程笔记——硬件茶谈 桌面CPU天梯图——驱动之家快科技 固态/机械/移动硬盘速度对比 读/写（顺序/随机 + 8/1队列）——CrystalDiskMark测试 固态pcie4.0 固态pcie3.0 机械 固态硬盘盒USB3.0 机械移动 顺序，读，8队列 7000 2500 140 440 110 顺序，读，1 7000 1500 130 340 110 随机，读，8 700~4000？ 400 2 180 1 随机，读，1 70 40 1 23 1 顺序，写，8 6600 1000 135 460 100 顺序，写，1 6600 550 130 390 100 随机，写，8 600~4000？ 300 1.5 190 9 随机，写，1 200 130 1.5 40 问题 移动后vmware报错配置文件与此版不兼容 报错——配置文件 .vmx 与此版 VMware workstation 不兼容，因此无法使用 查看vm版本——在帮助 > 关于中查找vm版本，如VMware® Workstation 16 Pro。 查看.vmx虚拟机配置文件版本——Ubuntu20230703-4C8G.vmx第四行virtualHW.version = \"20\"，vm中打开后底部详细信息中显示16.x。可能配置文件版本比当前vm版本高。 配置文件版本降级——降2或者4吧。（如果当时用16pro创建虚拟机的时候，选择了最新16.x版本号，且现在移动之后20报错，则配置文件可填18；同理，以前的15.x版本可尝试填16） 以上已解决（玄学方法，试试降低内存和cpu？没试过） 电脑蓝牙无法搜到耳机等设备 原因可能是卸载了realtek音频组件等。 在服务中打开蓝牙支持服务(Bluetooth Support Service)。 其他可能解决方案：更新蓝牙驱动，打开Bit Locker Drive Encryption Service服务，删除其他所有设备的配对信息或者重置耳机。 笔记本无法联网 关闭clash主界面的系统代理（system proxy）； 可能是之前一直是通过虚拟机内弹出的网页验证。 打开虚拟机验证网络。（真的很烦） 高级网络设置，更改适配器，禁用再启用再禁用vmnet1 和vmnet8、以太网、WLAN等。 VMware的win10蓝屏pfn share count 关闭VMware的3d加速：虚拟机，设置，硬件，显示器，取消加速3D图形。 （问题复现：VMware使用精简版win10的ultraedit的查找功能时，如果在第一个/最后一个查找结果后在查找上一个/下一个，直接蓝屏死机： 错误代码 PFN SHARE COUNT，位于 vm3dmp.sys。） VMware虚拟机自动挂起 右键左下角，按键p打开控制面板，搜索电源选项，打开隐藏计划的高性能模式。更改计划设置，从不关闭显示器和进入睡眠。更改高级电源设置，硬盘设置为从不关闭。 VMware虚拟机正在被使用无法运行 找到虚拟机位置，将后缀为.lck的文件夹删除，或者备份，或者添加此文件夹后缀为.backup。 wifi不跳转网页验证 手动在浏览器输入192.168.1.1，自动跳转当前wifi的验证网址。 .msi 安装失败 以管理员身份运行。右键安装包, 或在Directory Opus中开启。 无法识别U盘、移动固态硬盘盒 打印机无法识别U盘，学校电脑无法识别移动固态硬盘盒。 U盘格式化为FAT32格式，兼容性最好。分配单元为默认配置大小。（对于打印机，U盘容量最好32G及以下) 但是移动固态硬盘盒的固态还是不建议格式化，一个是容量太大兼容性还是不行，另外是浪费性能，讲解个PPT保险起见还是用u盘吧。（超过32G无法使用系统自带的格式化，只能使用Diskgenius等第三方软件，且风险未知。） 硬盘格式： （不同的操作系统有不同的文件系统，Linux 使用 ext4，苹果OSX使用 HFS +，Windows 使用 NTFS，Solaris 和 Unix 使用ZFS。） FAT32：最老，所有操作系统都支持，兼容性最好。但是，它是为32位计算机设计的，单文件不能超过 2^32 - 1 个字节，也就是不能超过 4GB，分区不能超过 8TB。 NTFS ： Windows 的默认文件系统，用来替换 FAT32。Windows 的系统盘只能使用这个系统，移动硬盘买来装的也是它。在非Windows系统可能需要手动安装驱动程序，例如在Mac系统中NTFS仅支持读取操作，安装相关驱动程序后才能支持读写，但是读写速度会有所降低。 NTFS内置日志功能可以记录尚未实际写入的磁盘数据变化，这有助于在系统崩溃的情况下恢复，而exFAT文件系统缺少该功能。 此外，NTFS文件系统是默认加密的，exFAT文件系统中的加密需要手动处理。 exFAT ：可以看作是 FAT32 的64位升级版，（extended，表示\"扩展的 FAT32\"），功能不如 NTFS，但是解决了文件和分区的大小问题，两者最大都可以到 128PB。由于 Mac 和 Linux 电脑可以读写这种系统，所以移动硬盘的文件系统可以改成它，但是不推荐。不适合作为硬盘这种用于存放数据场景下的文件系统。 0 "},"3cs/2cpp.html":{"url":"3cs/2cpp.html","title":"2cpp","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 基础 程序 练习 Hello World! 目录 [TOC] 基础 程序 练习 Hello World! main.cpp #include using namespace std; int main(){ cout 编译运行 g++ main.cpp -o main && ./main "},"3cs/2html.html":{"url":"3cs/2html.html","title":"2html","keywords":"","body":"目录 [TOC] div 把一些标签内容嵌套进一个 box 里面 span 类似 div，但是内嵌 box, - 箭头函数()=>(xxx)等效于()=> {return (xxx)}，是隐式返回的函数，甚至可以简化()=>xxx const Button = ({ handleClick, text }) => ( {text} ) const Button = ({ handleClick, text }) => { return ({text}) } "},"3cs/2javascript.html":{"url":"3cs/2javascript.html","title":"2javascript","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 基础 脚本 自动统计脚本 up主投稿视频时长 全自动版 半自动版 视频合集时长 目录 [TOC] 基础 console.log(\"bird\"); pop() pop out the last element push() push somthing to the end of the array map(..) Creates a new array by applying the callback function to every element of the starting array. filter() const staffNames = [\"Nick\", \"\", \"Jacky\", \"\", \"Philena\", \"Leo\"]; const validNames = staffNames.filter(name => name !== \"\"); // validNames = [\"Nick\", \"Jacky\", \"Philena\", \"Leo\"] [...]symbol,can be used to copy array. '[...array]' will unpacked the array elements into the new array. array = [1, 2, 3]; let copiedArray2Times = [...array, ...array,2];//[1,2,3,1,2,3,2] === judge equal elements of the same type == judge with force type transformation (2== '2' is ture) anonymous function Syntax: (parameters) => output; modify(array, x => x+2) class class Rectangle { constuctor(width, height) { this.width = width; this.height = height; } area = () => { return this.width * this.height; }; } const rect1 = new Rectangle(3, 4); console.log(rect1.area()); 脚本 自动统计脚本 up主投稿视频时长 使用方法：https://www.bilibili.com/video/BV1LV4y1g77U （代码已更新为全自动一键统计，如有错误，欢迎大家指正。） 如果网络不佳建议把第20行 setInterval() 的数字调大。该行是点击下一页与统计下一页数据的时间间隔，默认值为400毫秒，网络不佳可能导致计算时网页还未成功刷新，计算出错。 改编自 https://www.52pojie.cn/thread-1517520-1-1.html 在此表示感谢。 全自动版 javascript:( function () { var hour = 0; var minute = 0; var second = 0; var sum_of_hours = 0; var sum_of_minutes = 0; var sum_of_seconds = 0; var i = 0; var num = 0; var run = 0; var txt = document.getElementsByClassName('count')[0].innerHTML; var num_of_videos = txt.match(/\\d+/g)[0]; function f0(){ if(num_of_videos > 30){ var j = 0; run = setInterval(function(){ f1(); $('li:contains(下一页)')[0].click(); },400); } else{ f1(); clearInterval(run); } } function f1() { if(num_of_videos 60){ hour = sum_of_hours + parseInt(minute/60); minute = (minute % 60); } var d1 = document.createElement('div'); d1.style.cssText = \"margin-top:1px\"; d1.setAttribute(\"id\",\"divChild\"); d.appendChild(d1); var t1 = document.createTextNode(\"已统计\"+num+\"个视频:\"+hour+\"时\"+minute+\"分\"+parseInt(second)+\"秒\"); d1.appendChild(t1); } function over() { btn.style.backgroundColor = \"#E4E4E4\"; } function out() { btn.style.backgroundColor = \"#F4F4F4\"; } var body = document.body; var d = document.createElement(\"div\"); d.style.cssText = \"padding-top:1px;width:320px;height:55px;background-color:#F4F4F4;position:fixed;left:5px;bottom:5px;border:1px solid #00A1D6;color:#00A1D6;z-index:999;text-align:center;font-size:16px\"; body.appendChild(d); var d2 = document.createElement(\"div\"); var btn = document.createElement('input'); btn.setAttribute(\"type\",\"button\"); btn.setAttribute(\"value\",\"计算\"); btn.style.cssText = \"width:50px;margin-top:1px;border: 1px solid #00A1D6;font-size:18px;cursor:pointer\"; d.appendChild(btn); btn.onclick = f0; btn.onmouseover = over; btn.onmouseout = out; })(); 半自动版 无需移动鼠标位置，手动控制刷新速度。每一次点击确定键即可同时完成一页视频的数据统计和刷新下一页。（点击过快同样会出现数据不准的情况。） javascript:( function () { var hour = 0; var minute = 0; var second = 0; var sum_of_hours = 0; var sum_of_minutes = 0; var sum_of_seconds = 0; var i = 0; var num = 0; var txt = document.getElementsByClassName('count')[0].innerHTML; var num_of_videos = txt.match(/\\d+/g)[0]; function f1() { if(num_of_videos 60){ hour = sum_of_hours + parseInt(minute/60); minute = (minute % 60); } var d1 = document.createElement('div'); d1.style.cssText = \"margin-top:1px\"; d1.setAttribute(\"id\",\"divChild\"); d.appendChild(d1); var t1 = document.createTextNode(\"已统计\"+num+\"个视频:\"+hour+\"时\"+minute+\"分\"+parseInt(second)+\"秒\"); d1.appendChild(t1); } function over() { btn.style.backgroundColor = \"#E4E4E4\"; } function out() { btn.style.backgroundColor = \"#F4F4F4\"; } var body = document.body; var d = document.createElement(\"div\"); d.style.cssText = \"padding-top:1px;width:320px;height:55px;background-color:#F4F4F4;position:fixed;left:5px;bottom:5px;border:1px solid #00A1D6;color:#00A1D6;z-index:999;text-align:center;font-size:16px\"; body.appendChild(d); var d2 = document.createElement(\"div\"); var btn = document.createElement('input'); btn.setAttribute(\"type\",\"button\"); btn.setAttribute(\"value\",\"计算\"); btn.style.cssText = \"width:50px;margin-top:1px;border: 1px solid #00A1D6;font-size:18px;cursor:pointer\"; d.appendChild(btn); btn.onclick = f1; btn.onmouseover = over; btn.onmouseout = out; })(); 视频合集时长 （支持任意集数之间，支持倍速计算） 使用方法：B站分集视频教程时长统计脚本_哔哩哔哩_bilibili 转载自 https://www.52pojie.cn/thread-1517520-1-1.html ，在此表示感谢。 javascript: (function() { var hour = 0; var minute = 0; var second = 0; var txt = document.getElementsByClassName('cur-page')[0].innerHTML; var page = txt.match(/\\/(\\d+)/)[1]; function f1() { hour = 0; minute = 0; second = 0; var min = 0; var sec = 0; if (document.getElementById('divChild')) { d.removeChild(document.getElementById('divChild')); } if (parseInt(input1.value) >= 1 && parseInt(input1.value) = 60) { hour += parseInt(minute / 60); minute = minute - parseInt(minute / 60) * 60; } if (second >= 60) { minute = parseInt(second / 60); second = second - parseInt(second / 60) * 60; } if (input3.value != 1) { var total = hour * 3600 + minute * 60 + second; total = total / input3.value; hour = parseInt(total / 3600); minute = parseInt((total % 3600) / 60); second = total % 60; } var d1 = document.createElement('div'); d1.style.cssText = \"margin-top:15px\"; d1.setAttribute(\"id\", \"divChild\"); d.appendChild(d1); var t1 = document.createTextNode(\"全\" + (parseInt(input2.value) - parseInt(input1.value) + 1) + \"集:\" + hour + \"时\" + minute + \"分\" + parseInt(second) + \"秒\"); d1.appendChild(t1); } else { var d1 = document.createElement('div'); d1.style.cssText = \"margin-top:15px\"; d1.setAttribute(\"id\", \"divChild\"); d.appendChild(d1); var t1 = document.createTextNode(\"输入与实际集数不符\"); d1.appendChild(t1); } } function over() { btn.style.backgroundColor = \"#E4E4E4\"; } function out() { btn.style.backgroundColor = \"#F4F4F4\"; } var body = document.body; var d = document.createElement(\"div\"); d.style.cssText = \"padding-top:15px;width:145px;height:135px;background-color:#F4F4F4;position:absolute;right:55px;top:218px;border:1px solid #00A1D6;color:#00A1D6;z-index:999;text-align:center;font-size:14px\"; body.appendChild(d); var d2 = document.createElement(\"div\"); d.appendChild(d2); var t2 = document.createTextNode(\"第\"); d2.appendChild(t2); var input1 = document.createElement('input'); input1.setAttribute(\"type\", \"number\"); input1.style.cssText = \"border: 1px solid deepskyblue;width:40px\"; d2.appendChild(input1); var t3 = document.createTextNode(\"集到\"); d2.appendChild(t3); var input2 = document.createElement('input'); input2.setAttribute(\"type\", \"number\"); input2.style.cssText = \"border: 1px solid deepskyblue;width:40px\"; d2.appendChild(input2); var t4 = document.createTextNode(\"集\"); d2.appendChild(t4); var btn = document.createElement('input'); btn.setAttribute(\"type\", \"button\"); btn.setAttribute(\"value\", \"计算\"); btn.style.cssText = \"width:50px;margin-top:15px;border: 1px solid #00A1D6;cursor:pointer\"; d.appendChild(btn); btn.onclick = f1; btn.onmouseover = over; btn.onmouseout = out; var t5 = document.createTextNode(\"倍速：\"); d2.appendChild(t5); var input3 = document.createElement('input'); input3.setAttribute(\"type\", \"number\"); input3.style.cssText = \"border: 1px solid deepskyblue;width:50px;margin-top:15px;margin-right:10px\"; input3.value = 1; d2.appendChild(input3); var t6 = document.createTextNode(\"倍\"); d2.appendChild(t6); })(); "},"3cs/2shellscript.html":{"url":"3cs/2shellscript.html","title":"2shellscript","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 语法 注释 创建shell脚本 目录 [TOC] 菜鸟教程——shell 语法 注释 单行注释： # 多行注释： ```bash script ## 创建shell脚本 ```bash vim gitbook.sh i # 编辑文本。 # 第一行#!/bin/zsh，其他可以同终端输入一样复制过来。 chmod +x ./gitbook.sh ./gitbook.sh 例如 gitbook 部署，原本批量运行大量命令行，如今可由以下脚本替代。 #!/bin/zsh cd ~/Desktop/NoteBook git pull git add --all git commit -a -m \".\" --no-verify book sm gitbook init gitbook build cd _book git init git add --all git branch -M main git commit -a -m \".\" --no-verify git push --force --quiet \"https://github.com/xxx/NoteBook.git\" main:gh-pages cd ~/Desktop/NoteBook git push "},"3cs/3gitboook.html":{"url":"3cs/3gitboook.html","title":"3gitboook","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 GitBook 安装node, npm, nvm, gitbook 使用 本地浏览器 插件 使用 禁用 启用GitPage gitbook上传到gitpage网页 初次部署 日后部署 PicGo 图床管理 配置自定义域名 其他 windows版本上使用 请求加入谷歌索引 标题最好少于20字 加密文档 Nginx 网站加密认证 目录 [TOC] GitBook 官方文档 打造完美写作系统：Gitbook+Github Pages+Github Actions GitBook 简介安装配置 GitHub Pages 搭建教程 安装node, npm, nvm, gitbook ubuntu 参考 # 在/usr/local目录下载nodejs安装包 cd /usr/local # 不要下最新版本,问题很多 https://nodejs.org/en/download/ get https://nodejs.org/dist/v12.18.1/node-v12.18.1-linux-x64.tar.xz tar xvf node-v12.18.1-linux-x64.tar.xz mv node-v12.18.1-linux-x64 nodejs # 配置，需要创建软链接，以便全局使用：(否则node -v 报错：-bash: /usr/bin/node: 没有那个文件或目录） ln -s /usr/local/nodejs/bin/node /usr/bin/node ln -s /usr/local/nodejs/bin/npm /usr/bin/npm # 解决[/usr/local/bin/npm: 没有那个文件或目录](https://stackoverflow.com/questions/35018661/bash-usr-local-bin-npm-no-such-file-or-directory) sudo mkdir -p /usr/local/bin sudo ln -s /usr/bin/npm /usr/local/bin/npm # 解决npm ERR! code EACCES sudo chown -R `whoami` ~/.npm sudo chown -R `whoami` /usr/local/lib/node_modules sudo chown -R `whoami` /usr/local/bin # 完成检验： node -v && npm -v # 升级 nodejs 和 npm 版本； sudo npm install n -g # 不需要最新版的nodejs # sudo n stable sudo npm i -g npm # 配置 npm 镜像源为淘宝源； npm config set registry http://registry.npm.taobao.org/ # 二、安装 gitbook # 先安装 gitbook-cli，执行以下命令 sudo npm install -g gitbook-cli # 查看版本并安装 gitbook # 输入命令gitbook -V会自动帮我们安装 gitbook，需要注意这一步会很慢，执行 Installing GitBook 3.2.3 大概需要20分钟左右，请耐心等待； gitbook -V # 报错 TypeError: cb.apply is not a function # 62行起的三行都注释掉：fs.stat = statFix(fs.stat), fs.fstat = statFix(fs.fstat), fs.lstat = statFix(fs.lstat) sudo vim /usr/local/lib/node_modules/gitbook-cli/node_modules/npm/node_modules/graceful-fs/polyfills.js # 验证是否安装成功 # 安装成功后，输入gitbook -V再次查看版本看是否安装成功。仅显示CLI、GitBook version即表示安装成功； gitbook -V # 报错[TypeError [ERR_INVALID_ARG_TYPE]] # node 版本过高，安装node.js的版本管理工具nvm。用nvm再安装一个低版本，可切换。 bash -c \"$(curl -fsSL https://gitee.com/RubyKids/nvm-cn/raw/master/install.sh)\" # 重启 nvm install v12.18.1 nvm use v12.18.1 npm install gitbook-cli # 进入自己的gitbook目录 mkdir ~/Desktop/NoteBook/gitbook cd ~/Desktop/NoteBook/gitbook gitbook init # 安装完毕。编辑SUMMARY.md和其他文件后发布 # 插件可自动生成目录 npm install -g gitbook-summary cd ~/Desktop/Notebook book sm gitbook init gitbook build # 启动服务，可用于本地浏览器浏览 gitbook serve & # 用浏览器查看我们创作的内容 http://localhost:4000/ linux 卸载node重新安装 /usr/local/bin/npm: 没有那个文件或目录 npm ERR! code EACCES TypeError: cb.apply is not a function 各种错误 使用 打造完美写作系统：Gitbook+Github Pages+Github Actions 本地浏览器 启动服务，可用于本地浏览器浏览 gitbook serve 用浏览器查看我们创作的内容 http://localhost:4000/ 插件 编写 book.json { \"title\": \"lzw笔记\", \"outputfile\": \"SUMMARY.md\", \"catalog\": \"all\", \"ignores\": [], \"unchanged\": [], \"sortedBy\": \"-\", \"disableTitleFormatting\": true, \"plugins\": [ \"favicon-absolute\", \"katex\", \"-lunr\", \"-search\", \"search-pro\", \"splitter\", \"page-treeview\", \"edit-link\", \"anchor-navigation-ex\", \"expandable-chapters\", \"copy-code-button\" ], \"pluginsConfig\": { \"page-treeview\": { \"copyright\": \"Copyright &#169; aleen42\", \"minHeaderCount\": \"2\", \"minHeaderDeep\": \"2\" }, \"edit-link\": { \"base\": \"//github.com/xxx/notebook/edit/master\", \"label\": \"编辑此页面\" }, \"favicon-absolute\": { \"favicon\": \"/favicon.ico\" } } } 使用 book.json内添加插件\"plugins\": [\"插件名\"],新插件放前面,install完了就中断。 gitbook install 也可以分别直接用淘宝镜像下载npm包，更快 nvm use v18 npm install gitbook-plugin-favicon-absolute -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-katex -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-search-pro -g --registry=https://registry.npm.taobao.org/ npm install gitbook-summary -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-expandable-chapters --save -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-copy-code-button --save -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-anchor-navigation-ex --save -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-splitter -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-page-treeview -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-edit-link -g --registry=https://registry.npm.taobao.org/ npm install mathjax@2.7.6 -g --registry=https://registry.npm.taobao.org/ npm install gitbook-plugin-mathjax-pro -g --registry=https://registry.npm.taobao.org/ npm install staticrypt -g --registry=https://registry.npm.taobao.org/ 自动生成目录gitbook-summary , 根目录执行 book sm 网页目录可折叠\"expandable-chapters\" 复制代码按钮\"copy-code-button\" 标题导航\"anchor-navigation-ex\" 侧边栏宽度可调节 \"splitter\" 页面顶部显示目录 \"page-treeview\" 在线编辑文件 \"edit-link\" LaTex插件 \"katex\" > \"mathjax-pro\" 导出整本电子书 calibre # 安装 calibre sudo -v && wget -nv -O- https://download.calibre-ebook.com/linux-installer.sh | sudo sh /dev/stdin # 可以导出为 pdf、epub 等 gitbook pdf ./ ./mybook.pdf gitbook epub ./ ./mybook.epub gitbook mobi ./ ./mybook.mobi 禁用 自带的：在插件名前-；引入的：json中删除 \"plugins\":[ \"-search\"] 启用GitPage 打造完美写作系统：Gitbook+Github Pages+Github Actions GitBook 简介安装配置 gitbooks-devops-roadmap GitHub Pages 搭建教程 选网页主题，进github仓库，fork后改名xxx.github.io settings——pages——custom domain———填入xxx.github.io或者其他花名 gitbook上传到gitpage网页 初次部署 vscode左下新建gitbook发布分支gh-pages。 main分支只有源代码和配置文件； gh-pages分支生成gitbook，删除其他所有不必要的内容，上传到仓库后会被同步到gitpage网站。 vscode左下切换到发布分支gh-pages。 git checkout gh-pages 创建gitbook，生成_book文件夹 cd _book gitbook init gitbook build 本地提取_book文件夹内文件，删除父目录内其他所有文件。 同步。 settings——pages——branch——gh-pages——save 查看 gitbook 是否生效 https://xxx.github.io/NoteBook/ 切换回 main 分支。日后部署 使用gh-pages插件将本地静态页面HTML文件推送到远处仓库gh-pages分支 npm install gh-pages -g gh-pages -d _book PicGo 图床管理 项目地址 使用手册 jsDelivrCDN自定义域名加速——https://cdn.jsdelivr.net/gh/xxx/notebook-img picgo设置——设置快捷键——禁用快速上传快捷键 配置自定义域名 选择阿里云域名购买，市场份额过半。top和xyz两个新顶级域名 比较便宜。（top不良使用率高，xyz长期费用贵） 配置 DNS 解析 # dig 命令显示自定义域名指向的IP地址 dig xxx.github.io # 报错无dig sudo apt install bind9-dnsutils # 再报错：未满足的依赖关系： # bind9-dnsutils : 依赖: bind9-libs (= 1:9.16.1-0ubuntu2) 但是 1:9.16.1-0ubuntu2.10 正要被安装 sudo apt remove bind9-libs sudo apt install bind9-libs sudo apt install bind9-dnsutils dig xxx.github.io # 将以下应答中的所有 ipv4 地址填入阿里云 ;; ANSWER SECTION: xxx.github.io. 5 IN A 185.199.111.153 xxx.github.io. 5 IN A 185.199.110.153 xxx.github.io. 5 IN A 185.199.109.153 xxx.github.io. 5 IN A 185.199.108.153 # 在阿里云域名解析设置中添加四条纪录，格式如下：https://dns.console.aliyun.com/#/dns/setting/l2w.top # 记录类型 A，主机记录 @，解析请求来源 默认，记录值 185.199.108.153 （上面的IP地址）， TTL 1小时 # 再加一条——记录类型 CNAME，主机记录 www，解析请求来源 默认，记录值 xxx.github.io， TTL 1小时 在网站仓库主分支新建文件 CNAME，填写域名 l2w.top。（踩坑：直接在仓库-设置-Pages中填域名不行，每次重建网站都会被清空。） 其他 windows版本上使用 下载安装nodejs及附加组件 下载安装v12.x版本的nodejs，其中msi版本可以自动配置npm环境变量， 安装时允许下载python等附加依赖组件， cmd输入node -v查看自己安装是否成功。 安装gitbook cmd输入npm install gitbook-cli -g； 该命令安装后gitbook包会默认放在nodejs安装路径下的node_global文件夹下，所以要想全局使用gitbook命令，还需要将该文件夹设置为环境变量。 设置完环境变量后，可以在控制台使用gitbook -V查看是否安装成功(这里V是大写)。 报错TypeError: cb.apply is not a function，根据报错信息C:\\Users\\MyPC\\AppData\\Roaming\\npm\\node_modules\\gitbook-cli\\node_modules\\npm\\node_modules\\graceful-fs\\polyfills.js:287，可知需要更新依赖项。 进入node模块依赖库——cd C:\\Users\\MyPC\\AppData\\Roaming\\npm\\node_modules\\gitbook-cli\\node_modules\\npm\\node_modules\\ 安装最新版graceful-fs依赖模块——npm install graceful-fs@latest --save 输入gitbook -V查看是否解决。 还是报错Error: read ECONNRESET。 npm install -g cnpm --registry=https://registry.npm.taobao.org npm install @gitbook-ng/gitbook 请求加入谷歌索引 知乎参考 查看网站是否被Google收录：打开Google搜索输入site:l2w.top，一般没有收录所以查询不到 手动请求收录：进入Google Search Console——点击左上角添加资源——弹窗选择右边的网址前缀——选择最快的HTML文件验证方法——下载随机生成的.html验证文件，上传到网址根目录——自行测试该网址成功后回到console完成验证 添加Sitemaps给爬虫加速（特别是大网站、新网站、内部相互链接少的网站）：进入XML-Sitemaps.com，输入个人网站地址，点击start——搜索完成后view details，下载sitemap.xml文件并上传到网站根目录——回到Console点击左侧菜单站点地图，添加网址 手动请求优先编入索引（可能有效，数小时~一两周）：点击console上方搜索框输入自己的网址——若显示未收录点击“请求编入索引”——大约等待不超过半天就能检索到（实测只检测到了index根站点，子文件夹内容没有检索到） 标题最好少于20字 否则手机悬浮目录只能看见大片空白 加密文档 工具——技术实现，类似的许多工具 此方法存在重大漏洞！！！（已解决~） 首先加密原理是：待加密的明文md文件通过本地的gitbook生成了明文html文件，然后将其移动到忽略上传的文件夹，再使用工具本地加密并替换原来的明文html。 之后上传GitHub仓库时仅有加密后的暗文html，从而完成加密（没有上传明文md和明文html）。理论上互联网用户无法在gitbook网站和github仓库访问该内容，除非输入加密网址的密码。 但是！最近才发现，可以通过gitbook网站的搜索框直接搜到加密网页的内容！ 后续解决方案 原因是gitbook-plugins-search-pro插件在生成html的时候就生成了一个_book/search_plus_index.json文本索引，里面包含所有文档的所有文本信息。把替换这个文件写进脚本就可以屏蔽搜索了。（以后还是隐私信息尽量不上网）。 具体来说就是：先移走要加密的md文件，gitbook build生成一个不含有加密信息的json索引保存起来——然后把要加密的md文件弄回来，再次build，把这次的含有加密明文的json用之前的文件替换掉——然后再进行加密等操作。 ShellScript脚本代码如下（注意把staticrypt的加密密码mima换成自己的） #!/bin/zsh cd ~/Desktop/notebook && book sm && cp SUMMARY.md README.md && mv 9me/test.md node_modules/test.md && gitbook build && mv _book/search_plus_index.json node_modules/search_plus_index.json && mv node_modules/test.md 9me/test.md && gitbook build && staticrypt _book/9me/test.html mima --short && rm _book/9me/test.html && mv _book/9me/test_encrypted.html _book/9me/test.html && mv 9me/test.md node_modules/test.md && mv node_modules/search_plus_index.json _book/search_plus_index.json && gh-pages -d _book && git add --all && git commit -a -m \".\" --no-verify && git push && mv node_modules/test.md 9me/test.md && echo ====================success================== Nginx 网站加密认证 https://segmentfault.com/a/1190000018195589 "},"3cs/3markdown.html":{"url":"3cs/3markdown.html","title":"3markdown","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 参考 标题、注释、页内跳转 换行 标题分级 注释 页内跳转 强调 引用 表 列表 表格 公式 代码 链接 网址 插入HTML标签 粗暴地嵌入网页 LaTeX 函数 指数 对数 三角函数 符号函数，绝对值 最大值，最小值 极限 微分及导数 模运算 根号 目录 [TOC] 参考 vscode插件Markdown Preview Enhanced——可转电子书格式 Mermaid 图表 html-2-markdown 标题、注释、页内跳转 换行 连续空格+换行符; 空行 标题分级 等于号1级、减号2级（要换行），连续#号1~6级 注释 以下注释不可见 [//]: # \"首选兼容性好\" [//]: # \"首选兼容性好\" [comment]: <> \"我是注释看不见我\" [//]: <> \"这也是注释\" 页内跳转 点击跳转 [点击跳转](#jump) 定义一个锚(id)：跳转到的地方 定义一个锚(id)：跳转到的地方 强调 斜体 italic 加粗 bold 转义符 \\ , # 内联 inline code 代码 键位Ctrl+Esc 删除线 *斜体* _italic_ **加粗** __bold__ 转义符 \\\\ , \\# 内联 `inline code` 代码 键位Ctrl+Esc ~~删除线~~ 引用 引用 内嵌的引用 无法脱离内嵌 成功脱离内嵌 3种水平分割线 星号 下划线 连字符-（内容后要加空行，单独用不需要加） >引用 >>内嵌的引用 > 无法脱离内嵌 > > 成功脱离内嵌 ## 3种水平分割线 >星号 *** >下划线 ___ >连字符-（内容后要加空行，单独用不需要加） --- 表 列表 无序列表 加、减、乘号 Item 2 item 3a item 3b or [ ] 空心方框 [x] 实心方块 - 加、减、乘号 - Item 2 + item 3a * item 3b - [ ] 空心方框 - [x] 实心方块 有序列表 Item 1 Item 2 a. item 3a b. item 3b c. mmm 1. Item 1 2. Item 2 a. item 3a b. item 3b c. mmm 表格 Tips： Typora预览模式下，回车只能进入下一行的单元格； 需要插入行，ctrl+enter； 单元格内分行，shift+enter。 删除当前行，Ctrl + shift + delete/backspace Left column Center column Right column Cell 1 Centered $1600 Cell 2 Cell 3 $12 | Left column | Center column | Right column | |:------------|:-------------:|-------------:| | Cell 1 | Centered | $1600 | | Cell 2 | Cell 3 | $12 | 简化写法 (gitbook 无法渲染) Left column | Center column | Right column -|-|- Cell 1 | Centered | $1600 Cell 2 | Cell 3 | $12 Left column | Center column | Right column -|-|- Cell 1 | Centered | $1600 Cell 2 | Cell 3 | $12 表格转换工具 公式 详情请见 LaTeX 内联公式 f(x)\\=x∗e2piiξxf(x) = x * e^{2 pi i \\xi x} # 先换行！！！ # $ 没用！！！ f(x)\\=x∗e2piiξxf(x) = x \\* e^{2 pi i \\\\xi x} 独立公式 f(x)=sin(x)+12x+1f(x) = sin(x) + \\frac{1}{2} x + 1 f(x)=sin(x)+​2​​1​​x+1 {% math %}f(x) = sin(x) + \\frac{1}{2} x + 1 {% endmath %} 矩阵 {abcd}\\begin{Bmatrix} a & b \\\\ c & d \\end{Bmatrix}{​a​c​​​b​d​​} {% math %}\\begin{Bmatrix} a & b \\\\ c & d \\end{Bmatrix}{% endmath %} 多行公式 D(x)={limx→0axb+c,x3π,x=3∫a3bxij+e2dx,x>3D(x) = \\begin{cases} \\lim\\limits_{x \\to 0} \\frac{a^x}{b+c}, & x3 \\\\ \\end{cases}D(x)=​⎩​⎪​⎪​⎪​⎪​⎨​⎪​⎪​⎪​⎪​⎧​​​​x→0​lim​​​b+c​​a​x​​​​,​π,​∫​a​3b​​x​ij​​+e​2​​dx,​​​​x3​x=3​x>3​​ {% math %}\\begin{Bmatrix} a & b \\\\ c & d \\end{Bmatrix}{% endmath %} 代码 console.log(\"This is a block code\") .button { border: none; } 4个空格缩进形成一个代码块 内联代码 Inline code 用反勾包围 链接 谷歌 |必应 |http://google.com 网址 插入HTML标签 Markdown 还没有办法指定图片的高度与宽度，如果你需要的话，你可以使用普通的标签。 粗暴地嵌入网页 LaTeX LaTeX公式 樱花赞LaTeX公式手册(全网最全) gitbook用KATEX 参考 latex WikiBook PDF文件 700页 函数 指数 ρl sat,expab=ab,expb=eb,10m\\rho_l^{\\text{ sat}}, \\exp_a b = a^b, \\exp b = e^b, 10^mρ​l​ sat​​,exp​a​​b=a​b​​,expb=e​b​​,10​m​​ {% math %}\\rho_l^{\\text{ sat}}, \\exp_a b = a^b, \\exp b = e^b, 10^m{% endmath %} 对数 logx,lgy=log10y,lnc\\log x, \\lg y=\\log _{10}y, \\ln clogx,lgy=log​10​​y,lnc {% math %}\\log x, \\lg y=\\log _{10}y, \\ln c{% endmath %} 三角函数 sina,cosb,tanc,cotd,arcsina,arccosb,arctanc\\sin a,\\cos b,\\tan c,\\cot d,\\arcsin a,\\arccos b,\\arctan csina,cosb,tanc,cotd,arcsina,arccosb,arctanc {% math %}\\sin a,\\cos b,\\tan c,\\cot d,\\arcsin a,\\arccos b,\\arctan c,\\\\ \\operatorname{sh}k, \\operatorname{ch} l, \\operatorname{th}m{% endmath %} 符号函数，绝对值 ∣x∣\\left\\vert x \\right\\vert∣x∣ {% math %}\\left\\vert x \\right\\vert{% endmath %} 最大值，最小值 min(x,y),max(x,y)\\min(x,y), \\max(x,y)min(x,y),max(x,y) {% math %}\\min(x,y), \\max(x,y){% endmath %} 极限 limx→∞1n(n+1)\\lim _{x \\to \\infty} \\frac{1}{n(n+1)}lim​x→∞​​​n(n+1)​​1​​ {% math %}\\min(x,y), \\max(x,y){% endmath %} 微分及导数 dt,dt,∂t,∇ψ,dy/dx,dy/dx,dydx,dydx,∂2∂x1∂x2y,′,‵,f′,f′,f′′,f(3),y˙,y¨ dt , \\mathrm{d}t, \\partial t, \\nabla\\psi , dy/dx, \\mathrm{d}y/\\mathrm{d}x, \\frac{dy}{dx}, \\frac{\\mathrm{d}y}{\\mathrm{d}x}, \\frac{\\partial^2}{\\partial x_1\\partial x_2}y, \\prime, \\backprime, f^\\prime, f', f'', f^{(3)}, \\dot y, \\ddot ydt,dt,∂t,∇ψ,dy/dx,dy/dx,​dx​​dy​​,​dx​​dy​​,​∂x​1​​∂x​2​​​​∂​2​​​​y,′,‵,f​′​​,f​′​​,f​′′​​,f​(3)​​,​y​˙​​,​y​¨​​ {% math %} dt , \\mathrm{d}t, \\partial t, \\nabla\\psi , dy/dx, \\mathrm{d}y/\\mathrm{d}x, \\frac{dy}{dx}, \\frac{\\mathrm{d}y}{\\mathrm{d}x}, \\frac{\\partial^2}{\\partial x_1\\partial x_2}y, \\prime, \\backprime, f^\\prime, f', f'', f^{(3)}, \\dot y, \\ddot y{% endmath %} 模运算 sk≡0(mod5)s_k \\equiv 0 \\pmod {5}s​k​​≡0(mod5) {% math %}s_k \\equiv 0 \\pmod {5}{% endmath %} 根号 √,2,n,x3+y323\\surd, \\sqrt{2}, \\sqrt[n]{}, \\sqrt[3]{\\frac{x^3+y^3}{2}} √,√​2​​​,​n​​√,​3​​√​​2​​x​3​​+y​3​​​​​​​ {% math %}\\surd, \\sqrt{2}, \\sqrt[n]{}, \\sqrt[3]{\\frac{x^3+y^3}{2}} {% endmath %} "},"3cs/4gdb.html":{"url":"3cs/4gdb.html","title":"4gdb","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 基本使用 开始调试 (矩阵条件数) 断点 运行控制 显示上下文 变量 TUI 窗口 帮助 实践 浮点数溢出 目录 [TOC] 基本使用 开始调试 (矩阵条件数) gdb --args ./momentum-dbg -i problems/123-2.i -pc_type svd -pc_svd_monitor 断点 # 设置断点 (行号、函数名), (运行前提示找不到无所谓，y确定） b /home/lee/projects/moose/modules/fluid_properties/src/userobjects/Water97FluidProperties.C:260 b NonlinearSystem::solve() b MPI_Abort # 查看所有断点 info b # 删除断点 delete 1 2 3 # 禁用断点 disable 1 2 3 # 激活断点 enable 1 2 3 运行控制 # 从头开始运行 r # 继续运行到下一个断点 c # 下一步 n # 下一步（深入代码调用） s # 运行到循环结束 u # 被调用函数正常运行到结束，并返回调用函数 finish # 被调用函数立即结束函数，并返回值 return # 退出调试 q 显示上下文 l 变量 # 设置需要显示的变量parameter (p 和 display) p _T[_qp] display _drho_dh[_qp] # 显示 display # 禁用变量 disable display 1 2 3 # 删除变量 undisplay 1 2 3 # 查看已设置的变量信息 info display # 输出某个地址的值 p &0x555555 # 输出某个数组，@length指定某个长度，否则默认只输出第一个元素。 p **array@length TUI 窗口 # 打开文本用户交互（TUI）窗口 tui enable # 调整代码区高度 winheight src -10 帮助 # 显示帮助 help 命令 实践 浮点数溢出 # gdb 调试程序，定位问题 r # 运行到浮点溢出后，回溯堆栈 backtrace stack bt # 找到需要调试的那一行，打断点 b xx/xx/xxx.C:xx "},"3cs/4git.html":{"url":"3cs/4git.html","title":"4git","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 Git 新建 提交 配置工具 分支 创建仓库 .gitignore 文件 同步更改 进行更改 重置提交（回滚代码） 术语表 问题 隐私泄露后删除所有 Commit 无法克隆仓库 切换分支出错 fetch 失败 clone报错gnutls握手失败 目录 [TOC] Git 新建 git init 仓库名 # 去GitHub新建同名仓库 cd 仓库名 git remote add origin https://github.com/xxx/仓库名.git git add -A git commit -m \"initial commit\" git push -u origin master 提交 git add -A 本次提交的备注 git commit -a -m \".\" --no-verify git push # （通过 IDE 提交也可） 配置工具 对所有本地仓库的用户信息进行配置 # 对你的commit操作设置关联的用户名 git config --global user.name \"xxx\" # 对你的commit操作设置关联的邮箱地址 git config --global user.email \"xxx@qq.com\" # 启用有帮助的彩色命令行输出 git config --global color.ui auto 分支 分支是使用 Git 工作的一个重要部分。你做的任何提交都会发生在当前“checked out”到的分支上。使用 git status 查看那是哪个分支。 git branch [branch-name] # 创建一个新分支 git switch -c [branch-name] # 切换到指定分支并更新工作目录(working directory) git merge [branch] # 将指定分支的历史合并到当前分支。这通常在拉取请求(PR)中完成，但也是一个重要的 Git 操作。 git branch -d [branch-name] # 删除指定分支 创建仓库 当着手于一个新的仓库时，你只需创建一次。要么在本地创建，然后推送到 GitHub；要么通过 clone 一个现有仓库。 git init # 在使用过 git init 命令后，使用以下命令将本地仓库与一个 GitHub 上的空仓库连接起来： git remote add origin [url] # 将现有目录转换为一个 Git 仓库 git clone [url] # Clone（下载）一个已存在于 GitHub 上的仓库，包括所有的文件、分支和提交(commits) .gitignore 文件 有时一些文件最好不要用 Git 跟踪。这通常在名为 .gitignore 的特殊文件中完成。你可以在 github.com/github/gitignore 找到有用的 .gitignore 文件模板。 同步更改 将你本地仓库与 GitHub.com 上的远端仓库同步 git fetch # 下载远端跟踪分支的所有历史 git merge # 将远端跟踪分支合并到当前本地分支 git push # 将所有本地分支提交上传到 GitHub git pull # 使用来自 GitHub 的对应远端分支的所有新提交更新你当前的本地工作分支。git pull 是 git fetch 和 git merge 的结合 进行更改 浏览并检查项目文件的发展 git log # 列出当前分支的版本历史 git log --follow [file] # 列出文件的版本历史，包括重命名 git diff [first-branch]...[second-branch] # 展示两个分支之间的内容差异 git show [commit] # 输出指定commit的元数据和内容变化 git add [file] # 将文件进行快照处理用于版本控制 git commit -m \"[descriptive message]\" # 将文件快照永久地记录在版本历史中 重置提交（回滚代码） 清除错误和构建用于替换的历史 git reset [commit] # 撤销所有 [commit] 后的的提交，在本地保存更改 git reset --hard [commit] # 放弃所有历史，改回指定提交。[commit]是git log 查看到的某一次的hash 值 # 小心！更改历史可能带来不良后果。如果你需要更改 GitHub（远端）已有的提交，请谨慎操作。如果你需要帮助，可访问 github.community 或联系支持(support)。 术语表 git: 一个开源的分布式版本控制系统 GitHub: 一个托管和协作管理 Git 仓库的平台 commit 提交: 一个 Git 对象，是你整个仓库的快照的哈希值 branch 分支: 一个轻型可移动的 commit 指针 clone: 一个仓库的本地版本，包含所有提交和分支 remote 远端: 一个 GitHub 上的公共仓库，所有小组成员通过它来交换修改 fork: 一个属于另一用户的 GitHub 上的仓库的副本 pull request 拉取请求: 一处用于比较和讨论分支上引入的差异，且具有评审、评论、集成测试等功能的地方 HEAD: 代表你当前的工作目录。使用git checkout 可移动 HEAD 指针到不同的分支、标记(tags)或提交 问题 隐私泄露后删除所有 Commit # 把项目提交到 GitHub 上，有时候可能不小心提交了一些隐私信息，如密码和邮箱。如何删除这些记录，形成一个全新的仓库，并且保持代码不变呢？ # 新建一个空白分支 git checkout --orphan latest_branch # 添加所有文件 git add -A # 提交 git commit -am \".\" # 强制删除旧的分支，如果是 master git branch -D master # 将当前分支重命名为 master git branch -m master # 强制推送到远程仓库 git push -f origin master 无法克隆仓库 git clone https://xxx:个人口令@github.com/xxx/NoteBook.git # Tips：每次都要输入用户名，长密码口令太麻烦。以下操作可简化。 # 1. 自动保存填写内容，首次配置，以后均可用 cd vim .git-credentials # （文件中输入 https://xxx:口令串@github.com ，保存） git config --global credential.helper store # >2. 书签保存 token # >3. 新建口令 Settings--Developer settings--Personal access tokens (classic) 切换分支出错 切换分支一定要先切换到master主分支下 git checkout master git branch -d 需要删除的分支名 git checkout -b 分支名 origin/分支名 fetch 失败 参考 问题：私有密钥文件的权限太过开放。 sign_and_send_pubkey: signing failed for RSA \"/home/lee/.ssh/id_rsa\" from agent: agent refused operation git@github.com: Permission denied (publickey). 解法: 添加 SSH密钥 到代理 agent，更改文件权限 ssh-add # 要永久保存SSH密钥——添加配置到 ~/.ssh/config： vim ~/.ssh/config # 保存以下内容 Host * IdentityFile /home//.ssh/id_rsa # 提示警告：不受保护的私有密钥文件。 # 收窄密钥文件权限。 chmod 600 /home//.ssh/id_rsa clone报错gnutls握手失败 代理设置出错, 重置代理 git config --global --unset https.https://github.com.proxy git config --global --unset http.https://github.com.proxy 若需使用代理，http协议和socket协议的配置分别如下，以49731端口为例（是clash设置的）： # http git config --global http.https://github.com.proxy http://127.0.0.1:49731 git config --global https.https://github.com.proxy https://127.0.0.1:49731 # socket git config --global http.proxy 'socks5://127.0.0.1:49731' git config --global https.proxy 'socks5://127.0.0.1:49731' export https_proxy=http://127.0.0.1:49731;export http_proxy=http://127.0.0.1:49731;export all_proxy=socks5://127.0.0.1:49731 "},"3cs/4mysql.html":{"url":"3cs/4mysql.html","title":"4mysql","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 常用命令 安装 修改密码 目录 [TOC] 常用命令 以下列出了使用Mysql数据库过程中常用的命令： USE 数据库名 ; 选择要操作的Mysql数据库，使用该命令后所有Mysql命令都只针对该数据库。 SHOW DATABASES; 列出 MySQL 数据库管理系统的数据库列表。 SHOW TABLES; 显示指定数据库的所有表，使用该命令前需要使用 use 命令来选择要操作的数据库。 SHOW COLUMNS FROM 数据表; 显示数据表的属性，属性类型，主键信息 ，是否为 NULL，默认值等其他信息。 SHOW INDEX FROM 数据表; 显示数据表的详细索引信息，包括PRIMARY KEY（主键）。 SHOW TABLE STATUS [FROM db_name] [LIKE 'pattern'] \\G; 该命令将输出Mysql数据库管理系统的性能及统计信息。 mysql> SHOW TABLE STATUS FROM RUNOOB; # 显示数据库 RUNOOB 中所有表的信息 mysql> SHOW TABLE STATUS from RUNOOB LIKE 'runoob%'; # 表名以runoob开头的表的信息 mysql> SHOW TABLE STATUS from RUNOOB LIKE 'runoob%'\\G; # 加上 \\G，查询结果按列打印 create DATABASE ; mysqladmin -u root -p create RUNOOB drop database ; mysqladmin -u root -p drop RUNOOB use RUNOOB; mysql -uroot -p test # 安装 # 下载，重启服务 sudo apt install mysql-server sudo service mysql restart # 运行安全脚本设置密码等 sudo mysql_secure_installation # 登录（第一次） sudo mysql -- 允许使用上述密码简化登录 SELECT user,authentication_string,plugin,host FROM mysql.user; ALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '上述密码'; FLUSH PRIVILEGES; # 测试服务是否成功运行 sudo mysqladmin -p -u root version # 退出 exit; # 登录（以后）（输入密码） mysql -u root -p 参考 修改密码 # MySQL内 # 查看密码策略，修改 # （0：仅要求长度。） show VARIABLES like \"%password%\"; set global validate_password.policy=0; set global validate_password.length=4; # MySQL外 mysqladmin -uroot -p12345678(原密码) password 1234(新) 参考 : 修改策略 三种方式修改密码 "},"3cs/4regex.html":{"url":"3cs/4regex.html","title":"4regex","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 理论知识 基础 普通字符 非打印字符 特殊字符 限定符 定位符 选择与反向引用 表达式有前后顺序 修饰符（标记） 运算符优先级 使用实践 常见实例 给文档函数名加上反引号 目录 [TOC] 理论知识 菜鸟教程 基础 正则表达式是由普通字符（例如字符 a 到 z）以及特殊字符（称为\"元字符\"）组成的文字模式。 普通字符 普通字符包括没有显式指定为元字符的所有可打印和不可打印字符。这包括所有大写和小写字母、所有数字、所有标点符号和一些其他符号。 [A-Z] 匹配所有大写字母 [a-z] 表示所有小写字母 [ABC] 匹配所有的字母A或者B或者C，ABC可以换成其他字符，如aeiou匹配元音字母 ABC 匹配所有所有不是A或者B或者C的字母，如aeiou 匹配所有非元音字母 [0-9] 匹配某个范围内的数字，如 Chapter [3-5]匹配Chapter 3, Chapter 4, Chapter 5 [0-9]+ 匹配多个数字组成的字符串，+ 匹配一个或者多个。 . 匹配除换行符（\\n、\\r）之外的任何单个字符 \\w 匹配字母、数字、下划线。等价于 [A-Za-z0-9_] \\W 匹配非字母、数字、下划线。等价于 'A-Za-z0-9_'。 非打印字符 \\n 匹配一个换行符。等价于 \\x0a 和 \\cJ。 \\r 匹配一个回车符。等价于 \\x0d 和 \\cM。return \\s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [\\f\\n\\r\\t\\v]。注意 Unicode 正则表达式会匹配全角空格符。space \\S 匹配任何非空白字符。等价于 \\f\\n\\r\\t\\v。 \\f 匹配一个换页符。等价于 \\x0c 和 \\cL。 \\t 匹配一个制表符。等价于 \\x09 和 \\cI。table \\v 匹配一个垂直制表符。等价于 \\x0b 和 \\cK。verticle table \\cx 匹配由x指明的控制字符。例如，\\cM 匹配一个Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 'c' 字符。 特殊字符 默认匹配有特殊含义的字符。要匹配它们自身必须在前面加上转义字符，反斜杠\\。 例如'\\n' 匹配换行符，序列 \\\\ 匹配\\, 而 \\( 则匹配 (。 $ 匹配输入字符串的结尾位置。如果设置了 RegExp 对象的 Multiline 属性，则 $ 也匹配 '\\n' 或 '\\r'。要匹配 $ 字符本身，请使用 \\$。 ( ) 标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。 * 匹配前面的子表达式零次或多次。 + 匹配前面的子表达式一次或多次。 ? 匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。 . 匹配除换行符 \\n 之外的任何单字符。 [ 标记一个中括号表达式的开始。 \\ 将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。 ^ 匹配输入字符串的开始位置，除非在方括号表达式中使用，当该符号在方括号表达式中使用时，表示不接受该方括号表达式中的字符集合。 { 标记限定符表达式的开始。 | 或者，可以匹配两项任意一项。例如，'z|food' 能匹配 \"z\" 或 \"food\"。'(z|f)ood' 则匹配 \"zood\" 或 \"food\"。 限定符 限定符可以表示匹配次数。如果限定符出现在范围表达式之后，则表示应用于整个范围表达式，如匹配正整数用[1-9][0-9]*，其中[1-9]设置第一个数字不是 0，[0-9]* 表示从 0 到 9 的数字重复了0次或多次。 ? 匹配文件名中的 0 个或 1 个字符 * 匹配0个或多个字符。 + 匹配1个或者多个。 {n} n >=0 。匹配确定的n次。例如，o{2} 不能匹配 \"Bob\" 中的 o，但是能匹配 \"food\" 中的两个 o。 {n,} n >=0 。至少匹配n 次。例如，o{2,} 不能匹配 \"Bob\" 中的 o，但能匹配 \"foooood\" 中的所有 o。o{1,} 等价于 o+。o{0,} 则等价于 o*。 {n,m} m 和 n 均为非负整数，其中 n 最少匹配 n 次且最多匹配 m 次。例如，o{1,3} 将匹配 \"fooooood\" 中的前三个 o。o{0,1} 等价于 o?。请注意在逗号和两个数之间不能有空格。 另外，* + ?等限定符都是贪婪的，因为它们会尽可能多的匹配文字，只有在它们的后面加上一个?才能实现非贪婪或最小匹配。 例如，对于HTML的h1 标签RUNOOB-菜鸟教程， 贪婪匹配//会匹配所有内容，但是加上?后的非贪婪匹配//只匹配 。 定位符 定位符用来描述字符串或单词的边界。 ^ 匹配输入字符串开始的位置。如果设置了 RegExp 对象的 Multiline 属性，^ 还会与换行符 \\n 或回车符 \\r 之前的位置匹配。 $ 匹配输入字符串结尾的位置。如果设置了 RegExp 对象的 Multiline 属性，$ 还会与换行符 \\n 或回车符 \\r 之前的位置匹配。 \\b 匹配一个单词边界，即字与空格间的位置。 \\B 非单词边界匹配。例如，表达式\\Bapt匹配不出现在单词首部的字符串apt，会匹配Chapter 中的字符串 apt，但不匹配 aptitude 中的字符串 apt。 选择与反向引用 用圆括号 () 将正则表达式括起来，表示捕获相关匹配，并将其存储到一个临时缓冲区。相邻的选择项之间用 | 分隔。 所捕获的每个子匹配都按照在正则表达式模式中从左到右出现的顺序存储。缓冲区编号从 1 开始，最多可存储 99 个捕获的子表达式。每个缓冲区都可以使用 \\n 访问，其中 n 为一个标识特定缓冲区的一位或两位十进制数。 例如，vscode可以用 $1表示第一个括号匹配到的内容。 表达式有前后顺序 ?=、? exp1(?=exp2)：查找 exp2 前面的 exp1。 (?(\\b\\w+\\b)(?=函数) exp1(?!exp2)：查找后面不是 exp2 的 exp1。 (? 修饰符（标记） 标记也称为修饰符，正则表达式的标记用于指定额外的匹配策略。 标记不写在正则表达式里，标记位于表达式之外/pattern/flags i ignore - 不区分大小写——将匹配设置为不区分大小写，搜索时不区分大小写: A 和 a 没有区别。 g global - 全局匹配——查找所有的匹配项。 m multi line - 多行匹配——使边界字符 ^ 和 $ 匹配每一行的开头和结尾，记住是多行，而不是整个字符串的开头和结尾。 s 使得特殊字符圆点 . 包含换行符 \\n——默认情况下的圆点 . 是匹配除换行符 \\n 之外的任何字符，加上 s 修饰符之后, . 中包含换行符 \\n。 运算符优先级 正则表达式从左到右进行计算，并遵循优先级顺序。 相同优先级的从左到右进行运算，不同优先级的运算先高后低。以下从最高到最低说明其优先级顺序： \\ —— 转义符 (), (?:), (?=), [] —— 圆括号和方括号 *, +, ?, {n}, {n,}, {n,m} —— 限定符 ^, $, \\ —— 任何元字符、任何字符 定位点和序列（即：位置和顺序） | —— 替换，\"或\"操作 字符具有高于替换运算符的优先级，使得\"m|food\"匹配\"m\"或\"food\"。若要匹配\"mood\"或\"food\"，请使用括号创建子表达式，从而产生\"(m|f)ood\"。 使用实践 常见实例 [a-zA-Z0-9_-]+ 用户名由若干个字母、数字、下划线和中划线组成 匹配所有 img 标签 /^(Chapter|Section) [1-9][0-9]{0,1}$/ 匹配章节标题。（括号不可少，因为 | 优先级最低，要么只匹配行首的单词 Chapter，要么匹配行尾的单词 Section + 后面的数字。） [\\u4E00-\\u9FA5] 中文 ^.*(?=.{6,})(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$ 密码强度正则，最少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符 ^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$ 邮箱，html可以VScode不行？ 正则表达式 描述 /\\b([a-z]+) \\1\\b/gi 一个单词连续出现的位置。 /(\\w+):\\/\\/([^/:]+)(:\\d*)?([^# ]*)/ 匹配一个 URL 解析为协议、域、端口及相对路径。 `/^(?:Chapter Section) [1-9][0-9]{0,1}$/` 定位章节的位置。 /[-a-z]/ a 至 z 共 26个 字母再加一个 - 号。 /ter\\b/ 可匹配 chapter，而不能匹配 terminal。 /\\Bapt/ 可匹配 chapter，而不能匹配 aptitude。 `/Windows(?=95 98 NT )/` 可匹配 Windows95 或 Windows98 或 WindowsNT，当找到一个匹配后，从 Windows 后面开始进行下一次的检索匹配。 /^\\s*$/ 匹配空行。 /\\d{2}-\\d{5}/ 验证由两位数字、一个连字符再加 5 位数字组成的 ID 号。 ([\\s\\S]*?) 匹配 HTML 标记。 正则表达式 描述 hello 匹配 {hello} `gray grey` 匹配 {gray, grey} `gr(a e)y` 匹配 {gray, grey} gr[ae]y 匹配 {gray, grey} b[aeiou]bble 匹配 {babble, bebble, bibble, bobble, bubble} `[b-chm-pP]at ot` 匹配 {bat, cat, hat, mat, nat, oat, pat, Pat, ot} colou?r 匹配 {color, colour} `rege(x(es)? xps?)` 匹配 {regex, regexes, regexp, regexps} go*gle 匹配 {ggle, gogle, google, gooogle, goooogle, ...} go+gle 匹配 {gogle, google, gooogle, goooogle, ...} g(oog)+le 匹配 {google, googoogle, googoogoogle, googoogoogoogle, ...} z{3} 匹配 {zzz} z{3,6} 匹配 {zzz, zzzz, zzzzz, zzzzzz} z{3,} 匹配 {zzz, zzzz, zzzzz, ...} [Bb]rainf\\*\\*k 匹配 {Brainf**k, brainf**k} \\d 匹配 {0,1,2,3,4,5,6,7,8,9} 1\\d{10} 匹配 11 个数字，以 1 开头 `[2-9] [12]\\d 3[0-6]` 匹配 2 到 36 范围内的整数 Hello\\nworld 匹配 Hello 后跟换行符，后跟 world \\d+(\\.\\d\\d)? 包含一个正整数或包含两位小数位的浮点数。 [^*@#] 排除 *、@ 、# 三个特色符号 //[^\\r\\n]*[\\r\\n] 匹配 // 开头的注释 ^dog 匹配以 \"dog\" 开始 dog$ 匹配以 \"dog\" 结尾 ^dog$ is exactly \"dog\" 给文档函数名加上反引号 vscode搜索框：(\\b\\w+\\b)(\\s*函数) 替换框：`$1`$2 其中，$1两边都有反引号`，网页渲染后可能会看不见 如果需要将“xxx函数”替换为“`xxx`函数”，可以使用以下正则表达式查找: (\\b\\w+\\b)(\\s*函数) 替换:`$1`$2 解释: (\\b\\w+\\b): 匹配单词，使用了 b表示单词边界，w+表示一个或多个字母数字字符。 (\\s*函数):匹配可能存在的空格和函数两个字。 替换部分使用了反向引用，$1表示第一个括号匹配到的内容，$2表示第二个括号匹配到的内容，并且使用了反斜线 转义反引号。使用方法: 打开要替换的文件。 按下 ctrl+H 或在菜单中选择“替换”选项在“查找”框中输入正则表达式:(\\b\\w+\\b)(\\s*函数) 在“替换为”框中输入替换字符串:`$1`$2, 点击“全部替换”按钮，完成替换。 注意: 如果有些函数名已经加了引号，那么这些函数名不会被替换。 如果要替换的内容中存在中文字符，需要使用UTF-8编码的文件格式。 "},"3cs/5vim.html":{"url":"3cs/5vim.html","title":"5vim","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 为什么要写这篇文章 学习资源 入门 标准模式 / 插入模式 执行命令：: 退出 vim：:q / ZZ 保存文件: :w / :w 基本移动：h / j / k / l 前往第一行 / 最后一行：gg / G 向右移动一个单词：w / e 向左移动一个单词：b 移动到前一个单词的末尾：ge 前往当前行第一 / 最后字符：0 / $ 删除字符：x / X 删除单词：dw 删除当前行：dd 在当前位置后面插入：a 在当前行开始 / 末尾插入：I / A 在当前行下 / 上面插入新行：o / O 撤销 / 重做：u / + r 中场休息：vim 的一些模式 重复 n 次操作：n 删除一个范围的内容：d 快捷键的小写和大写 跨越多行选择内容：v 进入可视模式 进阶 替换一个字符：r 替换连续多个字符：R 更改一个范围的内容：c 复制当前行：yy 粘贴到下一行 / 上一行：p / P 移动到下一个指定字符：f 删除当前字符，并进入编辑模式：s 删除当前整行，并进入编辑模式：S 从当前位置向右删除整行：D 向右删除行, 进入编辑模式：C 复制下一个单词：yw 当前行置顶：zt 高级 查找文档中的关键字：/ 查找当前光标对应的完整单词：* 在代码块匹配的括号之间跳转：% 跳转前 / 后一个位置： + o / i 替换:{range}s/{old}/{new}/{flag} 作用范围 range 替换模式 flag 在 vim 中执行 shell 命令：:! 获得命令提示：: + + d 配置文件 配置插件 其他工具 Vim 化 总结 附录 1：速查表 光标移动 屏幕滚动 编辑 其他 附录 2：vim 命令 目录 [TOC] 原文链接 learn-vim 为什么要写这篇文章 最近遇到在服务端编辑代码文件、查日志的场景比较多，所以想要系统学习一下 vim。 Vim 对于每个服务端开发人员都不陌生，这可能是我们接触最多的 Linux 软件。所有类 Unix 的系统（Linux、Mac）都安装了 vim。当我们通过终端操作文本时，vim 或许是我们唯一的选择。 然而，vim 的使用方式和我们所熟悉的可视化编辑器完全不同，它的的快捷键是如此奇怪，不易上手。因此除非兴趣使然，我们很少会主动学习 vim。它的上限够高，下限也足够低，只需要掌握最基本的操作：↑↓←→、i、、:wq，就可以覆盖大部分使用场景。那为什么还需要再深入学习 vim 呢？ 主要原因是：用较少的学习成本，换来较大的效率提升。Vim 常用的几个快捷键，可以在手指不离开键盘热区的情况下快速定位光标或编辑内容，这些内容的学习成本并不高。如果你开发运维的过程中和 vim 打交道的次数越来越多，掌握这些技巧可以极大的提升开发效率。即使现在没有需求，也可以提前上手这个强大的工具。 现有的 vim 教程 / 文章大多直接罗列完整的 vim 快捷键列表，让人不知从何下手。我认为应当先掌握最重要的、最高频的快捷键，满足日常开发所需；其他低频使用的快捷键，可以作为一个速查表按需查看，vim 的进阶用法也可以之后再深入研究。 因此，我尝试作为一个 vim 初学者，总结 vim 主要和次要的快捷键，同时提供一些学习 vim 的资源。 注意：在阅读本文时，你随时可以在终端执行 vimtutor，打开一个教程文本文件，尝试某个快捷键或命令。 学习资源 Missing Semester - 3. Vim 编辑器：非常推荐的课程，所有内容都很有帮助 The Vim Tutorial Part One - Youtube, Part Two：看英文字幕比较吃力的话，可以直接看本文 vimtutor：安装 vim 后自带的教程，在终端执行 vimtutor 即可打开，mac 系统下是中文文档 Vim Adventure：以游戏的方式学习 vim 这里顺便再推荐一些可视化学习资源： 数据结构与算法：Data Structure Visualization、Visualgo 正则表达式：regexper Git：Learn Git Branching（强烈推荐）、Visualizing Git 入门 标准模式 / 插入模式 标准模式（Normal Mode）：进入 vim 的默认模式，这个模式下按下任何键不会实际输入到文本中，按下 : 可以执行命令 插入模式（Insert Mode）：在标准模式按下 i 进入插入模式，此时可以输入文本；按下 退出插入模式 可以配置 ii 退出插入模式，这样左手不需要移动到最左上角去按下 。在标准模式下执行： imap ii 可以将这条命令写到 vim 的配置文件中。这条配置只会影响需要输入连续的两个 i 的场景：如果想要输入连续的两个 i，必须在按下第一个 i 之后稍等一会儿，再按第二个 i。不过英文中很少有单词包含连续的两个 i，所以影响可以忽略。 执行命令：: 按下 : 后输入命令，按回车执行。如 :set number 会显示行号。 退出 vim：:q / ZZ :q / :quit：退出 vim，不作任何改动 :q!：退出 vim，丢弃已有的改动 :wq：保存更改（write）并退出（quit）vim ZZ：等同于 :wq，这个快捷键输入比 :wq 更快，注意是大写 Z 保存文件: :w / :w :w：保存更改 :w ：保存到一个新的文件 基本移动：h / j / k / l 使用 h、j、k、l 而不是 ←、↓、→、↑，这能够避免将手指移出键盘热区再移回来。如果有必要的话，甚至可以禁用方向键，来强制自己使用 h、j、k、l： map map map map 前往第一行 / 最后一行：gg / G gg：前往第一行 1G：同 gg G：前往最后一行 向右移动一个单词：w / e w：向右移动一个单词，光标将落在下一个单词的首字符 e：向右移动一个单词，光标将落在当前一个单词的最后一个字符 在这里，连续的「数字+字母」、「特殊字符」视为一个单词。示例： ↓ 光标在这里 Hello, world! ↑ 按下 w ↑ 按下 e Hello, world! ↑ 按两下 w ↑ 按两下 e 类似的还有 W / E，区别在于这两个快捷键将「空格」作为单词的分隔符。示例： ↓ 光标在这里 Hello, world! ↑ 按下 W ↑ 按下 E Hello, world! ↑ 按两下 E ↑ 按两下 W 会移动到下一行 向左移动一个单词：b b 向左移动到前一个单词的首字符，相当于是 w 的逆操作。b 取 backwards 首字母，「单词」的定义同 w。 2b 向左移动两个单词，nb 向左移动 n 个单词。 B 向左移动一个单词，将「空格」作为单词的分隔符（同 W、E）。 单词移动类快捷键速记：web。 移动到前一个单词的末尾：ge ge 移动到前一个单词的末尾，gE 将空格作为单词的分隔符。 前往当前行第一 / 最后字符：0 / $ 0：前往第一个字符，可以理解成是第 0 列 $：前往最后一个字符 删除字符：x / X x：删除当前字符，等同于 X：删除前一个字符 删除单词：dw 「单词」的定义同 w，单词后面的任意多个空格将被删除。 类似的还有 dW，删除下一个空格前的单词。 删除当前行：dd 略。 在当前位置后面插入：a i 在当前位置前面插入（insert），a 在当前位置后面插入（append）。 在当前行开始 / 末尾插入：I / A 略。 在当前行下 / 上面插入新行：o / O 插入新的空白行。 撤销 / 重做：u / + r u：撤销（undo） + r：重做（redo） 中场休息：vim 的一些模式 重复 n 次操作：n Vim 中几乎所有操作都可以通过一个 n 前缀来重复 n 次： 多次方向移动：nh / nj / nk / nl。5h 向左移动 5 个字符，5j 向下移动 5 行。 向左移动多个单词：nb。2b 向左移动两个单词。 前往第 n 行：nG。1G 可以前往第一行，就是这个原理。如果希望在 vim 中显示行号，可以在标准模式下执行 set number 命令，也可以将这条命令写到 vim 的配置文件中。 删除多个字符：nx。2x 删除两个字符，2X 向左删除两个字符。 移动多个单词：nw / ne。2w / 2e 向右移动两个单词，等同于按两次 w / e，示例： ↓ 光标在这里 Hello, world! ↑ 按下 2w ↑ 按下 2e 删除多个单词：dnw / ndw。d2w / 2dw 删除光标后的两个单词。类似的还有 dnW，删除后面第 n 个空格之前的单词。 删除多个行：dnd / ndd。d2d / 2dd 都可以删除光标开始的两行。 多次撤销：nu。2u 撤销前两步操作，等同于按两次 u。 多次重做 / n + r。2 + r 重做被撤销的两步操作，等同于按两次 + r。 删除一个范围的内容：d d 可以和任意光标移动的操作符结合，来删除一个范围的内容。 这里，我们先明确一下「范围」的定义： 对于单词级别的移动，这个范围将是光标前后所处的位置对应的左闭右开的区间（$ 是个例外） 对于行级别的移动，这个范围将是光标前后所处的位置之间的所有行，包含光标所在的两个行 而且，d 可以向任意方向进行删除，都符合上述约定。 可以打开 vimtutor 尝试一下这些命令，就可以理解上述“范围”的含义： dw：删除下一个单词，不会删除 w 跳转到的那个字符 db：删除前一个单词，不会删除光标一开始指向的那个字符 d0：删除当前位置到行开头的所有内容，不会删除光标一开始指向的那个字符 dG：删除当前行到文件末尾的所有内容，包含当前行在内也会被删除 dgg：删除当前行到文件开头的所有内容，包含当前行在内也会被删除，d1G 可以达到相同的效果 $ 是一个例外，d$ 会删除当前位置到行末尾的所有内容，包含行末尾在内的字符也都会被删除。 这些命令不用可以去记，只需要记住上面「范围」的规则即可。比如 3G 会跳到第 3 行，那么 d3G 将删除当前行到第 3 行的所有内容，包括第 3 行；j 下移一行，那么 dj 将删除当前行和下一行，d2j 将删除当前行开始的 3 行内容；dh、dl 分别等价于 x、X…… 理解之后，你就可以做到举一反三了。 最后再补充一下：d 和数字 n 可以组合在一起使用。d 表示删除元素，n 表示后面的命令重复 n 次。这两个命令以不同顺序组合也能达到相同的效果，比如 d2w 和 2dw 都是删除后两个单词。但我个人认为，这两个命令在语义上有区别：d2w 表示删除 2w 范围的内容，而 2dw 表示 dw 命令重复 2 次。 在 vim 术语中，将 d 后面的操作称为 [number] 与 motion，其中 number 是可选的。 比如 d2w 中，2 就是 number，w 是 motion。 本文为了便于理解，统称其为 range。 快捷键的小写和大写 部分快捷键见「进阶」一节 不同的方向： x 向右、X 向左 p 向下、P 向上 o 向下、O 向上 f 向右、F 向左 更严格的条件： w 将特殊字符作为独立单词，W 只将空格作为单词分隔符 e / E、b / B 同理 更大的范围： a 在当前位置后面插入、A 在当前行末尾插入 i 在当前位置前插入、I 在当前行开始插入 d 删除一个范围、D 删除到行末尾 c 删除一个范围、C 删除到行末尾，并进入编辑模式 s 删除当前字符，并进入编辑模式；S 删除当前整行，并进入编辑模式 连续操作： r 替换一个字符、R 连续替换多个字符直到按下 跨越多行选择内容：v 进入可视模式 按下 v 进入可视模式（visual mode），然后移动光标以选择文本： 按下 y 可以复制选中的文本 按下 d 可以删除选中的文本，按下 p 放置（粘贴）这些文本，这就实现了剪切功能 进阶 替换一个字符：r r：再按下任意键，替换（replace）当前字符，等同于 x + i。示例： ↓ 光标在这里 Helle, world! # 先按 r，再按 o Hello, world! ↑ 光标在这里 替换连续多个字符：R R：替换连续的多个字符，按下 可以退出替换模式。 更改一个范围的内容：c c 取 change 的首字母，这个命令的便捷之处在于将「删除操作」和「进入编辑模式」合二为一，可以少按一个键。 cw：更改下一个单词，等同于 dw + i c2w：更改后两个单词，等同于 d2w + i c$：更改从当前位置到行结束的所有内容，等同于 d$ + i 和 d 一样，c 也可以和任意光标移动的操作符结合，来更改一个范围的内容。 复制当前行：yy yy 复制当前行，p 粘贴到目标位置。 nyy 复制当前行向下的多行。 粘贴到下一行 / 上一行：p / P 如上所述，p 粘贴到目标位置。 通过 dd 删除某一行后，也可以按下 p，将删除掉的内容放置到当前光标位置下一行。注意这里是「放置」而不是「粘贴」，因为 dd 将被删除的行保存到了缓冲区，而 p 其实是将缓冲区的内容放置到当前位置，所以 p 取 put 的首字母，而非 paste。 同理，yy 将当前行保存到缓冲区，但不删除。这样 yy + p 就可以实现“复制-粘贴”的操作。 大写 P 粘贴到上一行。 移动到下一个指定字符：f ft 移动到下一个 t 出现的位置，f2 移动到下一个 2 出现的位置。f 取 forward 的首字母。 F 类似于 f，向前移动到前一个指定字符。 t 类似于 f，只不过光标会移动到下一个指定字符之前；T 类似于 F，只不过光标会移动到前一个指定字符之后。t 取 until 的含义。 示例： ↓ 光标在这里 Hello, world! ↑ fo ↑ fr ↑ Fh ↑ to ↑ Th 删除当前字符，并进入编辑模式：s s 等同于 x + i。 删除当前整行，并进入编辑模式：S S 等同于 dd + o。 从当前位置向右删除整行：D D 等同于 d$。 向右删除行, 进入编辑模式：C C 等同于 c$，或者 d$ + a，或者 D + a。 复制下一个单词：yw y 取 yank（复制）的首字母。yw 复制下一个单词，p 可以将其粘贴（put）到指定位置。 事实上，y 和 c、d 一样，可以和任意光标移动的操作符结合，来复制一个范围的内容。比如 y$ 将复制当前位置到行末尾的全部内容，yh 将复制光标前面的字符，yG 复制光标所在行到最后一行的所有内容。 最后，yy 复制当前行，可以和 dd 一起理解 —— dd 删除一整行，快捷键重复表示操作的是一整行，不管光标位置在哪里。第二个 y 和 d 并没有语义上的含义。 当前行置顶：zt zt 把当前行置于屏幕顶端。z 字取其象形意义，模拟一张纸的折叠变形。t 取 top 的首字母。 zz 将当前行置于屏幕中央。zb 将当前行置于屏幕底端，b 取 bottom 的首字母。 高级 查找文档中的关键字：/ / 从光标所在位置向后查找关键字，n / N 查找下一个 / 上一个匹配的位置。 ? 向前查找，不过很少使用。如果想向前查找的话，使用 / + N 就可以了。 q/、q? 可以列出 /、? 的查找历史，上下选择，按 i 编辑，回车执行，:q退出。 可以是正则表达式，比如 /vim$ 查找位于行尾的 vim。查找特殊字符时需要转义，比如 /vim\\$ 查找 vim$。 在查找模式中加入 \\c 表示大小写不敏感查找，\\C 表示大小写敏感，比如 /foo\\c 会查找 foo、Foo 等。默认是大小写敏感，可以执行 :set ignorecase 或写入配置文件设置大小写不敏感为默认的查找模式。 查找相关命令： set ic // 等价于 set ignorecase set hls is // 高亮匹配项 nohlsearch // 移除匹配项的高亮显示 查找当前光标对应的完整单词：* 示例： ↓ 光标在这里 Hello, world! 此时按下*，将查找 Hello 这个单词，并且要求 Hello 出现位置的前后均为空白字符或标点符号，即查找完整独立的单词。 在代码块匹配的括号之间跳转：% % 在匹配的括号之间跳转。需要将光标放在 {}[]() 上，然后按 %。 如果光标所在的位置不是 {}[]()，那么会向右查找第一个 {}[]()。 跳转前 / 后一个位置： + o / i 在标准模式下， + o 将光标跳转到前一个位置， + i 跳转到后一个位置。 注意这里使用的是“跳转”。h / j/ k / l / w 等移动将不会记录在「跳转表」中，只有通过 gg / nG / 查找时的 n / N 等命令执行的跳转操作，才可以通过 + o / + i 来回跳转。 补充： 在 VS Code 中，向前一个 / 后一个位置跳转的快捷键是 + [ / + ]。 在 Intellij 等 Jetbrains 系列软件中，向前一个 / 后一个位置跳转的快捷键是 + [ / + ]。如果不是，可以在 Preferences 中搜索 back，然后在 KeyMap -> Main menu -> Navigate -> Back 中设置。 替换:{range}s/{old}/{new}/{flag} :s（substitute）命令用来查找和替换文本。语法如下： :{range}s/{old}/{new}/{flag} 表示在指定范围 range 内查找字符串 old 并替换为 bar，flag 说明了替换模式，如只替换首次出现、或全部替换。 作用范围 range 作用范围分为当前行、全文、行范围、选区等： 当前行：空白，默认，如 :s/foo/bar/g 全文：%，如 :%s/foo/bar/g n~m 行：n,m，如 :5,12s/foo/bar/g 表示 5~12 行 当前行与之后 n 行：.,+n，如 :.,+2s/foo/bar/g 表示当前行与之后 2 行 选区：略 替换模式 flag 替换模式： 空白：默认，只替换光标位置之后的首次出现，如 :%s/foo/bar g：全局替换，替换每次出现（global），如 :%s/foo/bar/g i：忽略大小写 c：交互式替换，每次替换前需要用户确认（confirm），如 :%s/foo/bar/gc 表示查找全文的所有 foo 并替换为 bar，每次替换前都需要确认： 按下回车执行后，提示 replace with bar (y/n/a/q/l/^E/^Y)? y 表示替换 n 表示不替换 a 表示替换后续所有 q 表示退出查找模式 l 表示替换当前位置并退出查找模式 ^E、^Y 用于向上、向下滚动屏幕，^ 表示 键 在 vim 中执行 shell 命令：:! 比如通过 vim 编辑文本的时候，希望打印当前目录，但是又不想退出 vim，那么就可以直接在 vim 中执行：:!pwd，这等同于在 shell 中执行 pwd。 获得命令提示：: + + d 在 vim 中输入 :，再按下 + d，将展示所有可以在 vim 中使用的命令。 输入 :w，再按下 + d，将展示所有可以在 vim 中使用的、以 w 开头的命令。 配置文件 配置文件位于 ~/.vimrc，其内容是若干行可在 vim 中执行的命令，会在每次打开 vim 时自动执行。示例： set number # 显示行号 set ignorecase # 大小写不敏感查找 set ic // 等价于 set ignorecase set smartcase # 如果有一个大写字母，则切换到大小写敏感查找 set hls is // 高亮匹配项 nohlsearch // 移除匹配项的高亮显示 Github 有很多开箱即用的 vimrc 文件，比如 amix/vimrc。 配置插件 Vim 插件推荐 其他工具 Vim 化 Chrome：Vimium，通过类似 vim 风格的快捷键操作浏览器窗口 VS Code：Vim 插件，将 VS Code 的编辑器转为 vim 模式 总结 掌握「入门」一节中的快捷键，基本可以满足大部分使用场景。如果想进一步提升效率，那么「进阶」一节中的快捷键也值得学习。「高级」一节的内容，由于我还没有将 vim 作为主力开发工具，尚未深入研究，所以等以后有机会再补充。 可以在其他编辑器中配合 vim 插件，来培养 vim 的使用习惯。将 Chrome vim 化，也能体验到 vim 带来的酷炫与极客感。 最后，在实践中学习命令！如果只是阅读而不尝试，那么很快就会遗忘。 希望本文对你有帮助。 附录 1：速查表 仅作为正文的补充，记录一些可能有用的快捷键。 光标移动 快捷键 作用 ^ 移动到当前行第一个非空字符 向右移动一个字符，等同于 l + ←, + → 向左 / 向右移动一个单词，等同于 w / b :n 跳到指定行，等同于 nG ngg 跳到指定行，等同于 nG H 光标移动到屏幕最上方（head） M 光标移动到屏幕中央（middle） L 光标移动到屏幕最下方（last） 屏幕滚动 快捷键 作用 向上 / 向下滚动一行 + y / + e 向上 / 向下滚动一页 + f / + b（forward，backward） 向上 / 向下滚动半页 + d / + u 这些命令在大部分 Unix 软件中都可以使用，比如 man、less、tmux（需要先进入滚动模式） 编辑 快捷键 作用 ddp 上下两行交换，实际上就是 dd + p J 将当前行和下一行用空格连成一行 Jx 将当前行和下一行直接连成一行，相当于在下一行的行首按 其他 快捷键 作用 :help 查看帮助文档 :help :{command} 查看一个具体命令的帮助文档，如 :help :q 查看 :q 的帮助文档 ^y$ 复制一行 ggyG 复制整个文件 q: 查看历史命令，上下选择，按 i 编辑，回车执行，:q退出 附录 2：vim 命令 可以在 vim 标准模式下输入 : 执行，也可以写入配置文件。 set number # 显示行号 set ignorecase # 大小写不敏感查找 set smartcase # 如果有一个大写字母，则切换到大小写敏感查找 imap ii # 在插入模式下，映射 ii 到 # 在标准模式下，禁用方向键 map map map map set paste # 进入粘贴模式，这可以避免粘贴多行代码时被自动缩进 set nopaste # 粘贴完之后，执行这条命令退出粘贴模式 📒 相关文章：💻【Linux】GDB 学习笔记 "},"3cs/5vscode.html":{"url":"3cs/5vscode.html","title":"5vscode","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 使用技巧 设置终端的回滚行数 快捷键面板 Ctrl k + Ctrl s 注释单行ctrl /，分块ctrl shift / github项目页切换vscode网页版. 超出列数自动折叠行Word Wrap 代码块折叠 批量删除注释 目录 [TOC] 使用技巧 设置终端的回滚行数 ctrl ,进入设置——搜索scrollback。 (Terminal › Integrated: Persistent Session Scrollback) (Terminal › Integrated: Scrollback) 快捷键面板 Ctrl k + Ctrl s 注释单行ctrl /，分块ctrl shift / github项目页切换vscode网页版. 超出列数自动折叠行Word Wrap ctrl , 进入设置——搜索Word Wrap打开bounded——设置折叠长度 Word Wrap Column 代码块折叠 ctrl k ctrl s打开键盘快捷方式搜索fold——右键显示相同的键绑定，右键删除——搜索返回——设置全部折叠ctrl 0，全部展开ctrl 9，折叠级别 nctrl n 批量删除注释 Ctrl H打开查找替换，点击 .* 按钮使用正则表达式，输入 \\/\\*[\\s\\S]*\\*\\/|\\/\\/.* 全部替换 # "},"9me/0read.html":{"url":"9me/0read.html","title":"0read","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 文章 新年祝愿：多犯错，别无聊，做些事 人是怎么废掉的？ 内卷的根源及答案 内卷 主动创造才是学习，被动消费只是娱乐 生活就是个缓慢受锤的过程 个人主义的体现 国际歌 南风窗 一本正经地玩游戏，以对抗乏味 与结构性的弱者站在一起 不要伟大，要快乐。赞美即奴役 痛苦无可避免，但磨难可以选择 强者的特权就是无需对弱者展开想象 忍耐不是美德，愤怒才是 人生就是在痛苦和无聊之间摇摆 你现在不会马上去做的事，以后也不会做 女性拒绝胯下生出歧视女性的性别 孩子嫌少毕业嫌多35打工嫌老65退休嫌早 潘德明:七年环球徒步骑行1930 竞争说明同质化，原创才能避免竞争 批判政治正确伪善者追求真善吗？ 女性的不幸在于不被要求努力奋斗 伟大的头脑讨论见解信念 数字游民 骂脏话应该区分欺凌和反抗 邮件的好处 真理无法仅用数学和逻辑学证明 不同的城市有不同的气质和吸引力 见过世面四个维度:上/下/内/左右 绝望之为虚妄，正与希望相同 任何人都可能在某一时刻成为异类 未来很多人是结构性的多余 大女主影视实则在复刻男权逻辑 女性主义力量在于看向社会边缘人 在任何时候人都是有选择的 人类所有问题都源于无法独自静坐 欲买桂花同载酒，终不似，少年游 学习总是一些痛苦加一些意外之喜 挑战应该是挑战你必须做的事情 人们从沉默中学习，而非话语 爱上北上广深 消费多买体验，而非实物 牌坊与意义----谈消费主义 神学家Niebuhr的宁静祈祷文 Yak Shaving剪牛毛式即兴学习 疫情打破了生活会一直变好的预期 读书等爱好会减轻焦虑丰富一生 个人命运靠自我奋斗和历史进程 为什么越长大越觉得世界无聊? 成年人如何拯救衰减的好奇心 人生的意义在哪里？ 临终摄影: 谈论现实, 准备死亡 时间管理的七句话 罗素谈我为何而活 人生只有900个月 做成事的经历与能力比学历重要 挑选礼物的建议 豆瓣极简抠门小组 Linus 自传《Just For Fun》 詹宏志谈教育、阅读和创业 胡适的三个主义 77天徒步穿越羌塘无人区 不正义的法律，不服从的公民 长文 别玩有限游戏，创造无限游戏 仇凤仙：民工暮年 正面连接｜如此打工30年 官媒在抗战时期谈民主自由 慕容雪村演讲: 我们只向真理低头 投身历史的荒流，实现个人的价值 基于历史的几个国际政治基本判断 目录 [TOC] 文章 新年祝愿：多犯错，别无聊，做些事 （放学以后播客） 另一个祝愿则和“错误”有关，我在第38期播客《真有我的！勇敢地认识自己，真诚地喜欢自己》中提到:没有犯错的人生恰恰才是最错误的人生。 在这个下行崩塌的时代，求稳求不变求不出错成为了最主流选择，最正确的追逐，最安全的港湾。但是个体生命就在这种群体性求稳和自我压抑中枯萎。 李安在今年的金马奖和吴慷仁说:宁愿犯错，不要boring. 犯错的权利，恰恰是生命的可能性所在。而它不应该成为有钱有权人的特权，不应该是那些有人兜底的幸运儿的专属。穷人更应该去游荡走四方，因为在当地并不拥有既得资源和利益。一无所有身无所长的人，更应该拥有并使用犯错的权利，因为这才是两手空空的我们，打破僵局挣脱枷锁的利器。 因此想把作家尼尔.盖曼在2011年的新年祝福翻译出来，送给即将迎接2024的我们: 希望在新的一年里，你可以多多犯错。 因为当你犯错时，意味着你正在创造崭新的事物，尝试崭新的可能，你在汲取，跃动，让自己前行，也让自己改变，甚至也把自己所生活的世界撬动。你在尝试一些此前从未做过的事情，更重要的是，你在做一些事情。 所以这是我对你的新年祝福，也是对我们所有人的祝福:犯一些崭新的错误，犯一些灼目耀眼的错误，一些令人瞠目结舌的错误，一些别人还未曾犯过的错误。不要望而却步，不要就此打住，不要担心它不够好，不够完美无缺，无论这错误是什么:艺术，爱，工作，家庭还是生活。 无论它是你恐惧的任何事，迎头直上。 祝福你在新的一年，勇于犯错，接下来每一年也是如此。 英文原文如下: I hope that in this year to come, you make mistakes. Because if you are making mistakes, then you are making new things, trying new things, learning, living, pushing yourself, changing yourself, changing your world. You're doing things you've never done before, and more importantly, you're Doing Something. So that's my wish for you, and all of us, and my wish for myself. Make New Mistakes. Make glorious, amazing mistakes. Make mistakes nobody's ever made before. Don't freeze, don't stop, don't worry that it isn't good enough, or it isn't perfect, whatever it is: art, or love, or work or family or life. Whatever it is you're scared of doing, Do it. Make your mistakes, next year and forever. 我在这世界的辽阔远方为你祝愿，更为自己祝愿。祝我们的新年都有所创造，无所畏惧。 人是怎么废掉的？ https://www.zhihu.com/question/43607087/answer/321913371 发现短期的努力无法带来超额的回报，就因此放弃了努力。这点在聪明人身上尤其明显。进入到成人的世界之后，事物的复杂度上升了不止一个层次，所有回报的获得周期变得越来越长，需要投入的努力和坚持也越来越大，而之前自己所仰仗的聪明，对结果的影响也越来越小。 沉溺于「轻易获得高成就感」的事情：有意无意地寻求用很小付出获得很大「回报」的偏方，哪怕回报是虚拟的。这种行为会提升自己的「兴奋阈值」，让人越来越不容易拥有成就感，从而越来越依赖虚拟的成就感，陷入恶性循环。症状轻的：沉溺游戏（在虚拟世界中加快时间流逝的速度，使得「成功」来得更快）、种马小说（意淫人能轻易获得想要的东西）；症状重甚至犯法的：赌博（轻易获得「金钱」）、吸毒（轻易获得「爽」的感觉）等。 只接收「低信息密度」的信息源：只愿意接收信息密度低的信息（如无需太多动脑的视频、图片，以及深度较浅的娱乐、八卦、体育新闻等），不愿意接收信息密度高、需要思考后才能吸收的信息（如课程、知识框架、分析报告等）。由于真正有价值、能让人进步的信息大多是需要思考和消化的，所以如果完全隔离了这部分内容，基本也就隔离了进步的可能。 习惯用「错位成就感」麻痹自己：有两类：① 习惯于拿自己擅长的东西和别人不擅长的东西比较，从来获得「比别人强」的错觉（如：和运动员比学习成绩，和学霸比体育）；② 习惯于拿别人做事情 A 的时间来做事情 B，来假装自己在事情 B 上做得好（如：「炫耀」自己在节假日做了比别人更多的工作，但也仅仅是在节假日才能如此）。 过度依赖「既有可行路径」：在工作中，习惯了一件事情的流程后再也没想过如何改进，只会机械地重复，然后骗自己很充实。没有改进，便也没有剔除糟粕的意识，于是需要重复的东西越来越多，消耗时间也越来越长，到最后，看上去每天做了很多事情，但其实不仅一点进步都没有，还挤占了进步的空间。 封闭「强化学习」的通道：在学习或接受信息中，只愿意执行最简单的第一步，却不愿意执行接下来更为复杂的巩固和应用流程，只听不说、只看不写、只学不练，还麻痹自己说学到了很多东西，而实际上，这种「浅层」的学习遗忘极快，有时还不如不学。比如，天天学英语，却从不写英语文章；再比如，天天花大量时间刷知乎，却从不写答案、写总结。 内卷的根源及答案 https://zhuanlan.zhihu.com/p/378379161 1.资源的稀缺性是内卷的经济根源。资源越稀缺的领域，内卷就会越严重。 注：“但是从理论角度而言，\"内卷是因为狼多肉少\"是一种普遍的错误认知。从历史角度而言，人均资源和内卷程度的相关性并不明显。中国的\"内卷\"是什么时候出现的？不正是在人均经济资源大量增长后才开始的么？2000年之后才逐渐开始出现\"内卷\"的。所以首先这是一个\"不公平\"所导致的问题。其次，那些只分配到少数资源的大多数人，没有去思考如何改变这个体系，而是想着如何去成为获取多数资源的少数人。” https://today.line.me/tw/v2/article/ZaeQ1kL 2.对资源分配的绝对性控制是内卷的体制性根源。绝大部分内卷是资源控制者通过制定相应的游戏规则而产生和加剧的。资源控制者通过利出于一孔，人为制造内卷，强化控制。 3.丧失多元性是内卷的社会性根源。对人的评价，个人价值的实现标准，被认可的生活方式这些本应该多元化的领域被塑造成单一的，有成败区别，高低差别的身份标签，导致千军万马只过独木桥。 注：独生子女普遍化；99年开始不断高考扩招，21年开始研究生扩招 4.缺乏破圈的能力是内卷的内在根源。个人能力单一，只适应一个领域或者环境；长期从事技术性、事务性等消耗性工作；个体差异化竞争优势越来越小，都会导致个体实力无法对抗资源控制者强加的规则，并且没有勇气离开资源控制者，就只能选择顺从并越来越依附资源控制者。 5.无法形成群体合力是内卷的人性根源。“面试造火箭，入职拧螺丝”。中国没有结社自由。工人无法组建劳方自己的工会，只可以以个人身份与企业整个资方讨价还价，而不可以组织起来形成“劳方”与资方讨价，弱势显而易见。如此弱势的员工，除了走人，就只有降低要求了。不断的降低要求，内卷就出现了。遇事追求个人利益最大化，不去想怎么团结起来打破资源控制者的垄断，而是选择比同伴更加顺从，以求占有同伴那部分资源和利益，最后彻底变为附庸。 综上，要消除内卷就要：1.做大蛋糕；2.打破分配垄断；3.重塑多元化社会；4.塑造说走就走的个人破圈能力；5.团结起来以行动说“不”。（背后需要整个社会的革命） 内卷 人类学家项飙新采访——專訪：高考制度並非中國「內卷」的根源 放弃式躺平和退出式躺平 \"内卷\"的对立面不是\"躺平\"，至少不应该是放弃式的\"躺平\"，因为努力还是必要的。放弃式\"躺平\"就是什么都不干，这个其实很难，只有那些在一线城市拥有多套房产收租的人方才能做到。而另一种\"躺平\"是退出式的，我称之为积极\"躺平\"，也就是说不参与这个\"内卷\"游戏，不削尖脑袋去争当\"人上人\"。虽然不放弃努力，但却有着别的思考，在解决生计的基础上寻找有尊严的生活方式，做那些自己觉得很有意思、别人也觉得很有意思的事情。所谓\"退出\"，就是要找到自己真正愿意做的事，想清楚以后扎实地去做。也许这会让人生活得相对清贫，但不会有意义方面的空虚感和焦虑感。 总而言之，中国需要从物质生产转变为以人为本的生产，这里包括关怀、娱乐、艺术、教育、休闲等多方面，有关\"意义\"的问题也会越来越重要。 原文——人类学家项飙谈内卷：一种不允许失败和退出的竞争（网页存档） 摘自 编程随想博客 2020年，可能没有第二个人类学术语比“内卷”更加出圈了，它本来是人类学家解释为什么一个社会或组织既无突变式发展，也无渐进式的增长，只是在一个简单层次上自我重复的概念发明。现在则意味着“白热化的竞争”，人们在日常生活的方方面面拼尽全力，以使自己在社会上获取少量竞争优势，挤占他人的生存空间，同时造成精神内耗和浪费。人们可以在当代生活的方方面面识别出内卷，可以说是从幼儿园一路“卷”到职场、连婚恋也可以“卷到天上去”。 　　今天的内卷是一个陀螺式的死循环 农耕时代——Mark Elvins“高水平陷阱”是说，中国在很早就在农业技术、行政管理，还有社会组织、人力动员方面达到了很高的水平，但它达到高水平之后一直就没有突破。农业的生活和生产方式就没有变化。Mark Elvins 的解释是指在17世纪以后，中国基本上开垦了所有能开垦的土地，土地没有增长，但是人口一直在增长。人口的增长靠什么来维持？主要就是靠精耕细作，靠这种非常内卷的方式。 当今时代——今天我们看到的，是一个死循环的陷阱。（…….原文论据不清晰） 如果说原来内卷指的是一个重复的，没有竞争的，不能摆脱农耕社会这么一个结构性格局；那么今天的内卷是一个陀螺式的死循环。我们要不断抽打自己，让自己就这么空转，每天不断地自己动员自己。所以它是一个高度动态的陷阱，非常耗能。在小农社会里面，它体力上很累，但是不会有今天这种在精神上的这种折磨。 　　内卷背后：高度一体化的竞争 在职场，我们说内卷是对现在资本主义的批判。但是英国和德国等并没有出现这种“内卷”现象，所以它是有一点中国特色的文化现象（东亚儒家文化圈）。内卷背后，可能指的是：高度一体化的市场竞争成为生活导向，成为社会的基本组织方式和生活和资源分配方式。 　　首先当然是市场竞争。但是很多竞争其实不是市场性的，比方说你教育在严格意义上并不是市场性的。（教育的目的应该是育人和培养独立思考能力）但是它会模拟市场竞争，比如高考就搞成像市场竞争一样，让大家来拼命地竞争。 　　然后“高度一体化”非常重要。我们今天讲的内卷的一个很重要的前提条件是不分化，大家认准一个目标，为同一个唯一的目标活着。工作憋屈了去开个面馆不行吗？不行。 “三和日结工”直接退出竞争了，这个怎么行？在中国，大家面临的压力不仅是说你要往上走，而且不允许你往下走。研究生去麦当劳应聘？你有没有考虑你父母怎么想？直接是牵涉到情感问题和道德问题，好像是一种背叛。就是说你要把自己的社会阶层往下走，在道德意义上是背叛，到了这个程度。 全国人民朝着一个目标去，要多赚钱，要买一百多平的房子，要买车，一定要成家等等。这个线规划好了，大家高度一体化，都要在这样一个市场里面争夺同一样东西。 事实上，这种由十几亿人形成的同质化的社会意识，本质上是少数精英的意识，使得剩下的90%的人认为自己不值得以现在的生活方式生活。这导致了大多数人对自己现在的生活从根本上不满意。我称之为“悬浮”状态，即对自我的否定。这是目前中国人焦虑的主要原因。我们都尽力过“别人的生活”。大家都知道贫富差距太大，而且还会越来越大，但是却没有去深刻思考背后的社会制度问题，而是奋力竞争，希望比别人先“上岸”。 我们的竞争不允许失败和退出 看一些比较成熟的社会，大家安生了并不是因为说大家觉得没有希望了，而是说把你的希望你的努力重新分配。你看到自己的特长，看到自己的兴趣，然后有很多不同的渠道，活得好的方式也是很不一样的。他并不是说努力没有用了，而是说大家各自去找渠道，这样的情况下会有安生。 我们最大的问题是末班车过了，但是我们又不愿意开出新的赛道来。所谓内卷性不仅仅是说竞争激烈不激烈的问题，而是说盲目竞争，明明知道最后的收获也没有什么，大家还是要竞争。 现在内卷的一个很重要的特征，就是没有退出的机制，不允许你退出。不知道除了竞争之外，还有别的什么方式值得去生活。整个社会的稳定，整个社会的所谓发达都是靠这种白热化的竞争维系起来的。 主动创造才是学习，被动消费只是娱乐 当我对某项内容的参与是主动且努力的时，那么它就是学习，当它是被动的时候，它就是娱乐。 当我创造自己的内容时我在学习。当我消费他人的成果时，我只是放松。 生活就是个缓慢受锤的过程 那一天我二十一岁，在我一生的黄金时代，我有好多奢望。我想爱，想吃，还想在一瞬间变成天上半明半暗的云，后来我才知道，生活就是个缓慢受锤的过程，人一天天老下去，奢望也一天天消逝，最后变得像挨了锤的牛一样。可是我过二十一岁生日时没有预见到这一点。我觉得自己会永远生猛下去，什么也锤不了我。 ——王小波，黄金时代 个人主义的体现 慕课：新教伦理与资本主义精神 在美国，宗教上的个人主义体现在信仰自由之中; 经济上的个人主义体现在自由经济体制之中， 文化上的个人主义体现在人本主义思想之中; 政治上的个人主义体现在民主理念之中; 思想上的个人主义体现在独立思考和独立判断之中; 社会生活上的个人主义体现在尊重个人隐私和维护公共秩序之中; 家庭生活上的个人主义体现在相互尊重、相互理解和相互平等之中。 国际歌 完整版《国际歌》歌词 起来，饥寒交迫的奴隶， 起来，全世界受苦的人！ 满腔的热血已经沸腾， 要为真理而斗争！ 旧世界打个落花流水， 奴隶们起来起来！ 不要说我们一无所有， 我们要做天下的主人！ 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现。 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现！ 从来就没有什么救世主， 也不靠神仙皇帝。 要创造人类的幸福， 全靠我们自己！ 我们要夺回劳动果实， 让思想冲破牢笼。 快把那炉火烧得通红， 趁热打铁才能成功！ 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现。 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现！ 是谁创造了人类世界？ 是我们劳动群众。 一切归劳动者所有， 哪能容得寄生虫！ 最可恨那些毒蛇猛兽， 吃尽了我们的血肉。 一旦把他们消灭干净， 鲜红的太阳照遍全球！ 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现。 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现！ 压迫的国家，空洞的法律， 苛捐杂税榨穷苦； 豪富们没有任何义务， 穷人的权利是句空话； 受监视的“平等’呻吟已久， 平等需要新的法律，它说： “平等，没有无义务的权利， 也没有无权利的义务！ 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现。 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现！ 矿井和铁路的帝王， 在神坛上奇丑无比。 除了搜刮别人的劳动， 他们还做了些什么？ 在这帮人的保险柜里， 放的是劳动者的成果。 从剥削者的手里， 劳动者只是讨回血债。 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现。 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现！ 国王用谎言来骗我们， 我们要联合向暴君开战。 让战士们在军队里罢工， 停止镇压离开暴力机器， 如果他们坚持护卫暴君， 让我们英勇牺牲， 他们将会知道我们的子弹， 会射向自己国家的将军。 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现。 这是最后的斗争，团结起来到明天， 英特纳雄耐尔就一定要实现 ！ 南风窗 咳嗽、贫穷和爱无法隐瞒, 恰如真理、正义和趣味不能逃避。那些比日常更具象、比时空更谣远的，其实比我们的生活更碎片、离我们更近当真相来临,我们绝不放弃, 漫长的对视，看见你的心跳，轻风乍起骤雨来袭。——何子维，南风窗记者 一本正经地玩游戏，以对抗乏味 《南风窗》2018年第25期 对抗乏味 在一些小资的咖啡馆，或者民宿，可以看到20世纪八九十年代的黑白电视机。 曾经，那是比“Windows”更重要的文化窗口它让人们在劳作之余，不乏味。而现在，它已经以古董的姿态出现，用来纪念过去的精彩。它从一个曾被无数惊奇和渴望的目光注视的窗口，变成了一个呆滞的盒子。 我们并不像古人那样认为什么都是过去的好。只是想到了今天，电视机已经从一个立方体变成了一块平板，更大视野，更清晰，更多的技巧和特效渲染，然而，却更乏味。 通电的机会越来越少，那只是一块黑板，而且还没有年代感唱歌选秀，从2004年至今，黔驴技穷:电视相亲，一档节目一做八九年，味同嚼蜡;抗战剧集，从悲剧变成喜剧再变成神话，啼笑皆非。 何止是电视。这个世界上还有多少让人兴致盎然的东西呢? 色声香味触法，挑逗眼耳皇舌身意，但每一次夸张的出场之后，都发现不过尔尔生存不成问题，生存的价值成了问题。肚子没问题，心灵就出问题。 所以我们需要层出不穷、花样翻新的刺激。而刺激，就像讲笑话，一闪即逝，笑不了第二遍。糟糕的是，一次一次的一闪即逝，却把我们的心灵磨出了更厚的老茧，更难被刺激，更难被满足。就像一个人，穿着无缝的铁甲，挠不了痒，皮肤却一直在过敏,奇痒难忍。 以上文字描述的不是某个具体的人，而是当下社会，一个叫作“后物欲时代”的社会。它在精神上和金钱走上了同一个轨道，就是为获取而获取，为刺激而刺激。 当我们在放眼可见的世界里实在无法继续找到值得放大和共享的新鲜事物的时候，就只能往地底下刨。刨出来一些少见多怪的东西，就要对它进行包装告诉人们.这就是现在最有价值的存在。 创地者叫作资本，包装者叫商业机制。然后很多原本就在那,没有多少人去嗅去闻去触摸甚至未曾感知的事物，突然就在一口大锅里沸腾起来，添加了很多佐料之后.芳香四溢。 这个味道并不是原味。然而有什么关系呢,有了新的味道才真正重要。当一个人穿着铁甲奇痒难耐时,任何一个缺口,都会诱使他把手伸进去。2017年和2018年，几个缺口打开了,说唱、街舞、电竞...... 物质越丰富，会让人们越逃避严肃，对宏观治理、终极问题愈益缺乏关怀。而逃避严肃，又会让意义感愈益无处安放。 这个时候我们怎么办? 只有一个办法:把游戏转变为严肃，一本正经地玩游戏，以对抗乏味。 与结构性的弱者站在一起 与弱者站在一起。弱者是指结构性的弱者，而非精神上的弱者。 不要伟大，要快乐。赞美即奴役 痛苦无可避免，但磨难可以选择 强者的特权就是无需对弱者展开想象 忍耐不是美德，愤怒才是 人生就是在痛苦和无聊之间摇摆 人生就是在痛苦和无聊二者之间像钟摆一样摆来摆去：当你为生存而劳作时，你是痛苦的；当你的基本需求满足之后，你会感到无聊。 你现在不会马上去做的事，以后也不会做 女性拒绝胯下生出歧视女性的性别 （部分源自韩国女性权益倡导者之一郑淑妍的演讲） 我的胯下不能生出歧视我的性别，我的血肉不能变成刺向我的尖刀。 如果我胯下诞生的世界压迫我，那我就不让这个世界诞生。 奴隶能做的最大反抗就是不生奴隶” 孩子嫌少毕业嫌多35打工嫌老65退休嫌早 在这样一个人被极致工具化，被当作韭菜，牛马和人矿的国家，出生的孩子被认为太少了，毕业的大学生被认为太多了，35岁的打工人被认为太老了，65岁退休被认为太早了。 潘德明:七年环球徒步骑行1930 “以世界为我之大学校，以天然与人事为我之教科书，以耳闻目见直接的接触为我之读书方法，以风雪雨霜、炎荒烈日、晨星夜月为我之奖励金。德明坚决地一往无前，表现我中国国民性于世界，使知我中国是向前进的，以谋世界之容光，必欲达到目的而无退志。”这是潘德明写在自制的《名人留墨集》扉页上的“旅行世界自叙”。 1930年6月下旬，潘德明从《申报》上看到上海有人组织了一个“中国青年亚细亚步行团”，立志要徒步走遍亚洲的报道。这个步行团在宣言中慷慨激昂地疾呼：“在历史上背负了五千余年的文明和创造的中华民族，不幸到了近世，萎靡和颓废，成了青年们普遍的精神病态，我们觉得时代的精灵，已在向我们欢呼，我们毫不客气地把这个伟大的重担肩负起来，我们决定以坚毅不拔的勇敢精神，从上海出发，逐步实践我们的目的。在每一步伐中，我们要显示中华民族历史的光荣，在每一个步伐中，给社会以极深刻的印象，一直到我们预定的途程的最终点。” 潘德明随后赶去加入，但最后在清远时只剩下他一人继续前行。潘德明经越南、柬埔寨、泰国，过马来西亚、新加坡，再乘船渡过马六甲海峡，经印度、伊朗、伊拉克、叙利亚，渡过苏伊士运河踏上非洲大地。之后，从亚历山大港乘船渡过地中海至希腊，开始了欧洲之旅。后又跨英吉利海峡到英国，乘“欧罗巴”号邮轮到美国。在美国游历一年后，经加拿大、古巴、巴拿马、斐济、新西兰、澳大利亚、印度尼西亚、缅甸，回到祖国云南。潘德明用7年时间，行程数万里，游历40多个国家和地区，并留下许多珍贵资料。这些资料中，有所到之地加盖的邮戳，中外近1200个团体和个人用几十种文字书写的签名和题词，20多个国家元首签字的《名人留墨集》，总计3本，重约4公斤。 1937年7月6日，潘德明回到上海，7月7日，“卢沟桥事变”发生，潘德明将为勘察青藏高原而筹集来的10万美元考察费用全部捐献出来，支援抗战。 竞争说明同质化，原创才能避免竞争 如果你有原创性，就可以回避竞争。基本上，如果你与别人发生竞争，那是因为你们在做同样的事情。如果每个人做的事情都有所不同，就可以减少竞争，或者不存在竞争。所以，不要模仿他人。 -- Naval，美国著名风投家 批判政治正确伪善者追求真善吗？ 摘自北大戴锦华老师 （政治正确是一种概念，旨在避免语言、行为和观点中的歧视、偏见和排斥。它强调对少数群体的尊重和包容，并试图消除社会中的不平等现象。） 在欧美的日常生活当中，ＰＣ／政治正确的最大的问题是流于表面化的伪善，它变成了一套可操练可表演的元素，任何一个有教养的美国男女都可以演练的规则。因此在各种会议上，不会出现chairman，一定是chairperson。仅此而已。 问题是，这样的改变，的确改变了性别本质主义的认知吗？改变了社会不平等的事实吗？ 但是，我的确对于中国目前对政治正确的全面的清算持有极大的保留。 因为，当你窥破了政治正确的伪善的时候， 是否追求的是真善？还是指斥伪善, 把善也指斥为伪善？职责之后你给出的替代方案是什么？指斥伪善，那么善的位置在哪里？在某些论述中，似乎任何善行与善意都只能是伪善的表演。 于是, 好像今天的世界只有伪君子和真小人，那么君子不存在吗？ 女性的不幸在于不被要求努力奋斗 波伏娃 男人的极大幸运在于，不论在成年还是在小时候，必须踏上一条极为艰苦的道路；女人的不幸则在于被几乎不可抗拒的诱惑包围着；她不被要求奋发向上，只被鼓励滑下去到达极乐。当她发觉自己被海市蜃楼愚弄时，已经为时太晚，她的力量在失败的冒险中已被耗尽。 伟大的头脑讨论见解信念 伟大的头脑讨论见解信念，平庸的头脑讨论事件，狭隘的头脑讨论他人。 Great minds discuss ideas; Average minds discuss events; Small minds discuss people. 当我们谈论人或事件本身就是目的时，问题就来了。说别人坏话、八卦或被动地关注新闻不会给我们带来任何好处。没完没了地抱怨或闲聊人/事不会改变我们的生活或让我们变得更聪明。 但专注于变革性的想法会。当然，假设我们对它们采取行动。 数字游民 数字游民部落 定义 数字游民（Digital nomad）是一种被数字信息技术赋能的全新生活方式，它的受众特指那些完全依靠互联网创造收入，并借此打破工作与工作地点间的强关系，达成地理位置自由和时间自由，并尽享地理套利红利，全球移动生活的人群。 核心理念 数字游民生活方式设计中最为核心的两个组成元素: 地理位置自由和时间自由, 及其终极目标：Live a rich life。 数字游民的终极目标既不是单纯为了旅游, 也不是为了发财致富，而更大程度上代表了一种对于更高生活品质和自由度的追求。 核心1——地理自由 当数字游民达成了地理位置自由后，『地理套利』就变成了一个非常自然的优质选项。 很多人都听过『购买力』这个概念，它的本意是说同样一笔钱，在不同的地方能买到的东西多寡是不一样的。 地理套利的核心理念在于：单纯地追求绝对高收入是没有意义的，如何借助地理位置自由，让自己赚到的钱更值钱，花同样的钱得到更高水准的生活品质，才是最聪明的活法。 核心2——时间自由 数字游民生活方式设计的第二重要务是要达到时间自由，提高被动收入比例，停止用时间来换钱，让自己变成一个有『闲』的人。 为什么996这么遭人厌恶？因为它背后的隐含的逻辑是一个人需要用自己生命中最宝贵的，精力最旺盛的三十到四十年来换取足够的积蓄，让自己退休后可以去做自己年轻时候想做但是没有时间去做的事情。 我们不难发现，996 逻辑其实是有问题的，且不说一个人工作40年是否能保证攒足够的钱来做这些事情(事实表明，绝大多数人的退休金不足以满足这个条件)，如何能够保证自己退休后的身体和精神状态其实才是最大的问题。20岁时候想做的滑雪，冲浪，潜水，蹦极到60岁还有能量和胆量去尝试么？ 新工业革命使得终结资本对劳动的异化成为可能 马克思在《1844年经济学哲学手稿》中提出，资本让劳动产生了异化，前两次工业革命最大的后果之一就是劳动者逐渐失去了对工作时间和工作地点的掌控权。 然而我们惊喜地发现，以半导体和信息技术为代表的第三次工业革命和以大数据和人工智能为代表的第四次工业革命则在逐渐将工作地点和工作之间的强关系解绑， 并在一定程度上对劳动的异化产生了逆转效应。 人们开始意识到，在从逐水草而居的游牧民转变成开荒拓土的农民10000年后，他们再一次重新获得了旅居/定居的选择权。 而今天的数字游民恰恰就就是第一批通过生活方式设计获得这个特权的弄潮儿。 意义 成为一名数字游民，意味着你将彻底与浪费生命的通勤告别； 意味着你可以实现自己想走就走的终极旅行梦想，用更慢地脚步丈量整个地球； 意味着你可以轻松实现地理套利，让自己赚到的钱更值钱，逃离拥挤昂贵的一线城市，去那些风景优美，气候宜人，性价比更高的城市居住； 意味着你可以有更多时间陪伴家人和朋友，在当打之年做自己真正感兴趣的事情。 实践方式 根据地理自由和时间自由，可以分为：自由职业、远程工作、创业、投资。 前两者是只实现地理自由地工作，后两者则是进一步实现了时间自由的工作-生活平衡。 内容创作与输出 Naval曾在他的著名的长推特“How to Get Rich”中说：“代码和自媒体是数字时代的致富新杠杆，你可以利用边际成本基本为零的软件或自媒体内容创造源源不断的“睡后收入”。 这句话实际上给所有准数字游民们指明了两条通过互联网赚钱的康庄大道：1.通过写代码创造一款帮助人们解决问题的付费软件/服务；2.创造一个持续为受众提供某种正面价值的自媒体。 我们不妨把内容创作与输出当成一种“High quality leisure activity”（高质量的休闲活动），高质量和低质量的核心区别就在于，前者需要你付出更多的努力进行创造和输出，而后者只是一种被动的输入性的消遣（例如刷剧，看电影），毫无疑问，前者虽然累一些，但是其带来的满足感是后者无法比拟的。 骂脏话应该区分欺凌和反抗 骂脏话应该区分辱骂的对象。脏话的含义也因此可以分成：是实际上欺凌更弱者，还是在反抗上部的权力结构。 邮件的好处 尽管国内不流行使用 email，但我感受下来，email 仍是弱链接最好的沟通方式，它浓淡相宜，不会像即时聊天软件那样打扰你的生活，也不会像社交媒体那样让你沉迷其中，只是在适当的时候躺到你的信箱，等你有空的时候再来看看。 真理无法仅用数学和逻辑学证明 明希豪森三难困境 德国哲学家曾经提出，凡是使用数学和逻辑学证明的命题，不可能是绝对真理。 或者反过来说，绝对真理不可能用数学和逻辑学就能证明。 理由是如果要证明真理，论证必须有可以依赖的前提。但是，前提是否正确也需要论证，那么最终只有三种可能性。 循环论证：论点与论据互相支持。 无穷倒退：论证的前提没有尽头。 武断终止：论证终止于一个广泛接受的前提，不再对这个前提进行论证。 这三种可能性都不够理想，故称为\"明希豪森三难困境\"。 在当代知识论中，融贯论接受循环论证，无穷主义（英语：Infinitism）接受无穷倒退，而基础主义则接受终止论证。 明希豪森男爵是德国民间故事里面的一位虚构人物，陷在沼泽时，曾经拉着自己的头发逃出了沼泽，常用来比喻不可能的事情。 这告诉我们，数学和逻辑学是有局限的，它们必须建立在一些无法证明的、公认的公理之上。 不同的城市有不同的气质和吸引力 Paul Graham 的文章 Cities and Ambition（翻译版：市井雄心）。 每个城市都在对它的居民们散发着一些讯息。有的地方告诉你，你应该过得舒服一点儿；有时候，你听见的是嗡嗡作响的雄心。纽约就希望来的人都能赚更多的钱，剑桥就希望人能更聪明一点，硅谷则希望你能改变世界，巴黎希望你做事要有风格do things with style，真心关心艺术。如果换成国内，可能就是北京更崇尚圈子，上海更认可财富，深圳更鼓励拼搏。 我听到城市传递的消息有：财富，风格，时尚，健美，名声，政治力量，经济力量，智慧，社会阶层以及生活质量。 有些人16岁就知道自己一生的目标，但对于绝大多数有雄心的年轻人，领悟到「天生我才必有用」要比「天生我才有啥用」早一点儿。他们知道得做点不平凡的事情。只是还没确定是要做一个摇滚明星还是脑外科医生。这也没什么错。只是如果你壮志在胸，就得反复试验去找到去哪里生活。你要是在一个城市过得很自在，有找到家的感觉，那么倾听它在诉说什么，也许这就是你的志向所在了。 见过世面四个维度:上/下/内/左右 见过世面，有四层。 第一层，知道天有多高。 知道这个世界的顶点在哪里，最好吃的食物，最贵的衣服，最富有的人，最奢华的生活是怎样，最远的地方有多美。 大部分人的“见过世面”停留在这一层。也最简单，只用抬头往上看就可以了。 第二层，知道坑有多深。 知道这个世界最深的坑在哪里，最穷的地方，最黑暗的人心，最贫困的家庭，最阴暗的角落有多么潮湿。 到这里，已经大部分人做不到了。因为黑暗的地方无法远观，需要身体力行的走下去，待在别人的泥沼里去体会他人的苦难。知道这个世界的下限不是教科书上写的应然，而是人间烟火中那些走投的无路实然。 第三层，知道我在哪里。 天高三万丈，地深三万仞，人身7尺不足，我们在这天地之间处于何处？ 这个看起来很简单，实际非常难，因为我们会被自己迷惑。 我们有时候会被眼前的成就而膨胀，而忘了自己只是站在高处并不会飞翔；有时候又会被身边的困顿打压盲目自卑，对那些生活在世界更底层的人视而不见。 “知道我在哪”，其实已经解答了人生的三个终极问题之一。“知道我在哪”，意味着知道了自己的起点，同时意味着知道了自己的边界。 人生不再会盲目追求虚妄，亦不会随处自我放逐； 不追求最高，不自暴自弃，知道用怎样的力道生活，能得到最适合自己的结果。 这样的人已是开了天眼，得了大智慧。万里挑一。 第四层，知道世界还有左右。 这世界不只天高地迴的上下之分，还有三千大世界的芸芸众生。 这个世界不只有高矮，不是一维的一条线，而是无穷大的三维世界。 这世界所有众生皆不相同，他们不在我们上下，而更多在我们左右。每一种世相都有它存在的理由，每一种存在都有它的阴暗和美好。 充分包容每个人的不同，充分理解每一种存在，为他人的欢喜而欢喜，为他人的悲伤而悲伤。 不再追求高矮，而去追求阅尽这繁华世界，沉浸于人间烟火，普度众生。 这一层的人，一千年能出一个。 你的问题是怎样才算见过世面？ 其实答案很简单： 尽量向上看的足够高， 尽力向下走的足够深， 尽我所能心如明镜知道自己在哪， 尽心理解左右芸芸众生。 能做多少做多少。 绝望之为虚妄，正与希望相同 “绝望之为虚妄，正与希望相同。”出自《野草·希望》，是他译自匈牙利诗人裴多菲的某首诗中的句子 Hanem, barátom, a kétségbeesés csakugy csal, mint a remény. 这一句话被google translation直译为 But, my friend, despair cheats as much as hope。当然csal在英语里也可被译为deceive，这样就有“欺骗”的意思了，这也应该是鲁迅所译“虚妄”的来源。 绝望的存在性和希望的存在性是一样的：都不存在。 任何人都可能在某一时刻成为异类 未来很多人是结构性的多余 人在大规模地 进一步地被废弃。在最朴素的意义上是一轮新的自动化。因为这场新技术革命是一个全新的分化。 这个分化直接地表现为贫富分化和阶级固化。它表现为一部分人被彻底放逐。他们不是过剩劳动力，他们是结构性的多余。 大女主影视实则在复刻男权逻辑 我觉得在大女主的电影当中，女性主人公的生命逻辑、她们的统治逻辑、她们战而胜之的逻辑基本上是对男性逻辑的复制。在这个故事当中，是一个女帝、是一个女皇、是一个女主管，和这是一个男帝、男主管其实没有不同。它可能只是更增加了比如说美丽的女性形象这样的一个元素。 女性主义力量在于看向社会边缘人 女性主义最重要的力量是我们拒绝本质主义的刻板化印象，是在于我们尝试朝向世界，看向主流社会当中种种边缘的弱小的另类的人群。我梦想的世界里，人们尊重差异，不会用自己的标准强加于人，不会以暴力改变他人。我的梦想，是始终拥有梦。 在任何时候人都是有选择的 抑郁是一种选择，自由也是一种选择。人们总是不愿意承认，在任何时候人都是有选择的。 人类所有问题都源于无法独自静坐 “All of humanity's problems stem from man's inability to sit quietly in a room alone.” ― Blaise Pascal, Pensées布莱兹‧帕斯卡 我们与外界互联，却无法与自身产生联系 欲买桂花同载酒，终不似，少年游 刘过《唐多令·芦叶满汀洲》 安远楼小集，侑觞歌板之姬黄其姓者，乞词于龙洲道人，为赋此《唐多令》。同柳阜之、刘去非、石民瞻、周嘉仲、陈孟参、孟容。时八月五日也。 芦叶满汀洲，寒沙带浅流。二十年重过南楼。柳下系船犹未稳，能几日，又中秋。 黄鹤断矶头，故人今在否？旧江山浑是新愁。欲买桂花同载酒，终不似，少年游。 学习总是一些痛苦加一些意外之喜 【放学以后播客】 在这个不断下沉的世界，去学习，然后输出，就是去创造活下去的意义。 给自己设置奖励机制和代价机制。 给自己两个任务，一个简单一个难。可能待办的只有难的学习任务会不敢开始，所以可以先做简单的进入状态。 要实现英语自信，就要用耳朵和嘴，而不是眼睛和手去学英语。也就是去听和说，而不是读和写。 影子跟读学语言，听别人说，然后自己开口说。 挑战应该是挑战你必须做的事情 弗兰·勒博维茨：假装我们在城市 Pretend It's a City (2021) 人们总是说他们想挑战自己，但这些挑战都是假的。很多中年人跟风去爬山、去健身，但他们做这些常常是因为遇上了工作与生活的困境，想要逃避。那些都不是挑战，你可以不去爬山，也可以不去健身。 但是有很多事情是人们必须做的、应该做的，他们却不做，因为他们害怕这些事，或者他们觉得很难做成，或者自己不擅长。那些才是挑战，挑战是挑战你必须做的事情，而不是你编造的事情。你应该去面对你真正的挑战。 人们从沉默中学习，而非话语 腾讯三年 进入腾讯三年，期间的感悟和辛苦都只有自己知道，就像王小波的《沉默的大多数》中说的：人们都是从沉默中学习，而不是从话语中学习。 我喜欢把人分为两类，一种是看见任何社会现象都会嘲弄一把（或者叫黑一把），另一种是看见任何事情都能想想自己从中学到什么的。前者是话语的世界，后者是沉默的世界。 爱上北上广深 爱上北上广深 在QQ空间看到这样一段话，大意说的是毕业留在家乡更好，至少不要走太远，否则会经历累死累活独自承受，种种不便无法享受低消费高幸福。 在刚开始工作的时候，我也确实有过这样的困惑，钱确实比小城市赚的多一点，但是赚多少都不够花，工作一年几乎攒不到钱，那时候的心情是非常纠结的。 但是现在，她很庆幸当初留下了，也开始觉得深圳是比成都更好的城市。我的想法已经渐渐清晰起来。年轻人应该多挣钱，与此同时，除了稍微留一点去投资理财，其余的全花掉。 首先，为什么要多挣钱？ 钱只是数字，它代表你提供的服务有多大的价值。在小城市赚的少，大城市赚得多，为什么？因为大城市的人提供的价值普遍大一些，他们在给社会做贡献。在小城市“有车有房有体面的工作”在我看来是在混日子，我这样说会显得有点刻薄，但大部分人就是如此。 “遇到麻烦事整个家族一起解决”，因为小城市里生活，关系网重于能力，没有关系网几乎什么事情都办不下来。但是在深圳这样的城市，即使一个人，很多事情都好解决，政府也（相对）有效率。 “有事情只能自己解决”这是专业主义的态度。整个社会每个人都专业地做好自己的事情，而不依赖跟其他人的关系，这才是正常的社会吧。 为什么要多花钱？ 过于节省的生活其实是对社会经济不利的，是经济凋敝的表现。大家都活跃地交换自己提供的服务，并享受其他人的服务，社会才会涌现更多高效的服务。 最后，花的钱多了，也会更加努力地思考，如何让自己提供最大的价值，以获得对应的金钱认可。 最后，为什么往往能看到“逃离北上广深”的文章，看不到“爱上北上广深”的文章？因为离开的人（或者根本就没能力来的人）需要一些“理由”说服自己是明智的，而在北上广深认真生活的人，根本无需理由。 消费多买体验，而非实物 美国自驾游记（一、准备） 钻戒什么的，我也没有买。我说去美国要花几万块钱，确实没有经费买钻戒，先欠着吧，以后买给你。她虽然不怎么乐意，不过也被我糊弄过去了。O(∩_∩)O~ 这也是我消费的一个原则，尽量买体验，不买实物。因为实物带给人的快乐是瞬间的，买到后递减；而体验带来的快乐是递增的，在记忆里可能会延续一辈子。 牌坊与意义----谈消费主义 当生活有了太多来自于物的意义，生活本身的意义就会弥散。现代生活第一个发展的生产力，就是用来定义生活，创造更多的新需求。 一套房子120平米，扫地大概需要十分钟，洗锅刷碗又需要十分钟。看一篇文章，需要十分钟。看一本小说需要两三个小时，有的时候需要十来个小时，如果看到了专著，那可能需要两三天的时间。做题一道，有的需要十分钟，有的需要半小时都不会。 这所有的时间，在现代生活主要是消费主义的生活面前，统统被捻为齑粉。 消费主义首先拿出来一个观念，叫做你的时间可以更宝贵，然后推出了扫地机器人，拖地机器人，或者是别的东西，洗碗机或者外卖，给人一种用了这些东西节省出了许多时间，能用来提高自己的错觉。第一步就是买。 消费主义又拿出了第二个观念，叫做你的生活要更有品质，各种各样的附属小设施，比如相机，比如耳机，比如手机或者智能家具，以及精修的服装鞋袜等生活用品被一一推出，选择，比较，花费了大量时间。当然，结果还是买。 时间省出来了，东西买下来了，然后省出来的时间没有干一点正事，全部比比比买买买了，这时候消费主义会拿出第三样东西，叫做你需要休息。 那怎么能不需要休息？上班上了一天，上完就是看消费品，又比较一晚上，人都累到要虚脱，如何不需要休息。这时候综艺视频，自媒体视频和短视频就安排了起来，安排到了睡觉。 当生活中到处都是外来的意义，连完整做一件花费三小时的事情的时间都排不出来的时候，我们怎么能指望人会讲出一点，哪怕是一点点切合实际，没有经过包装和话呢？ 他们又怎么能有自己的思想呢？不过全都是被消费主义规训，从毕业就在消费，把从这家公司挣的钱投入到别家公司去的人罢了。 这样活一辈子，或许有意义，也许没意义，立华我不好评价。 神学家Niebuhr的宁静祈祷文 上帝啊，请赐予我平静去接受我无法改变的事物，赐予我勇气去改变我能改变的事物，并赐给我智慧去区分这两者。 Yak Shaving剪牛毛式即兴学习 Yak Shaving 也许很多人会和你说，一个项目的成功靠的是机遇，营销，Branding，或是文档，生态系统，技术创新，代码质量等等。以上这些固然重要，但对我而言，最重要是开始做一个项目的动机和把它做好的动力，而获得这个能力的最好途径，便是 Yak Shaving。 Yak Shaving 的字面意思是为剪牦牛毛，而引申出来的意思是，当你在进行一个工作时，发现另一个工作还没有完成，你便先去解决那个工作，在进行那个工作时，你又发现另一个工作… 如此往复，让你偏离了原本本该完成的工作，最终却也什么都没有完成。一个实际的例子： 你想烤一个苹果派，所以你去了厨房。 在走廊里，你注意到墙上有一些油漆剥落。 于是你走去五金店去买一些油漆。 在路上，你经过一家面包店，停下来吃了一个小蛋糕。 在吃蛋糕时，你感到嘴里很痛。这是你一直在拖延的蛀牙。 当你拿起手机想给预约牙医时，你看到了你朋友 Cher 正在举行一个聚会的通知。 你不想空手去参加聚会，所以你停下来买了一瓶酒… 更贴近开发者的例子可能就是：你今天打算写篇博客，觉得现有的工具都不太行，花了一个月自己写了个静态网站生成器，最后生成器也没写完，写博客的事情却也忘了。 我猜大家多多少少都有过类似的经历。Yak Shaving 通常在指一些相对负面的东西，强调做事不专心或是目标不明确等等。而我却觉得，这反而是促成很多事情的重要动力来源。当一个人需要一个工具的当下，他最有动力去解决它把它实现出来。我想要说的是，利用得当，Yak Shaving 可以成为一个很好的驱动进步的引擎。 而对于如何把 Yak Shaving 变成一件好事，以下是几点我的方法： 发现问题 我大学四年每天都在想着可以做一个有趣、大家都需要的开源项目，过上全职开源那种自由的生活。而事实是，我花了四年空想，也没有实现最开始定的毕业前 100 Stars 的目标，却在毕业的暑假两个月里，拿到了我从来没有想过的 1K Stars。区别在于，四年里我在想的是如何做出别人想要的东西，而后来我在解决的是自己遇到的实际的问题。如上面所说，当你需要一个工具的时候，你最有动力把它做出来，同时作为用户，也最了解痛点和需求在哪里，而当你遇到这个问题的时候，说不定其他人也遇到了类似的问题。 解决问题 开始尝试解决一个问题的最基本条件就是寻找现有的解决方案，如果这个问题已经被很好的解决了，也都满足你的需求，直接用就好了。重复造轮子也许是个不错的学习方式，但是我觉得，既然轮子已经有了，总得有人思考思考如何造辆车对吧。 当你发现这个问题并没有什么解决方案，或者是现有的方案你的觉得不太行，刚好你又有个不错的点子，那么恭喜你，你找到了一只不错的 Yak。 点到为止 利用 Yak Shaving 最重要的一点莫过于点到为止 – 不要抱有太大的期待，如果想法被验证了可行，做到够用即可；如果想法不可行，也不必气馁，丢掉便是了，也许哪天想明白了也可以再捡回来。不必画多么宏大的蓝图和计划，也不必设什么多少 Stars 多少用户的目标 – 你是做给自己用的，能解决自己的问题就好。重要的是，不要在一个想法上花费过多的时间，及时回去做你本该做的事情。 完善项目 作为自己产品的第一用户，你会在使用它的过程中发现许多需要改善的地方，时不时去修改一下，完善一些。有空的话可以加个 README，描述一下你遇到的问题的做这个项目的动机，也许可以顺便帮助到一些遇到一样问题的人。 最后，当你自己对这个项目的使用让你觉得这是个还算不错的想法，而你也完成了本来该完成的工作，不妨花些时间，写个文档，完善一下功能，宣传一下。能被大家认可当然最好，如果没有，也可以当作一次练习，至少你解决了自己的问题。如果反响还不错，便会有人开始提 Issue 发 PR，功能更加齐全的同时，你也会慢慢了解到项目可以发展的方向。而这些改动和加强，最终也说不定能更好的解决你最开始遇到的问题。 发现更多问题 发现更多问题的方法很简单，多看多尝试。解决和完善问题的过程中，很大可能你会发现新的可以解决的问题，亦或是来自社区的 Issue 也可以很好的帮助你找到更多的灵感。Anyway，恭喜进入正循环！ 疫情打破了生活会一直变好的预期 再见，极客时间 疫情时代，人们嘴里念叨着内卷和躺平，脑子被灌输的是，某一种人生，你不要去想，你不配拥有，你不该去追求。顺从、麻木、妥协、调侃、无助、凑合，很多人的心灵变得苍老，血液中没有希望。 我不希望这样，我们选择尝试生活中的另一种可能，不甘心在世界指定的圈子里跳舞，不愿意重复无数人重复过的人生轨迹。旧事物衰败的时候，正是新事物崛起的良机。对于那些注定要发生的变革，宏观状况不景气正是最好的机会。我相信很多伟大的公司，会在这样的光景里建立。只有真心想创建公司而不是只想快速致富的人，才会选择这个时机创业，同时，他们也会少一些竞争对手，因为大部分人都不愿意做难的事情。 读书等爱好会减轻焦虑丰富一生 年薪百万的迷惘 但我的状态就和你完全不一样，我感觉生活的大幕才刚刚拉开，未知的东西正在等待着我去发现。在几乎没什么压力的情况下，我身体依然健康强壮，积累了 20 年的工作经验，认知升级，操作系统更新换代，除了做产品、创作，还喜欢拍胶片，听黑胶唱机，打羽毛球，玩滑板，旅行，读书……可以做的事情真的太多了，所以我开了个公司，方便自己继续自由自在的做这些事情。 从本质上看，我的状态仅仅是对这个世界比你多一点好奇心和激情。这可能来自人的天性，也可能来自我读了很多与金钱、技能提升无关的书籍，也就是「无用之书」。对我来说读书总是让人平静和愉悦，读好书其实是和现存或已经离开这世界的优秀作者对话，对话内容往往是他几年几十年的经历和思考成果。多读书吧。 另外，我从不推荐成功学。世界不欠我们一个成功，我们也不欠世界的。如果你能够养活自己，照顾好家人，尽可能保证自己不会被淘汰，资金也做了很好的分配，日常收入、稳健投资、保险都有了，那就很好啊。你可以躺平，无所事事，或者看花看鸟，关键是你自己能情绪自洽就可以。 我经常引用李海鹏的话： 老想着成功干嘛呀？就好像我们的智力不足以应付不追求成功的生活似的。 在我看来，这世界上最痛苦的生活莫过于某人娶个日本老婆，因为早上你上班的时候她会在你屁股后头鞠上一躬:“李桑，努力工作！”我努力不努力干你屁事？人生的乐趣不就在于不努力吗？ 如果你没办法做到自洽，就像你问题中描述的那样，你也没什么雄心壮志，那么培养一些爱好，是很好的选择，因为爱好能为你增加体验，而体验是这个世界带给我们的礼物。 我以为人活在世界上有这么几件事很重要： 健康，爱情，使命，体验。前三点保证了最后一点。 健康是第一位的，是基本盘，生病了，会打消掉我们所有的雄心壮志，让我们陷落在低谷，所以，我从来不提倡，把身体逼的太紧。身体不舒服的时候，一定要休息。平时呢，通过规律的运动提升身体的免疫力，让自己强韧起来。 关于健康这事，冯唐在《成事心法》里说过，村上在《小说家》和《跑步》里说过，李安在《电影梦》里也说过，年龄大一点，身体就越需要保养和磨砺，要控制，要懂得取舍，而不是任意而为，让身体告警。 爱情就不用说了，罗素说过，幸福的根源之一就是爱情，会带来「狂喜」，这是其他任何经历都做不到的；爱情能减轻孤独，让你对生活不再那么恐惧；爱情能创造最美好的人类生活，仿佛天堂的缩影。 使命则是每个人来到这个世界给自己的一个定位，你要干什么，能干什么，你做的事情，对这个世界的价值，是不是让世界变得好了一点点。当我们看到他人受苦、看到饥饿的孩子、看到被压迫的人民、看到被虐待的老人，看到人类的孤独、贫穷、痛苦，内心都会难以平静。我们活着，就是为了减轻一些这种苦难，不仅为了帮助他人，还因为我们自己也是这种苦难的受害者。 你才 28 岁，风华正茂。岁月漫长，可以做的事情，还多着呢，不要给自己设限。 多读书，多些体验，free your mind。 个人命运靠自我奋斗和历史进程 江泽民谈被邓小平从上海市委书记推荐为党的总书记—— 那么人呐，就都不知道（命运），自己就不可以预料。一个人的命运啊，当然要靠自我奋斗，但是也要考虑到历史的进程。我绝对不知道，我作为一个上海市委书记怎么把我选到北京去了，所以邓小平同志跟我讲话，说「中央都决定啦，你来当总书记」，我说另请高明吧。 为什么越长大越觉得世界无聊? 为什么越长大越觉得世界很无聊? 当初惊艳，只为世面见得少。 当时懵懂，爱情是轻舟白袍，桃花开又落。情不知所起，脸红红，心在跳。 当时天真，世界是日月星辰，清风过山岗。白日梦做遍，谁年少，不轻狂。 后来才知，所谓爱情，是青春期过剩的荷尔蒙。 后来才懂，当今世界，是白雪污泥掺杂的一坨。 曾以为会有无限可能的生活，变成了努力活着。 不觉得无聊才怪。 小时候的世界简单得不可理喻，随时握起拳头，为一个小丫头或一只小狗，不惜与全世界为敌。长大后的世界复杂得动魄惊心，选择沉默不语，居然以爱之名说自惭形秽，你爱她却给她背影。 永远年轻，才能永远热泪盈眶。但是，别担心。你得放下小时候对这世界的偏见，那时候自以为人生很有意义的假象。真把那无聊人世看破了，才知人生真味恰在于它的无聊。快找到无聊之味。 你看过足球比赛吧，几十壮汉追着一个圆圆的球猛跑，玩命踢那个无辜的球，竟把全世界都整得如癫似狂。人生那么无聊，所以就学会了在无聊中获得乐趣。人们无时无刻不在想尽一切办法进行游戏。穿耳洞、理发、扣脚丫或鼻孔、自慰、按摩、纹身、抽烟喝酒、吃饭，人们玩腻了自己的身体和别人的身体之后，开始猛踢皮球，猛跑猛跳，猛动脑筋，猛说话，猛哭猛笑，猛猛地活着。 到我死那天，我也不会承认我的一生是虚妄的。 我只承认它确实无聊。 成年人如何拯救衰减的好奇心 成年人如何拯救日渐衰减的好奇心？ 首先我们来了解一下人为什么会感到好奇，通常来说有3种理论来解释好奇的原因。 1、本能论： 本能论认为好奇是我们人类的原始动力，是人类的本能。它就像我们会感到饥饿一样，当饿了就会寻求食物，人一旦感到了好奇的需求，会开始探索，当这种欲望得到了满足，个体就会感到满足喝愉悦感。 2、信息缺口理论： 有科学家认为当个体当前的知识与想要获得的只是存在差异时，即个体意识到自己在知识的理解上存在信息缺口时，就会产生好奇，从而去探索新的信息。这个产生好奇的动机主要时因为信息缺口的存在，会让人产生相对的剥夺感，而好奇就是为了缓解剥夺感。 3、兴趣-剥夺理论： 这个理论认为好奇的产生可以从“喜好”和“需要”两个维度来解释。 a、当个体对于某一个事情喜好的水平高，需要的水平低，好奇是由 兴趣 所引发的 b、当喜好和需求都高的时候，好奇是由 剥夺感 引发的 c、当喜好和需求都很低的时候，好奇则是由 无聊 引发的，由于个体感到无聊，因此会想要寻求新鲜感的事物来刺激； d、当喜好很低，需求很高时，个体只是希望缓解不确定性，进而有可能产生的是一种病态的好奇。 那成年人为什么好奇心会日益衰减呢？ 1、根据本能论，随着年龄的增长，人对于好奇的本能并没有衰减，但探索的成本不断增加，好奇的这种欲望比较难以得到满足，进而预期奖赏相对来说没有那么诱人了，所以好奇心开始衰减； 2、根据信息缺口论，随着年龄的增长，个体的知识不断地积累，排除特殊情况，其相对地信息缺口会越来越少，因此不会产生剥夺感，进而也不会产生好奇心去缓解剥夺感。 3、根据兴趣-剥夺理论，随着年龄地增长，喜好和需要对于大多数人来说都变得不在那么地重要，因此很少会出现因兴趣、剥夺感而产生好奇，但同时工作、生活占据了大部分地时间，好奇也很难因为无聊而被引发。 编辑于 2020-01-24 00:16 人生的意义在哪里？ 人生的意义在哪里？ 人生的意义是什么，这个问题，是只有当一个人陷入迷茫、不知道自己是谁、对自己深深反思、感觉生活空虚等时候才会产生的疑问。 大多数人可能都曾被这个问题困扰过，也可能以后还会被这个问题所困扰。但「人生意义」这个问题只会在人生中的某些时刻困扰我们，这本身其实已经说明了很大的问题。甚至已经将「人生意义」这个概念的本质暴露的一览无余了。 “我不知道我人生的意义是什么”，这句话换用更准确的方式可以表达为：“我无法从当下的生活中感受到「意义感」与「满足感」，同时我对于未来缺乏一个“与我的本心没有太远背离”的「长远规划」或者「愿景」，所以不知道自己该做什么。”所以人生意义的本质，是指从当下生活中可以获得「意义感」与「满足感」，同时对于自己的未来能有一个「符合自己本心」的大致清晰的「长远规划」或「愿景」。 当一个人被「人生意义」所困扰的时候，大致会有以下五种情况。 第一，他浑浑噩噩生活了很久，始终不知道自己想要什么，不知道自己究竟要怎样存在。（既无法从当下的生活获得满足感和意义感，也没有一个长远规划。） 第二，他好像一直看起来都很快乐，也很可能取得了不小的世俗意义上的成功，但他自己总是觉得不开心。（能够从当下生活获得一定的满足感和意义感，但自身对于未来的规划与自己的本心是背离的。） 第三，它对自己的生活已经有了长远的、不错的规划，但却始终都很焦虑和狂躁，他无法安心做事。（无法从当下获得满足感和意义感） 第四，他可能一直都没有什么问题，他有一个长远的规划，也一直能够从所做的事情中体会到满足和快乐。但是渐渐地，他丧失了对于生活的兴趣和感受，整个人失去很多生机，会产生抑郁的倾向或者出家的念头。（这种人一般是较有能力和成就，因为有能力体验和感受很多世界上美好的事物，所以他的感受阈限不断地提高，以至于现实生活中的东西几乎都无法在给予他刺激。） 第五，每个人在一生中不间断的都会有的空虚、迷茫，疲乏等时候都会有的意义感缺失的时刻。（这种意义感的缺失是一种很正常的每个人都会有的心理状态。） 综上而言，当人们纠结人生的意义这个问题时，莫不是因为「意义感」与「满足感」、「符合自己本心」、长远规划」或「愿景」这三者的缺失。 当这三者都具备的时候，我们根本就不会去思考这个问题，而是会全身心的融入和享受自己的生活。 那么说到这里，「人生的意义是什么」这个问题的答案我还是没有给出。其实原因在于，这个问题的答案根本就不存在。答案之所以不存在，是因为这个问题本身就是一个【错误】的提问。意义这个词的含义本身就是模糊的、多义的，人生这个词又具备太大的概括性与延伸性，这两个本来就无法确定的词又放在一起，就会令这个问题不具备一条清晰的逻辑。 因为这个问题本身的逻辑就是混乱的，所以你会发现这个问题根本无法给出一个准确地答案，并且，好像从很多个角度，很多种层面上都可以回答这个问题。但是，这并不意味着这个问题多么的博大精深，不证明这个问题是多么的具备哲思性，这个问题只是赤裸裸的证明了逻辑思维和批判性思维在这个世界上是多么的缺乏。只需要读一读《简单的逻辑学》这本逻辑学入门读物，你就会发现很多人们之间的冲突是多么可笑，那些为了女权，政治理念，大V的人品等东西而撕的不亦乐乎的人们又是何其的愚蠢。人们会思考人生的意义这个问题，最根本的原因其实是在于，现在的他无法从生活中体会到意义感和满足感，而他认为，他之所以无法从当下的生活中体会到意义感的原因在于： 他没有找到自己的人生意义。 这也是很多人理所当然的想法：只要找到我的「人生意义」我就能够平静下来，不再焦虑、迷茫和空虚，而是满怀幸福的享受当下每一秒，就能够有一个美满的人生。但问题是，人生意义不是一个你可以找到的东西。它不是一个客观存在的外物，也不是就隐藏在你的“本心”之中，人生意义的本质来自于你自己的「有意义的行动」。 很多人都知道“人生意义是自己创造出来的”这句话，但他们并不理解这句话真正的含义。这句话的本意是指：当你去做你自己喜欢的、你自己认为有意义的事情时，你自然而然就会感觉到充足的意义感和满足感；但当你去用力“寻找”人生意义的时候，你反而会找不到，甚至会离你的人生意义越来越远。因为你的「刻意」令你无法充分的享受和体会你所做的事情所带给你的感受。 所以去做自己喜欢做的、自己认为有意义的事，这就是答案了吗？这也不是。因为对于一个陷入迷茫、空虚、消极之中的人而言，他根本就找不到他自己喜欢做的、有意义的事情。 究其根本原因，在于他的生活不够「精彩」。他自出生以来一直都待在自己的舒适区之内，他并未尝试着为一个目标拼尽全力的去奋斗，他因为担心受伤而一味躲避失败，他并未体尝失败的痛苦、平静、与反思，他并未真正看到自己究竟拥有多么大的潜能和力量，他害怕丢脸、害怕孤独、害怕失去，所以他只挑那些最安全、最平庸的道路去走。 这样的一个人，他从来都没有机会了解自己，他从来都不曾体会真正的人生，又何谈去体会到「人生的意义」呢？ 你必须仔细听好，这不是鼓励你的鸡汤，也不是在催促你要努力奋斗，而是你必须意识到这个事实——你原本可以去做很多事情，而不能再捂住耳朵闭上眼睛假装自己一切都好，假装自己就是这样一个无能之辈。你当然有权利选择带在自己的舒适圈内平静的生活，但你也必须意识到，这样的生活中，空虚，无聊，无意义感，消沉等这些负面的感受，来自社会意义上的对比和攻击等等，也都是你必须要承受的。 你没有理由再哀叹为什么生活没有意义感，就像你不能自己选择了坐在火坑上却抱怨为什么这儿不够凉爽。更何况，一个没经历过大风大浪的人，可能根本就没有资格说出自己就是很喜欢平淡的生活这种话。 你的选择很多时候究竟是不是“你”的选择，这一点往往可能是存疑的。所以在此我很明确的建议你： 多走出自己的舒适区， 多去做一些曾经没做过、不敢做、逃避去做的事情， 尝试着建立更多的人际关系， 试着去全力完成一个过去被你屡次放弃的目标。 在任何时候，我都认为一篇文章中的具体建议不需要写的太清楚，因为关键的地方只在于，你是否真的想明白了。当你想明白了，自然而然的你的整个心态就改变了，这个时候，你自己就会将你要做的事情细化，并给自己制定计划。而如果你还没有真的想通，那么给再多的建议也根本没有丝毫用处。 这个时候，你停下来试着问一下自己，试着感受一下你一直以来习惯的思维，你一直以来所抗拒面对的问题，你一直以来用来欺骗自己的那些认知。 你问问自己：我真的想明白了吗？ 临终摄影: 谈论现实, 准备死亡 摄影集《生命的肖像》 2005年12月，辽宁教育出版社引进了摄影集《生命的肖像》，作者是德国摄影师瓦尔特·舍尔斯（Walter Schels）。我今天才看到，非常震动。 这本摄影集专门拍摄死者。每个人拍摄两张照片，一张是垂死的时候，另一张是过世的那一天。两相对比，效果非常强烈，你会感叹活着和死了是多么不同，你会追问自己到底什么是死亡！ 舍尔斯感到，我们这个社会有一个严重的缺陷，就是将那些垂死的人们排除在社会之外，仿佛他们已经不是人类了。他用这本摄影集，提醒人们关注这个问题，关注那些默默的、痛苦的、等死的人们。我们每个人都会有这一天。 摄影集《生命的肖像》（续） 我一直感到，我们这个社会不愿意谈论死亡。当然，不是真的不谈，而是将死亡说成好像是其他人的事情，完全用一种与己无关的口气在那里说。一个明显的例证是，当死亡发生，人们总是安慰家属节哀，但是好像没有人意识到，这个时候最悲痛的那个人正是死者本人！ 我们为什么不去关心死者怎么想呢，为什么不去思考怎样安慰那些将死、甚至已死的人们呢？ 法国哲学家萨特在回忆录《词语》中说，在28岁之前，他从来没意识到有一天自己会死。但是，等他意识到以后，他觉得生命从此就不一样了，他看世界的方式完全变了。苹果公司的总裁乔布斯说：\"生命很短，几十年，然后你就死了，你明白吗？\"是啊，你明白吗，如果我们没有做好死亡的准备，那么其实我们也没有做好活着的准备。 虽然拍摄尸体是一件恐怖的事，但是Schels and Lakotta感到更震惊的是，当他们接触拍摄对象时，那种临死的人们的孤独和疏离感。\"我们当然了解那些拍摄对象，因为我们在医院里访问他们，同他们交谈。他们告诉我们他们的生活，以及他们对马上到来的死亡的感受。\"Lakotta解释说。\"我们意识到，在整个过程中，他们一直感到非常孤独。他们有朋友和亲属，但是这些人和他们正在变得越来越疏远。因为这些人拒绝谈论现实。他们来探望临死的人们，却说希望他的身体越来越好，或者说希望他能够早日回家，或者早日重新回到工作岗位。 死者告诉我们，这些话不仅让他们感到更孤独，而且伤害了他们。他们感到，他们被切断了与这些人的联系，而此时在内心中，他们却是最需要亲友的关心。这一切都是因为，人们拒绝向病人承认，他快要死了，终点就在眼前这个事实。\" Schels在职业生涯中，单单肖像作品就拍过几百幅。他说：\"以前，我习惯于人们对着镜头微笑。这是一个很自然的举动。但是那些临死的人们从来没有对着镜头笑过，他们严肃地难以置信。而且，他们不再愿意伪装了。活着的人或多或少都有所伪装，但是临死的人没有必要这样做了。我感到，作为一个摄影师，这给我一个机会，让我尽可能靠近一个人的内心。当你快死了，所有不真实的东西都被剥离了。你成了那个最真实的你，比以前任何时候都更真实。\" 时间管理的七句话 时间管理的七句话 1. \"进程切换非常昂贵，避免多任务，保持单进程。\" 不要同时做多件事，结果可能都没做好，还拖长了工作时间。 上图是多任务状态和单进程状态的对比，可以看到，多任务状态会花费更多的时间。 2. \"研究表明，集中注意力、高效工作，每天最多4小时。\" 一个人能够集中注意力的时间，是有限的。一般来说，高效工作只能持续四个小时，其余时间就都是低效工作了。 上图左侧是大多数人每天的时间分配，如果你能保证4个小时都高效工作，那么完全可以变成右侧的时间分配。 3. \"划分任务的优先级，不要把'急切'当作'重要'。\" 你的时间有限，不可能做所有事。最重要的事，应该首先做。（推荐阅读《什么是重要的事情？》） 一个有用的技巧是，将所有任务按照\"重要性\"和\"紧急性\"两个维度，分成四个象限。第一象限优先级最高，第四象限最低。 4. \"起床后，不要查看邮件和微信。\" 邮件代表对别人优先级高，不等于对你优先级高。而且，早晨精力最充沛，消耗在邮件和微信就太可惜了，应该用来做更重要的事。你的时间到底属于谁？你自己，还是某个给你写信的人？（推荐阅读《为什么起床后不能收邮件？》） 5. \"避免开会，因为人类已知的最浪费时间的事情，就是开会。\" 越大的公司，越无法避免开会。但至少不要参加与你无关的会。站着开会，也许是一个缩短会议时间的好办法。 6. \"早晨4点起床，到了中午，你就完成了一天的任务。\" 早晨4点起床开始工作，你会发现每天的时间多出了好多。有个日本人写了一本书《四点起床》，就是讲这个观点。把24小时三分，4-12工作，12-18自我发展，18-4休息。 7. \"你没空时不会做的事情，有空了也不会做。\" 世上并没有拖延症，只是不想做而已。如果可能，应该尽早放弃你没有意愿去做的那些事。而那些没有时间也会去做的事，才是你应该全力以赴的人生方向。 罗素谈我为何而活 我为何而活——《罗素自传》序言 伯兰特.罗素 三种简单却极其强烈的情感主宰着我的生活：对爱情的渴望、对知识的追求、对人类痛苦的难以承受的怜悯之心。这三种情感，像一阵阵飓风一样，任意地将我吹的飘来荡去，越过痛苦的海洋，抵达绝望的彼岸。 我寻找爱，首先，因为它令人心醉神迷，这种沉醉是如此美妙，以至于我愿意用余生来换取那几个小时的快乐。我寻找爱，其次是因为它会减轻孤独，置身于那种可怕的孤独中，颤抖的灵魂在世界的边缘，看到冰冷的、死寂的、无底深渊。我寻找爱，还因为在爱水乳交融时，在一个神秘的缩影中，我见到了先贤和诗人们所想象的、预览的天堂。 这就是我所追求的，尽管对于凡人来说，这好像是一种奢望。但这是我最终找到的。 我曾以同样的热情来追求知识。我希望能理解人类的心灵，希望能知道为什么星星会发光。我也曾经努力理解毕达哥拉斯学派的理论，他们认为数字主载着万物的此消彼长。我了解了一点知识，但是不多。 爱和知识，可以最大可能地，将人带入天堂。可是，怜悯总是将我带回地面。人们因痛苦而发出的哭声在我心中久久回响，那些饥荒中的孩子们，被压迫者摧残的受害者们，被子女视为可憎负担的、无助的老人们，以及那无处不在的孤单、贫穷和无助都在讽刺着人类所本应该有的生活。我渴望能够消除人世间的邪恶，可是力不从心，我自己也同样遭受着它们的折磨。 这就是我的生活。我觉得活一场是值得的。如果给我机会的话，我愿意开心地，再活一次。 人生只有900个月 人生只有900个月 有人在Quora问： \"最令你吃惊的事实是什么？\" 他得到了56个回答。其中最震撼我的，是下面的回答： \"人生只有900个月。\" 事实上，你可以画一个30x30的表格，一张A4纸就够了。每过一个月，就在一个格子里打钩。你全部的人生就在这张纸上。你会因此有一个清晰的概念：你的人生是如何蹉跎的。 我从没意识到，人生可以短暂到如此精确。回想刚刚过去的四月份，不过就是一眨眼的时间，但是人生的900分之一就已经消失了，真是恐怖啊。 做成事的经历与能力比学历重要 1. 学历不重要，【完成】才重要 2. 先做成一件事——池建强 学历很重要，但是它在人生不同的时段就有不同的意义。学历可以让你轻松入社会、轻松抢得比别人优几千倍的好位置，但以「一生只要大成功一次」的角度来看，高学历可能误导了年轻人，让他卡在某个地方，不上不下，一辈子背着一个没什么实质帮助的形象龟壳。这问题我们想了一下，最后的结论是──这么一篇关于「完成」的文章。 简而言之，大学所学的东西，出了职场大多忘光光，但无形累积的东西确实很多很多，其中最重要的，是这个叫做「完成」的训练。 直销公司对大学生洗脑「读书不重要」，以致于大学生打算休学。假如儿子从前就有许多的「完成」记录，那我或许会支持他做这件事。假如我儿子就像普通的学生，没做过什么了不起的事，那我会打他一顿，然后停掉他的手机，接着要他打电话跟这公司说掰掰。建议还是先学会「完成」一生中第一件大事再说。 「完成」能力强弱，从小时候就已经开始浮现。我觉得那是一种感觉，你不一定得处处「完成」所有事情，可是你的确是朝着「完成」而来的，有的是大事，有的是鸡毛蒜皮的小事，但你处处都想「完成」。儿童教育的基本道理，就是不能胁迫小孩，鼓励重于责骂；我们发现，有一部份的学业成绩较差的小朋友，父母往往是用硬逼的，所以小孩着重的是「回到家，就坐在桌前念书」，只要摆出这个过程、这个样子，就不会被父母捏耳朵、打脚趾、罚半蹲或罚倒立；于是，他或许真的有在念书，但心中想的是「度过这个过程」，而不是「完成」。而我的父母，从小就着重的是鼓励我们，我们回家要怎么看电视都无所谓，但鼓励我们要考出好「结果」。为了有好结果，为了这次月考抱个满分回家、为了享受那「第一名」的荣耀光采，我一定要「完成」一些东西。这是我心里的目标。 那，假如因为能力有限，无法「完成」呢？为了「完成」，只好「加码」，努力付出更多来让它完成，不是吗？记得刚到加拿大的高中念书时，为了让从前文科强于理科的自己能够真正的在数学方面变强，我决定，把整本物理课本的所有公式都证明了一次，只为了一个现在看来有点好笑的信念：「我整本书都摸得熟透，你就考不倒我了吧！」为了「完成」这个目标，有一阵子念书必须念别人的五倍时间，没办法，为了「完成」只好无所不用其极。后来考GRE，我发现单字怎么背也背不完，怎么背都还是有遗漏，为了不要有漏网之鱼，于是决定直接拿无敌字典，整台都背下，而且用浅记忆法，只求记得大约的意思，因为那时候离考试只有两个月，没办法，为了「完成」只好出此下策。 有人误判这个「完成力」为某种「责任感」，但它并非这么无趣。「完成」是一种兴趣，它正向循环。 愈会完成的人，在社会上就愈来愈成功；愈容易中途放弃的，在社会上只会愈来愈挫折。你会想，我曾经完成过这么多了不起的事，你应该给我鼓励与支持，但没有「完成」的作品，就是没有价值；有完成的作品，就算再烂，也可以回报成自己的一个成就。我发现，「完成」是许多人的罩门，许多人抓不到「完成」的意义。有时候，我们就算离「大完成」还很远，但可以给自己一连串的「小完成」，称为「里程碑」(milestone)，给自己好几个，马上强迫自己完成第一件事，让那些成就感来灌进来，也让自己更看到前方在演什么，然后再一个一个的往前进。这简直是一种艺术，在生命中打上一个又一个小小的「完成」的勾勾，可以改变很多事情。 先做成一件事——池建强 如果你觉得这种很难，那可以先从在生活中做成一件事开始，这个相对会更简单一点，稍微坚持一下，就可以做到。比如拍一张好照片，前提是你需要拍一千张。比如写一篇好文章，前提是你需要先写一百篇。 有时候人们焦虑是因为我们想同时做太多事情，以至于一件事都没做成，这时候，你可以试着先做成一件事。书读不完，先读完一本试试。专栏买的太多，先把一门学完学好。编程语言太多，先掌握一门试试。没有成功案例，先努力让手头的产品成功了。 很多人一辈子一事无成，焦虑了一辈子。但凡做成了一件事，就会缓解绝大部分焦虑情绪，你也会更自信。 做成一件事，就是最重要的能力之一。 挑选礼物的建议 无用 第一，有用的礼物不如无用的礼物。建议你不要送实用性太强的东西，例如衣服、香水、背包等，除非你对自己的品味有绝对的把握。这些东西人人都有很多，如果不够出彩的话很容易淹没在他众多的日用品里。如果他不认同你的品味，搞不好还会给他留下一个“俗人”的不良印象。 送礼最好是送“四不掉”的东西，即：吃不掉，用不掉，送不掉，扔不掉。这样的礼物最适合表达心意，也最容易让收礼的人产生愉悦之感，从而对你感激倍增并久久难以忘怀。从接受礼物的人的角度来讲，对他们有用的东西并不一定是能让他们高兴的东西，而从赠礼人的角度讲。送礼的目的不是要给接受礼物的人带来多大的实用价值，而是要让他们感激你，记得你。 独特 第二，独一无二的、有创意的、有个性的礼物更佳。这样的礼物不仅能够给收礼物的人一份惊喜和感动，而且也能让他感受到你花了很多心思、很多精力给他准备这份礼物，送礼物的目的正在于此。 从这个角度来讲，个性的手工艺品是不错的选择。比如按人物的照片用软陶制作的个性卡通塑像，就受到时尚一族的欢迎。其优点是独一无二、可以永久保存、可以用水清洗。但价格在300至400元左右，且需要有该人物清晰的照片，并需要至少提前一星期预定。比外还有个性漫画肖像、个性水晶像、个性拼图、个性腕表、个性项链、个性T恤、个性杯子等等。 小中之大 第三，大中之小不如小中之大。也就是说，送礼物的时候，在一个不太昂贵的礼物类别中选择一个比较贵的礼物，要比在一个比较昂贵的礼物类别里选一个比较便宜的礼物收到的效果更好。 想要但不想自己买 第四，说要的不如想要的。其实送礼的目的，并不应该是使礼的人得到最大的效用，而是为了自己的地位在收礼人的心目中得到最大程度的提高。所以，你应该把人们想买却舍不得买的东西，或者想买却不好意思买的东西，送给别人或者作为奖励。 直接给，不要让人选 第五，有选择不如没选择。送礼不该给出选择，虽然人们会选择能给他们带来最大效应的礼品，但很多时候，这种选择并不能给他们带来最大程度的满足。在有些情况下，选择还会带来负面效应。当几件礼物的优劣差异不大时，单独给任何一种东西，都比让别人在两种甚至几种东西里选一样，得到的满足感更大。不要在送礼的时候，把患得患失也送给别人。 豆瓣极简抠门小组 抠门男性联合会小组 抠门女性联合会小组 今天消费降级了吗？小组 不要买 | 消费主义逆行者小组 极简生活小组 丧心病狂攒钱小组小组 极简生活的忠实信徒 （完结了） Linus 自传《Just For Fun》 Linus 自传《Just For Fun》 他继续谈生命的意义： \"人类的追求分成三个阶段。第一是生存，第二是社会秩序，第三是娱乐。最明显的例子是性，它开始只是一种延续生命的手段，后来变成了一种社会行为，比如你要结婚才能得到性。再后来，它成了一种娱乐。\" 我心里嘀咕，这个理论有点离经叛道啊，不过看上去似乎有道理。但是，它跟Linux有什么关系呢？ \"技术最初也是为了生存，为了生存得更好。现在技术大体上还处于社会的层面，但正在朝娱乐的阶段发展。......（Linux的开发模式）为人们提供了依靠兴趣与热情而生活的机会。与世界上最好的程序员一起工作，是一种无与伦比的享受。\" 8. 关于芬兰人 \"芬兰人有沉默的传统，人人都沉默寡言。他们常常站在一起，但一句话也不说。德国作家布莱希特二战时曾在赫尔辛基住过一段时间，他在描绘火车站一家咖啡馆里的顾客时曾说，那些人\"会讲两种语言却沉默不语。\"所以后来他一得到机会就逃出了芬兰。\" 9. 关于诺基亚 \"既然芬兰人不喜欢面对面地交谈，整个国家就成了移动电话最理想的市场。\" 21. 关于成功 \"Linux所取得的许多成功，其实可以归结为我的缺点所致：1、我很懒散。2、我喜欢授权给其他人。\" 40. 关于电子邮件 \"我喜欢电子邮件的众多理由之一是，它如此方便又如此容易被忽略。你可以轻松地对某些邮件不加理睬。\" 41. 关于生活哲学 \"寻找乐趣，做一些有趣的事情，增加财富和提高名声。\" 42. 关于未来 \"当你谈及技术的未来时，真正有意义的是人们想要什么？一旦能够描绘出这一点，剩下的事情就是如何大规模地生产它，并使它足够便宜，以便人们能够在不牺牲另外也想要的东西的同时获得它。除此而外，没有任何事情真正有意义。\" 詹宏志谈教育、阅读和创业 詹宏志谈教育、阅读和创业 以前，我只知道詹宏志是台湾著名的文化企业家，干过作家、编辑、唱片公司经理、出版商、网站董事长，都取得了巨大成功。现在才知道，这不是偶然的，他的思想和读书技能决定了为什么他能横跨这么多行业，始终立于不败之地。 下面就是我摘录的詹宏志的一些观点，真的非常有启发。 一、谈教育 4. 教育的目的是什么？是要自己思考找出力量来，还是要被死去的灵魂影响？ 知识成长的过程，就是从肯定中产生否定思想。勇于做自己没有做过的事，是最有用的能力。 5. 不要担心误导，如果能接触足够的信息，任何单一的偏见都不能对学生产生影响。 如果小心翼翼地将学生与所有可能误导他的书隔离，他就得不到和社会相处的能力，任何一个偏见对他而言，他都没有足够的自我思考、判断的能力。 不要担心他暴露在某一个偏见当中，而是要担心他暴露在不够多的偏见中。 6. 教育，本来就有一种企图与控制性，希望把想法灌输给受教者。可是，人们学会认识字、学会思考，就产生了思想，有了思想后就无法控制了。这就是为什么，所有做强制性控制的集权主义社会，最后都会面临挑战。 对于集权主义统治者而言，基本上都是严格控制教育思想的，但最后却还是遭遇到抗争或反对声浪。因为不管是任何阶级，都需要给予基本教育才能达到国家发展的目标，基于这缘故，要给人民基本教育，让他们能有生产力；也因为给了基本教育，就无法控制他的思想，就产生很多对政府不满意之处。 二、谈阅读 7. 我由于不善于跟人接触，才喜欢读书，想从书中找答案。 我读书的目的不是为了书，而是对于一个更大世界的向往，我希望有机会和真实世界面对面，书是个替代也是个媒介。 读书是因为向往这个世界，但是透过一个比较安全的方式去进行。 8. 书其实是个召唤，要你去见现实世界本身。也许真正面对面的经验是书不能替代的，但是因为它，我才会有那么大的勇气说哪天要去某个地方。 9. 读书很难因功利的目的而为，因为它太不准确，想学东却学到了西，想发财却悟了道，与功利本意全然不符。 但是，读书本身却是高回报的投入，想得到一却得到了三，追求一个作用却附赠两个副作用，如果人生要过得丰富划算，读书恐怕是当中关键之所在。 10. 读书需要技能。会游泳的人，把他丢到水里去，玩水戏波逐浪，非常快乐，他会跟你说：人生至乐莫过于游泳；把一个不会游泳的人丢到海里去，绝对不会是他的人生至乐。所以这个至乐，显然是握有技能的人才能拥有的事。所有活动皆是如此，得先过掌握技能的一关，然后乐随之至。 11. 如果一本二十万字的书，可以用一千字说出来，那就表示读懂了。 12. 让世界反复地得到启发，慢慢地使所有人阅读它，产生一定的力量，这就是经典。 13. 所有伟大的书都经过伟大的读者读过。 14. 如果每一次轰轰烈烈的事件没有形成观点，是没有影响力的，只是每一年提供了网络上、电视上的转播而已，提供一些热闹而已；但是你老老实实为一个事件、一部电影写一万字的解读，这就是很可怕的力量。 三、谈创业 17. 我现在很少抱怨社会没有文化 （我们选择出版这个工作不就是想改变这件事？），我也很少抱怨一本书卖不好是社会大众的错。相反的，我会相信那是我的错，我不是错估了社会，就是没有利用市场做对所有的事。 如果想被市场接受，就要尽可能掌握社会的真相及其可能的行为。我不抱怨读者不接受我的书，我尽可能去了解读者真正的需求；我不抱怨银行不借钱给出版社，我努力去了解银行借钱的逻辑；我也不抱怨投资人眼中没有文化事业，我试着去找出投资人可以了解的文化事业价值。 18. 每个出版社的出现，都是因为有一本书没有人出。 创业的动机就是有一个要证明的事情出现。 如果我要作我自己相信的事，很难避免跟这社会意见不合。 19. 任何事情都放胆去做。现在这个时代，应该已经饿死不了人了吧！人们所面临的困境，多半也不是养不饱自己，而是自己的抱负没有获得实现、理念没办法被采用等等的原因。因此，有机会就去尝试。 没有什么创业风险是会真的死人的，所以，有什么好怕的呢？你所害怕的那段冒险，将有可能在每个转弯的地方，带给你前所未有、想象不到的惊险美景。 20. 现在的问题是，书从太少变成太多，从很珍贵变成有点多余。 小时候，家里每一本书，我可能都会看上五遍十遍。可是现在，我都不能想像，家里有这么多书，我的小孩在书架间走来走去，却没有意识到书的存在，没有任何强烈的动机去看书。 21. 面对庞大信息，我们必须有方法快速地寻找数据，有效地组织成有意义的内容，以提升生产力。 22. 信息革命的出现，颠覆了工业革命\"大量、集中、无差异生产\"的概念。 企业既能提供大量、便宜的产品，也能提供差异和个别化的产品。以亚马逊为例，亚马逊分析每个人阅读、购买书籍的习惯，为你设置个性化网页，这在过去根本是不可能的事，但现在成为可能，为什么？因为力量来自于运算能力与沟通成本的低廉（每增加一个新单位的成本为零）。 当商品和服务因为科技的运用而转向个人化，这时社会、企业与个人怎么管理弹性、管理变化和管理不同需求，就成了所有现在转型压力的由来。 23. 产业的\"转型\"体现在三个方面。 第一个是定位上的\"转型\"，从全球产业价值链里比较下面的位置往上面走，例如由制造跳到设计这一端。 第二个是地理上的\"转型\"，从\"工资较贵\"的地方流到\"工资较低\"的地方；由\"较小的市场\"走到\"较大的市场\"。 第三个是概念上的\"转型\"，从\"重视成本效率\"的概念，转成为\"重视附加值\"的概念。 胡适的三个主义 https://www.ruanyifeng.com/blog/2012/04/hu_shih.html 胡适的主要信念，可以总结为三个主义：实用主义、实验主义和自由主义。 一、实用主义 胡适师从\"实用主义\"大师杜威（John Dewey）。他完全继承了老师的主张，不提倡研究那些抽象的哲学思辨问题，而主要关注一些更实际的、与人自身相关的问题，注重实践和工具的重要性。 胡适最著名的一句话就是： \"多研究些问题，少谈点主义。\" 胡适认为，具体的问题比抽象的主义更重要。 \"主义的危险，就是能使人心满意足，自以为寻着治病的根本方法，从此用不着费心力去研究这个那个具体问题的解决法了。\" 他主张年轻人要把自己的人生，用来解决实际的问题。 \"生命本没有意义，你要给它什么意义，它就有什么意义。与其终日冥想人生有何意义，不如试用此生做点有意义的事。\" 二、实验主义 怎么解决实际的问题呢？胡适说，要用实验的方法，强调证据。 \"大胆的假设，小心的求证。\" \"有几分证据说几分话，有七分证据不说八分话。\" 更重要的是，不要迂腐和迷信，要敢于怀疑。 \"读古人的书，一方面要知道古人聪明到怎样，一方面也要知道古人傻到怎样。\" \"世间有一种最流行的迷信，叫做'服从多数的迷信'。人都以为多数人的公论总是不错的。\" \"要用自己的头脑独立思考，不要轻易受人惑，不要轻易相信别人的理论，哪怕是我胡适说的话。\" \"我这里千言万语，只是要教人一个不受人惑的方法。被孔丘、朱熹牵着鼻子走，固然不算高明；被马克思、列宁、斯大林牵着鼻子走，也算不得好汉。我自己决不想牵着谁的鼻子走。我只希望尽我的微薄的能力，教我的少年朋友们学一点防身的本领，努力做一个不受人惑的人。\" 三、自由主义 胡适认为，一个有用的人必须思想自由，而一个强大的国家只可能是由无数自由的个人组成。 \"现在有人对你们说：'牺牲你们个人的自由，去求国家的自由！'我对你们说：'争取个人的自由，就是争取国家的自由；争取个人的人格，就是争取国家的国格！自由平等的国家不是一群奴才建造得起来的！'\" \"把自己铸造成器，方才可以希望有益于社会。真实的为我，便是最有益的为人。把自己铸造成了自由独立的人格，你自然会不知足，不满意现状，敢说老实话。\" \"我们所要建立的，是批评国民党的自由和批评孙中山的自由。上帝我们尚且可以批评，何况国民党和孙中山？\" \"反自由不容忍。\" 在胡适看来，中国的封建礼教和专制主义，是自由的大敌。 \"中国社会最爱专制，往往用强力摧折个人的个性，压制个人自由独立的精神；等到个人的个性都消灭了，等到自由独立的精神都完了，中国社会自身也没有生气了，也不会进步了。\" \"中国的教育，不但不能救亡，简直可以亡国。\" \"明明是男盗女娼的社会，我们偏说是圣贤礼仪之邦；明明是赃官污吏的政治，我们偏要歌功颂德；明明是不可救药的大病，我们偏说一点病都没有！\" 77天徒步穿越羌塘无人区 北方的空地——77天徒步穿越羌塘无人区 bbs原贴 书《北方的空地》 不正义的法律，不服从的公民 https://www.ruanyifeng.com/blog/2011/06/unjust_laws_and_disobedient_citizens.html 《反抗不正义的法律是公民的天职》（It Is Everyone's Duty To Defy Unjust Laws），作者是瑞典盗版党的创始人Rick Falkvinge。 他的本意是是呼吁大家一起行动，改变不合理的版权法。但是实际上，他触及了一个更深层的问题----如果法律是错的，你觉得自己应该怎么办？他的观点非常鲜明：盲目的守法，不是善，而是恶；反抗不正义的法律是公民的天职。 文章一开头就气势如虹： \"有人说，只要是法律，就要遵守。这种说法对于社会极其危险。\" \"暴君为什么能够维持统治？就是因为他手下有千千万万盲目守法的官僚。\" 那么，为什么不能盲目遵守法律？有两个原因。 第一，法律并不是最高的行事准则，世界上存在更高的价值标准。 \"早在古希腊，苏格拉底就说过，国王的法律之上，还有一种道德的法律（moral law）。\" 第二，法律往往不代表普遍的正义，而只代表掌权者的\"正义\"。 \"法律之所以被制定出来，并不是因为它们是正确的，而是因为它们符合某个政治家（集团）的利益。\" 很多人嘴里说\"要守法\"，但是并非真心认为应该如此，而是以此作为推卸个人责任的借口。既然法律有规定，那就照着做吧，何必去想对不对。 这是非常危险的做法，正确的做法应该像下面这样： \"如果你认为某个法律是错的，是不公不义的，那么你就有责任去质疑它、违抗它，而不是盲目遵守它。\" \"最终来说，你的道德价值观才是你的指南针。你必须自己决定遵守哪些法律。为了做到这一点，你必须知道最高的价值观是什么。\" \"大多数时候，我们应当遵守大多数法律。但是，我们不应当在所有时候，遵守所有的法律。\" \"我这样说，是不是鼓励大家去违法？不，从事非法活动，往往会有危险的后果。出于谨慎原则，我鼓励大家跟随自己的道德价值观，判断一件事该不该做。\" 原文写到这里就结束了，但是它让我想到了另一篇更有名的文章----19世纪美国作家梭罗的《论公民的不服从》)（Civil Disobedience）。 该文发表于1849年，正是南北战争前夕，梭罗认为一个支持黑奴制度的美国政府是邪恶的政府，公民不应该服从这样的政府。他雄辩地阐述了，个人的良知（consciences）高于强权（power），反抗一个不正义（injustice）的制度是每个公民的责任（duty）。 这篇文章深深影响了后来的托尔斯泰、甘地、马丁·路德金等进步人士，成为\"非暴力，不合作\"运动的基础。虽然它与上文相隔162年，但是根本观点和内在精神完全一致，读起来竟然有一种浑然一体的感觉。 下面就是我对梭罗的那篇文章的一些摘录，强烈推荐。 \"政府只是人民用来有效行使他们的意志的一种形式。在人民还来不及贯彻他们的意志之前，政府也能同样有效地被滥用或误用。\" \"政府的存在表明，为了自己的利益，一部分人可以如此成功地驾驭这个机构，甚至可以驾驭人民。\" \"当人民掌权后，多数派将控制政权，而且长期控制，这不是因为他们非常正义，也不是因为少数派认可他们，而是因为他们具有最强大的实力。但是，一个由多数派控制一切的政府，是不可能建立在正义之上的，即使是表面的正义也做不到。\" \"我认为，我们首先必须做人，其后才是做国王的顺民。让人们像尊重正义一样尊重法律，这是不可取的。我应该承担的唯一义务是，不论何时都从事我认为是正义的事。\" \"如果机器内部的故障控制了整个机器，并进行有组织的欺压与掠夺，那么，就让我们扔掉这部机器吧。\" \"那是政府的过错，政府使局势变得更糟。为什么政府不善于预见改革，并为其提供机会呢？为什么政府不珍惜少数派的智慧呢？为什么政府不见棺材不落泪呢？为什么政府不鼓励老百姓为它指出错误，改进工作呢？\" \"任何人只要比周围的人更正义一些，也就构成了一人的多数。\" 长文 别玩有限游戏，创造无限游戏 放学以后播客——30-别玩他们的有限游戏，我们创造自己的无限游戏 在我们置身的东亚社会，充斥的几乎全是有限游戏。有限游戏的核心，就是要赢，要比较，要更高更快更强，要我比你好，要我虽然我过得苦，但是只要你比我还苦，那我就还能忍受下去。而且有限游戏的规则几乎全由极权与父权制定，由此内卷生生不息，女性的可能性在持续地被剥夺。在有限游戏里，任何一个女性主义者，任何一个人道主义者，任何一个自由主义者，都没有真正的栖息之地。 在东亚生活的环境里面, 最主要的社会生存原则是糊弄, 是逃避, 是遮蔽, 就是你千万不能去触及到问题的核心, 你触及到问题的核心, 其实对你来说都是一场巨大的风险, 还有危险。 OKR就是一个有限游戏, 最明显的标识。因为之前大家还用kpi, kpi就是领导给你设置一个目标, 你努力去完成。现在OKR还要我们给自己人为设置目标，就是飞盘, 这是自己扔自己叼, 自己扔自己叼, 这人已经被异化到这个地步了。（KPI是关键绩效指标，OKR是目标与关键成果。简单来说就是KPI是别人要我们做的事，OKR则是我们自己想做的事。） 但是张歆艺（妻）当时就提出了一个点, 就是他发现袁弘（丈夫）即使在他俩有了孩子以后, 依然可以拥有, 就是自己的思想和意念和思维, 不会时刻被家庭影响的一种自由。 就是他还仍然可以自由的去健身, 自由地去做一切的东西， 去听音乐呀, 搞各种有的没的东西。 但是张歆艺就发现自己做不到, 发现自己即使学习健身的时候, 也无时无刻的不被孩子, 老人家庭生活的一切东西所占据, 她就感到无比的崩溃和无力,她同时也在反思自己, 这到底是自己的问题, 还是就是这个社会文化家族给女性的问题, 就是女性就是没有办法摆脱这些义务, 这些责任, 这些东西对自己意念的侵蚀, 所以自己的意念从来没有办法处于自由的状态。 我们所有的自己的个性, 自己的自我在这个工作职场中全部消失了, 我们共同的名字叫做打工人, 甚至我们共同的名字叫做韭菜。 在知乎上大家也能看到这样一个评论, 你不是主体, 你是手段, 是目的, 你耗尽一生的能量, 是为了成全他人, 而不是追逐自己渴望的人生。 我觉得就是我们每一个人, 都被这整个社会无所不在的有限游戏控制住了。然后前几天我看到一个更可怕的话, 叫东亚小孩的一生就是把自己削薄削薄, 直至挤进尺寸苛刻的缝隙, 最后变成墙的一部分。就是我们在这个有限游戏里面不仅仅是参与者, 我们最后甚至会变成维护有些游戏规则的人。 希望将自己所获得的奖励永久化的社会成员，也会努力维持这个社会奖励制度的永久化。 一个残酷的事实就是，有限游戏的参与者, 大家现在每一个打工人，现在被奴役, 被称为韭菜,本质上都是自愿参与的, 所有这些游戏离不开自我遮蔽。问题是我们是否愿意摘下面具, 坦诚地承认自己是自愿的。awareness is the key, 你意识到问题才是解决所有问题的关键。 我们只有愿意非常坦诚, 有勇气的接受和承认这件事, 我永远有自由选择的权利, 我永远有选择权, 我觉得这个才是我们能获得人人的主动性, 才能对未来有一点点希望的, 非常重要的一点。我觉得我这个社会上当然会有人非非常多人说, 有些人就是没有选择权的, 但是我觉得你这个其实不是在帮他们说话, 而是在帮他们抹杀自己的这种可能性。 我觉得说这种话对事情于事无补。你这样说了, 会让他们听起来舒服一些, 但是接下来呢, 你就其实相当于抹杀他们, 所有的可能性和能动性了。这个社会当然也存在着各种各样的可能性, 被剥夺的情况, 结构性的压迫, 种种的问题。阶级越底层的人, 被剥夺的可能性越多, 选择的权利越少, 但是我觉得即使是那个最羸弱, 最羸弱的人, 依然有选择的权利。我觉得我身为来自中国非常非常贫穷乡村的女性, 我没有各种各样的优越性，也能够意识到无论如何, 我都依然拥有选择权。（润去荷兰，制作播客影响更多的人）所以我想就通过我这个案例来跟大家说一声, 就是每一个人都拥有，无论任何情况都依然拥有选择权, 不论你的阶级, 不论你掌握的社会资产的多寡, 无论你社会支撑的资源有多少, 呃任何的绝境下, 你都依然有选择权。我觉得最后最后最夸张最夸张, 最夸张的一句话是, 我们依然有选择死亡的权利, 不是吗？选择死亡, 我觉得也是一种结束有限游戏的方式。即使是到最后, 我觉得如果我们最后甚至都愿意去选择死, 来对抗这一切了, 那就是向死而生, 我们其实会以获得更多的勇气去选择去做其他事情, 去争取在活着的时候还可以自由选择的权利。 在一个人不接受传统生活方式时，他就拥有了无限的可能性。 持续的去创造无限游戏，去创造惊喜, 而不是重复。无限游戏的目标并非获胜, 而是继续玩下去。 中国人的一生就是：生了孩子就好了, 孩子上小学就好了, 然后考上大学就好了, 工作了就好了, 退休了就好了。死了。这也是东亚人剧本性的一生。但是传奇性的一生, 就是要靠不重复这些主流故事、主流叙事，不加入这些有限游戏来达成的。我觉得其实我们每个人都要想一想, 我来到这个世上来一遭到底是干什么, 是为了贡献, 这个无数的这样重复的剧本中的一个小小的npc, 还是说我要开启我人生自己的剧本, 开创一个传奇性的故事。我也是因为接触到了这个剧本的概念, 我才认识到了一个问题, 就是, 为什么我们生活中所面临的问题大都相同, 就是无论你是作为学生还是你作为一个妈妈, 你作为一个打工人, 我们都是在演绎已经被写好的剧本。对, 只要是你还在这个有限游戏中扮演这些角色, 你们面临的问题大抵相同。你也不要指望着说别人给你一些建议, 就能够缓解你现在实际的痛苦。你唯一能做的就是打破这个循环, 就是不再继续履行这样的角色。 我觉得他甚至都不是想要的太多了, 是他想要的太少了, 他能想到的东西实在太少了。 我觉得其实这个社会上大部分的人, 不是因为欲壑难填, 不是因为欲望太多, 而是因为欲望太少, 就是对真正好的东西没有欲望, 甚至没有想象, 所以才造成了现在这个结果。她说既要达到自己暂不结婚的目的，又想要让父母开心。是在于他不想打破这个规则, 他也不想要违背权威。他在遵循的是另外一种道德, 这种道德是对现有规则秩序的忠诚性, 她在尊重这个有限游戏的规则。 就是我觉得一个人不能说, 我既要有些游戏的勋章, 我又要无限游戏的自由, 因为有限游戏给你的就是认可和勋章, 让你觉得继续进行下去也挺好的。 你如果觉得我就是想参与有限游戏, 就是想在有限游戏里面赢, 我幸不幸福, 快不快乐不重要, 我就是想赢。那你就好好参与有限游戏, 去追求有些游戏玩家的认同和认可, 千万不要到无线游戏的玩家里面, 来寻求认同和认可。否则你就会特别特别的拧巴, 会加剧你的痛苦, 你最后还会怀疑你在有限游戏中赢得的一切是否值得, 那你最后一回顾自己的一生, 就会觉得无比的荒诞和可笑。 警惕优秀的陷阱和美德的陷阱, 这是因为女性更加的容易不辜负周围人的期望, 这是女性的美德之一, 优秀的学生也会有这样的美德之一。但是上野千鹤子认为, 比起不辜负周围人的期待, 更加应该坚持自我的问题意识, 即便他不能为你带来什么。 科举制的意义并不是为了要选出状元, 而是要让所有的读书人都去参加科举。 就是他给大家创造了一个有限游戏, 让这个社会最聪明的头脑, 去做这种无意义的有限游戏, 那这个统治是不是就很好的可以进行下去了。所以科举制度是维护统治的工具。让所有人都知道我去参加这个有限游戏, 我去写八股文, 那么我就能获得勋章, 获得头衔, 那这个世界上最最聪明的头脑, 就不会想着去反抗，就会一直服从统治。我觉得大家要警惕所有给你头衔和勋章的有限游戏, 他就是想引诱你去服从统治。考公考编也是一样, 就是这个社会出一笔钱, 让这个社会最优秀的头脑去服从统治, 别想着去搞其他事情。 天天出一些官样文章, 出一些最无聊的八股文章, 这样你就没有时间去搞其他的事情了。这样你们终生的天赋都被浪费在这里了, 所以我的统治才能继续进行下去。kpi考核等职场制度也是一样, 磨损大家的情绪和感受, 然后让大家下了班之后, 啥也不想干。 我们现在的工作里面, 有很大一部分做的事情是屎上雕花。如果我们思维不保持抵抗的话呢, 你就会沉浸在这件事情里面, 你还会琢磨出花来。屎就是屎，不要去屎上雕花。因为你一旦在屎上雕花, 你还会有成就感, 你会继续做各种各样不同的工作, 来遮蔽自己。你就是还要花更多时间在这里面, 你还总结出经验技巧方法这些东西，你还会觉得哇我获得了成长。达到要求就别管了，不要沉浸其中，甚至沾沾自喜于假想的意义与价值。 为什么我会这么的有力量感, 力量感的来源是什么？第一个就是我身上有这种反抗精神。就是我意识到你这是个垃圾了, 我就不会把我的时间精力投入给你, 然后我也不会从创造垃圾中获得自豪感。服从是很消极的行为, 你不需要付出什么, 你就是服从就可以了。但是反抗是一个积极的行为, 因为他是经过深思熟虑之后, 对强大力量进行的反击, 他需要你集中内在的资源, 而且你还要把它付诸为行动。所以你这个就是反抗这个行为不仅是有信念, 不仅是有行动, 而且还有高昂的精神成本，你也在这里能够感受到非常强的力量感。因为你如果没有足够强的力量感, 你是没有办法反抗的。我觉得还有另外一个点是你反抗, 你才会感受到自己原来有如此强大的力量感啊。然后另外一部分的力量感的来源, 我觉得就是持续的去探索新的可能性, 你只要意识到你的生活还有路可走, 而且那些无限游戏的可能性, 要比有线游戏的可能性好800倍的时候, 你就会特别特别的有力量。就是你在追求更高的更好的自由, 然后给自己打开无限的边界的时候, 就你觉得人生无比的辽阔, 然后人生也可以过得又沸腾, 又火热, 又激情昂扬的时候, 你就会真的有这种力量感。 我觉得在勇敢、真诚、善良这些美德中, 其实勇气是最重要的。勇字当头, 就是你如果没有勇气, 你根本没有办法践行自己的道德准则, 根本没有办法维护自己, 说自己善良。 因为你根本没有勇气说不, 你怎么说自己是真诚和善良的一个人呢, 我觉得不可能的。 另外一点我觉得非常非常关键的是, 就是大家要相信一句话, 就是you have nothing to lose。大部分时间大家不是没有勇气做这件事情, 是因为大家觉得自己是既得利益者, 自己还从游戏规则里获得了一些东西, 在被这个有限游戏的规则所保护着，自己一旦反抗, 这些东西就没有了。 但是大家疫情3年其实就可以看到, 就是任何人都可以轻易的剥夺走你所有的一切，言论自由甚至行动自由。你只有觉得, you have nothing to lose, 我没有什么可以失去的，那些东西全是沉没成本, 我觉得我们才有勇气不糊弄自己。 我前些天还发了一条推特, 就说女性主义没有其他的标准, 和学历和背景都没有关系, 唯一的一条准则就是你有勇气不糊弄自己。女性其实更容易去符合社会的规则, 去满足他人的期待, 去从事有限游戏。但是其实我也觉得女性更容易走出有限游戏，因为有限游戏恰恰是压迫她们最深的东西, 恰恰是剥夺他们最多的东西。她们在有限游戏中, 才是没有办法获得什么东西的人, 她们才是have nothing to lose的人群。但是无限游戏相反, 则可以给予他们自由和可能性, 而男性则容易泥足深陷于这种有限游戏, 因为他们正是这种有限游戏的既得利益者, 大家可能会觉得, 我们女性在这个社会上没有获得什么, 我们是弱势群体, 但是其实大家作为underrepresented groups（代表性不足群体，通常包括女性、少数族裔、性少数群体等）, 就是恰恰是没有获得什么东西的群体, 才更容易走出这种有限游戏的遮蔽, 实现真正的无限游戏的可能性。 任何一个你不喜欢却又离不开的地方, 任何一个你不喜欢又摆脱不了的生活都是监狱。 如果在身边找不到同路人, 那就是地方不对, 你要去应该去的地方。 我觉得对于中国或者是东亚人, 对于衰老极度的恐惧, 其实就是一个有限游戏 巨大的产物。就是你的人生每一个节点, 你但凡晚一步，你就完了，你就是一个失败的角色。大家都有这种巨大的恐惧和害怕。前两天还看到一个故事, 就是一个女孩说上学的时候, 父母不允许自己谈恋爱, 一毕业父母就要求自己赶紧生孩子。这个转变可能就是在一夕之间, 但是他就要求你严格按照他们设置的议程来过你的人生。你一旦晚于任何一步, 你比如说你30岁没有结婚, 那你就是大龄剩女。这个社会就给大家加了无穷无尽的恐惧, 大家如此的害怕衰老, 是用各种各样的医美护肤, 所有的这些东西去让自己显得年轻。我觉得最本质的问题就是有限游戏。然而，无限游戏的参与者既不年轻也不年老, 因为他并不生活在别人的世界里，因此无线游戏参与者的时间是没有外在尺度的, 对于无限游戏的参与者来说, 时间并不流逝, 时间的每一瞬间都是一个开始。 所有的进步都来自于非理性的人, 和那些具有创造力的, 不愿适应世界的人。 在书籍《你当像鸟飞向你的山》(educated)中谈到了一个园丁式人生的概念。我们东亚人的人生, 总有一种打卡完成式人生的感觉，就是我终于把这个事搞完了。就是我考试考完了, 我所有的知识都可以全部忘掉，就是我所有的事情都以考试为为导向, 我学到的知识不是重要的, 我考完试拿到高分才是重要的, 我把大学结束才是重要的, 我能找到一份工作才是重要的, 生下来一个孩子才是重要的。过程不重要, 我从这个过程里面获得了什么不重要, 结果才是重要的。 我成为一个人生赢家, 成为一个名校毕业呃, 高薪工作啊, 有车有房, 有老婆, 有孩子, 有有丈夫, 有孩子的, 这样的结果才是重要的。但是它里面提到一个花园的概念。花园不是结果导向的一次成功的收割, 并不是花园存在的终结, 而是他的一个阶段。 所有园丁都知道, 花园的生命力并不伴随着一次收割而结束, 它只是呈现出另外一副面貌。花园在冬天并不是死去, 而是静静地等待下一个季节。园丁们歌颂多样化, 与众不同以及自发性, 他们知道, 风格的丰富多彩是有利于生命力焕发的。比如土壤的有机物越复杂及变化的来源越多, 它就越丰饶生长, 促进生长。文化也是一样, 无限游戏的参与者明白, 一种文化的活力是来源于其多样性, 其内部的各种差异直接相关的。一个人身上的特异性与惊奇性, 并不会对另外一个人产生压制, 你身上的天才会激发我身上的天才, 那些四处寻找差异的人, 那些将大地视为本源的人, 那些赞美别人身上天才的人, 那些准备好一切, 无所畏惧, 等待惊喜的人, 都是园丁那样的人。 我当时一直觉得, 这个园丁跟中国语境里面的园丁可太不一样了。中国语境里面的园丁, 那可就是什么蜡炬成灰泪始干，就是无止境的牺牲和奉献。园丁就是要把所有的东西都修的齐齐的, 让所有的孩子都一致, 让所有的孩子都服从, 这才是一个好园丁。我觉得我们在东亚社会里面, 就有一个非常恐怖的一件事情, 就是我看到和我不一样的人, 我会感受到恐惧，我有一个强烈的动力, 想把他变成和我一样的人, 想让他按照我的样子去生长。 就比如说像我语速快这件事情, 可能我们在做播客的这些这2年里面, 我可能收到了上千条的辱骂。 我们无法通过反对别人来获得自由, 我的自由并不归功于你的自由的丧失。因为其实有限游戏基本上是一个零和游戏, 就是我赢了你就输了, 你得到了a我就得不到a, 所以这是一个零和游戏。然后我觉得这个社会就是有一个强烈的、鼓动女性彼此去竞争的雌性文化。就是让女性去争夺非常有限的这个男权社会丢下来的一小块资源。他们非常乐见其成的看女性去彼此争斗，例如化妆和装扮自己。然后我就想起, 杨紫琼在获得金球奖最佳女主的时候，她旁边的另外一位女性朋友Jamie Lee在旁边激动地为她Hype（振臂高呼）。Ins博主@erin.gallag.her写到：“2023年，女性之间的氛围应当如是：彼此Hype！这个世界曾经兜售过我们一个谎言（它让女性之间充满无谓的敌视和雌竞）。但是其它女性的成功并不减损我的成就。其它女性的胜利并不导致我的失利。其它女性的欢愉并不会偷走那些本属于我的欢愉。解除这个我们被构造规训的思维定势：其它女性是你的敌手。这是一个陷阱，用来迷惑我们，并让我们彼此压制。找到那个为你欢呼的Jamie，为她们的Jamie欢呼，成为那个为女性欢呼的Jamie。我觉得这个其实就是女性开创无限游戏的来源。如果我们女性一直限于这种, 你得到了a我就得不到a, 你身上有好的一点, 我就觉得我一定要攻击你, 让你对你身上的那个特点感到不自信, 让你变成和我一样的人。我觉得那我们女性永远没有机会, 冲破整个男权社会的藩篱, 获得我们自己真正的自由。 由于有限游戏旨在达成一个结果, 由于他的角色已经写好, 并且是在为观众表演, 因此我们应该把有限游戏看作演戏。 山的那边是海, 海的那边是无限的可能, 祝大家都能脱离束缚去迎接无限的可能。 特别提示一下大家, 这位给我们投稿者的女性, 她的相关的救助的经历还是比较幸运的，但是如果有志于从事慈善行业, 我觉得一定要特别特别警醒：就是首先你应该是出于自己, 而不是出于被号召, 被宣传去投入这项事业。一定要想清楚, 千万不要被一些宏大的叙事所感染。 文化是无限的游戏, 文化无边界, 在一个文化中, 所有人都能成为参与者。无论任何时间, 任何地点，越轨之所以被禁止, 原因很简单, 因为如果社会成员不遵守社会固有规则, 那么规则的数量将会变化, 其中一些规则将会被彻底抛弃, 这将意味着过去的获胜者无法继续保证自己对自身头衔的认可, 从而失去权力。 然而越轨却是文化的本质, 谁要是仅仅追随剧本, 亦步亦趋, 重复过去, 那么就是文化上的赤贫者。我觉得为什么最近韩国电影能够就是在文化上, 在各种问题上, 他就能够百花齐放, 能呈现出丰富的可能性, 我觉得最根本最根本的一点是： 他们允许电影实时的对社会作出回应, 实时的挑战社会的规则, 实时的对富人发出嘲讽, 对独裁者发出嘲讽。前几天柏林电影节上, 一位导演说了这样的一句话：“电影代表了整个社会, 如果一个政府想要摧毁一个地方, 他们要做的第一件事就是摧毁电影, 因为电影离观众很近, 他和观众有着密切的联系, 如果你想为自由而战, 你首先要做的就是支持电影”。我觉得与此同理, 大家应当支持电影, 应当支持播客, 应当支持脱口秀, 应当支持书的出版, 应当支持一切话可以被说出口的权利。这个其实就是文化的多样性, 否则我觉得我们不仅将成为文化上的赤贫者, 而且我们将生生世世成为这个统治的奴隶。 《有限游戏与无限游戏》书里的第一句话就说, 世上至少有两种游戏, 一种是有线游戏, 以另外一种是无线游戏, 有线游戏以取胜为目的, 而无限游戏以延续游戏为目的。书中最后一句是说, 世上有且只有一种无限游戏。美团创始人王兴对此说道：“实际上只有一个无限游戏，那就是你的人生，死亡是不可逾越的边界。与之相比，其他的边界并不是那么重要了。” 我觉得一个在玩无限游戏的人, 应该也是一个一直在思考的人。然后我其实最深的感受就是, 我发现我不选择主流路径, 结果呢非但没有受损, 反而更加自由。我觉得这是一个可能对大家来说, 听起来更有吸引力的一个方式吧, 就是最后大家想象的那些可怕的结果并没有发生, 反而迎来了更加自由, 更加丰富, 更加辽阔, 更加富饶的生活。我觉得我自身的经历就是一个非常好的案例。 这个世界上真正在倡导无限游戏、开拓发明无限游戏的人是非常非常有限的, 但是愿意参与无线游戏的玩家是很多的，这也是需要巨大的勇气动力的。我觉得大家只要愿意去参与无限游戏, 我觉得这无线游戏的玩家就会越来越多, 然后我们能获得的可能性就会非常多。 仇凤仙：民工暮年 一席｜仇凤仙：民工暮年 正面连接｜如此打工30年 仇凤仙教授一席演讲视频——民工暮年 标题：76.1%的农民工60岁后不愿回家休息，他们要一直像精卫鸟一样去衔石、去挣钱 在北上广深谈农民工，他们是“流动人口”或“外来人口”；而在安徽谈农民工，他们就是我的父亲母亲、兄弟姐妹。 2023.5.27 南京 我叫仇凤仙，来自安徽师范大学社会工作与社会学系，我关注的是农村社会学和农村流动人口。 我是从安徽农村走出来的。当我们在北上广深谈农民工，他们往往只是被称作“流动人口”或“外来人口”；而在安徽谈农民工问题，他们就是我的父亲母亲、兄弟姐妹，或者是熟悉的邻居。 当我从乡村走出来，而今又回到乡村的时候，当年最早外出流动的农民工们已经开始走入暮年。所以从2015年起，我开始重点关注农民工问题，尤其是第一代农民工的生计问题。 通常在学术意义上，第一代农民工是指在上世纪70年代以前出生，并且在80年代中后期外出务工的农民群体。这一部分人的特殊之处在于，他们的经历和中国社会改革开放的历程几乎同步，换句话说，他们见证了我们国家社会改革的历史。 谈到第一代农民工，一个关键词就是户籍制度。1958年，《中华人民共和国户口登记条例》出台（1958年1月9日全国人民代表大会常务委员会通过），正是这个制度第一次把人口分为城和乡两个管理区域。 在这样的管理体制之下，农民被束缚在土地上，失去了自由流动的权利。而且这个制度的发展应该说是造成今天城乡分野的重要推动力量。很多社会政策和社会福利体制都依附在户籍之上，也就造成了一系列流动人口问题。 1978年后，改革开放开始，农村实行“大包干”，也就是土地承包制度。农民从土地上获得了一些释放和自由，有了些许的流动权利。私营企业发展也使得城市有了用工需求，于是农民就有了一定机会和空间进入城市。 当我开始系统关注第一代农民工，首先是和我最熟悉的父亲、兄弟姐妹和邻里聊他们的现状和未来。紧接着我开始在城市里主动寻找第一代农民工，在马路上，在工厂里，在路边的小饭店……只要遇见他们，我就会上去和他们聊一聊。 在反复聊天的过程中，他们有三句话最典型，实质上反映了身处暮年的第一代农民工在务工历程中的最大诉求和最大问题： 年纪大了，我往哪里去？ 一旦生病，我的将来靠谁？ 不能打工了，我将来怎么办？ 围绕这三句话，我访谈了200多位农民工，并设计了一套含有70个问题的问卷，发放2500份。在整理质性资料和数据资料的过程中，第一代农民工的群体形象和生命过程就像在暗房里洗胶片一样慢慢地清晰起来。 第一代农民工的年龄多集中在46到50岁，占比43.2%。访谈对象里年龄最大的农民工72岁，从事护理工作；还有一位72岁的阿姨在从事小区保洁工作。他们的务工生命历程非常长，在外务工21年以上的占到了41.2%。 那么第一代农民工当初为什么要出去？像我们的访谈对象周大哥，58岁，家里有6口人，只有5亩田，年年种田，年年欠债，没有任何其他收入，“不出去，真是穷死了”。他在外面辛辛苦苦地干了三年之后，学会了瓦工活，工资从每天5元、7元、12元涨到了每天30元，比在家里面种地强太多了。1995年农村人口的收入是每月200块钱左右，在外务工的他有约500块钱的收入。 在巨大的经济对比之下，农民工开始大量向外流动，进入城市寻求生计机会，这就形成了1988年的民工潮，百万移民下珠江。 大量人口涌入城市，带来了城市的管理压力和秩序问题。所以1989年国务院会同民政部、公安部，出台了各项严格限制农民工进城流动的相关政策，严禁农民盲目流动。（相关政策：《关于严格控制农民工外出的紧急通知》和《关于做好进一步控制民工盲目外流的通知》）因此，外出获得生计支持的门又慢慢地关上，农民收入直线下降。当时的农民工刚刚在外面有了改善自身生活、提升家庭生活质量的希望，又开始变得渺茫。 到了1992年，农民的收入已经很低，增速也非常低，国家为了提升农民收入，又开始把进入城市的门慢慢地打开了一点，“鼓励、引导和实行宏观调控下的有序流动“。农民对生计需求强烈，只要有一丝的光线，有一丝的缝隙，他们就会向外走。这就造成了1993年、1994年连续的农村人口外出流动大潮。 到90年代中期，城市经济体制改革全面铺开，股份制改革带来了大量下岗。为保障下岗和失业工人的再就业，从国家到城市层面又开始关上农民工流入城市的途径，很多地方政府通过了招工只招本市户籍的政策，令农民工在城市里面几乎无立足之地，他们只能停留在城市最边缘的市场中最低的工作岗位。 在我的调研过程中，农民工的职业分布也明显体现了这点，大家可以看到他们大部分集中在建筑工地，有些建筑工地上有90% 都是第一代农民工。还有的做餐厅服务员、保安、个体户，在工厂里做技术工人的农民工占到18.9%。 在城市的挤压之下，农民工进入城市的道路和生计机会非常坎坷。我在合肥人才市场遇到了62岁的李大哥，他已经超过退休年龄了。当时他一脸愁苦和落寞。因为他年龄大了，很多企业都不要他，他挤不上去，就在那里呆呆地看着别人。 我问他，现在的工作怎么样，难不难找？他一肚子的苦水，尤其说了一句话让我印象很深，“人老了不值钱”。 现在找工作和年轻时候找工作一样难！我们那个时候出去打工，那不是你说出去就能出去的，你找不到门路，没有人带出去，那你也不敢出去。在城里面找不到活，也没有住的地方，那只能在人家屋檐下，桥洞里面住，自己带被子，有被子盖能将就一下，但熬不了多长时间。找不到活还得贴钱，跑一圈再回来。 ——李大哥，62岁 没有工作机会，他们不得不游离于城市和农村之间，像一块橡皮泥一样不停地被城市挤压。他们的生计机会断断续续，一旦城市有风吹草动，农民工就马上回家。城市感冒，农民工先吃药。 在30年的流动过程中，城市给他们的除了一身伤病之外，可能没有更多的记忆。 在学术界关注农民工的健康问题之前，媒体就开始关注了。2009年，《南方周末》深度报道了万州矽肺工人的维权之路，他们在维权的路上逐一死去。这篇文章到现在我一直在反复地看。同年，河南农民工张海超开胸验肺。这些报道都激起了社会对农民工健康问题的极大关注，也冲破了很多人的认知底线。 大部分第一代农民工从事高强度、高风险、高污染、低收入的“三高一低”工作，他们的健康问题虽然不具有尘肺病人的典型性，但是更具有日常生活的普遍性。 从他们的个体生命历程能够看到“弱势累积”的形成过程。像何大哥今年才55岁，当我看到他的时候，他头发花白、腰半弓着，在家里的小菜地里面，拿着铁耙子在耙拉着地，因为他已经几乎失去了劳动能力，不能干太多体力活。 我是90年代初到广东打工的，在路边扛大包，帮人卸货扛到公司去，一个大包有100多斤，扛一个给10块钱。有次我没准备好，车上人就把大包递给我，我的腰当时就闪了，疼得汗珠都下来了，还是咬牙把大包扛到仓库去了。那个时候哪里有钱去医院看啊，就是抹点药。从那以后腰就使不上劲了。年龄越大，疼得就越厉害，你看我现在腰都直不起来，走路总弓着腰，就是那个时候给压坏的。现在胳膊也疼，不能抬太高，去医院看过一次，说是肌肉劳损，都是干活干的啊。 ——何大哥，55岁 扛一个100多斤的大包只给10块钱。为了多挣钱他要尽可能多地扛大包，在工作中扭伤了腰，没有及时治疗。由于一直从事高损耗性的重体力工作，他的胳膊长期疼痛，不能抬太高或提重物。 他去医院看，医生给开的“良方”就是休息，不要干活。但是作为农民工，他有休息的权利吗？没有，只能继续强撑病体干活。 另一位张大哥57岁，他从事的是和尘肺病高度相关的水泥搅拌和搬运工作。 我是96年跟着人去上海浦东干活，一天就10元钱，干的活又重，一个月能挣300元钱就是好的。家里处处都要钱，钱不够花啊。年轻时候仗着身体好，拼命加班，白天活结束后，晚上有活就干，比白天挣钱多些。天天挥着铲子，胳膊都肿了；天天被水泥呛着，咳嗽，也没管。现在就落下这个肺气肿毛病，喘得厉害，右胳膊也不能提重东西。现在我什么也不能干了，一走路就喘得厉害，走几步就要歇歇。 ——张大哥，57岁 用他的话说，年轻的时候仗着自己身体好，只要有挣钱的机会绝不放过，白天活干完了，晚上有活继续干。因为晚上算加班，给的钱可能多个三五块，那已经是很好的机会了。 年轻时这样拼命，年老后给他留下的是哮喘。我遇见他的时候，他弯着腰，走两步就停下来喘。虽然他还达不到尘肺病的职业病认定标准，但也几乎失去了继续劳动的能力。 我的问卷里有一个问题，你有没有体检过？有64.8%的第一代农民工回答“从来没有参加过任何体检”。我再问，你生病后在务工地看过几次病？63.4%的农民工从来没有在务工所在地看过一次病，没有获得及时而有效的医疗待遇。 没有去看病，那你怎么处理的？最多的就是“能忍则忍，自己买药处理”，占到了58.5%，比如腰受伤了，自己去买膏药贴一贴，躺一躺。去正规大医院看病的仅占11.9%，还有一部分选择回家看病。 我们可以看到，第一代农民工的健康问题，一方面固然是由于他们“三高一低”的工作性质造成的慢性的弱势累积，但是还有一个重要的问题，就是医疗服务的不可及性。 为什么会这样呢？杜大哥说出了一个缘由，我听他说这些话时特别心酸： 我们基本上有点伤痛都不回家，回家麻烦、耽误挣钱，来回坐车远还要花钱。就在工地那边的乡村医院，小诊所，镇上的，没有去过县级医院。不敢去外面的大医院看。那大医院一进去就心慌，俺不是怕什么大病，就是不知道要花多少钱，我就怕自己挣的这一点钱都要扔在医院里面。 ——杜大哥，55岁 而项大姐让我们看到了第一代农民工另外一个辛酸之处，她就请了一天假去看病，等她回来的时候，有人顶上来，人家不要她了。他们敢请假去看几天病吗？回来很可能就没有工作了。 有的病不是当时要命的，我也不看，我一直拖到年底回家才看，中间要回家看病不仅要来回车费还耽误干活，俺们农村人耽误不起。一般情况下不敢请病假，有回请了一天假去看病，等我回去干活的时候，人家就不要我了。说是，有人顶上来了，唉…… ——项大姐，64岁 我们再说说和钱相关的，就是新型农村合作医疗保险政策。新农合是属地化报销和管理，这是跟户籍制度挂钩的；而农民工具有很高的流动性，不可能在一个地方务工，所以这样一种高流动性和属地化、固定化的管理，就产生了高度的相悖。 周大哥正是因为不敢到上海的大医院去看病，在小诊所里受到不正规的治疗，耽误了病情，等到很严重的时候才赶到大医院。医生检查之后告诉他，你得了红斑狼疮，赶紧回家把家里东西拆伙拆伙，能卖的东西先卖一部分，在家里治病，在这里你看不起。 我得这个病已经有10来年了，现在肾脏也不太好，我每个月都要去医院治疗一次。只能在省内治，省内报销率约为50%。要是去大城市看病，只能报销20% – 30%的费用，那看不起啊。费用还都靠孩子们凑钱了，要不只能等死了。 ——周大哥，64岁 从安徽省宿州市新农合政策报销的政策规定里面，大家可以看到两个关键数据，一是住院的起付线，从乡镇、县、市，到省和省外的起付线标准是呈上升趋势的。另一个数据是报销比例，你越向外走，报销的比例越低。 在乡镇看病，报销比例可以达到95%，到了省外，报销比例降低到50%左右。而且很多药品和医疗服务不在医保范围之内，所以实际的报销比例更低，可能在30%左右。 所以，属地化报销原则最大程度上限制了第一代农民工在外流动过程中及时获得所需的医疗服务。 第一代农民工的健康问题到老年以后会放大。本来人的身体机能就在向下走，再加上长期的弱势累积，他们年老后往何处去？ 关于养老问题，我们每个人都说我60岁以后就可以退休了，而对于大部分第一代农民工而言，他们没有这样的能力，也没有明确的预期。他们的概念里没有“退休”这样一个词汇。 张大姐说，我们哪有什么退休，你是农村人，你就是干活的命。 其实退休都是城里人的叫法，像他们60岁就可以拿养老金退休金呀，我们又没有买过什么五险一金。60岁对于我们而言意义其实也不是特别大。上了60岁身体肯定是差点儿了，但是也还是干得起一些体力活儿的。 ——张大姐，64岁 所以我们的问卷里还有一个问题，你打算什么时候停止工作？选择“干到干不动为止”的占到了60.7%。我们提供的备选年龄段其实是很高的，大家没有选择66到70岁，而是选择干到干不动为止。还有76.1%的农民工说60岁不回家休息。 看到这样的结果我很心酸，他们要一直像精卫鸟一样去衔石、去挣钱。 关于养老规划，他们存了多少钱？本来我以为他们在外务工20多年的历程中总能攒一些钱，虽然我知道他们存钱不多，但是当数据出来的时候，我还是非常诧异。15.2%的第一代农民工没有存过一分钱，存不下来钱；存款在5万元以下的占55.2%。 他们打工那么多年，钱到哪里去了？都用在家庭的发展，儿女的结婚、教育，还有买房子上了。用陈大姐的话说，什么都没有这个事大，自己身体的疼就先忍着吧，反正也没什么大病，真有大病也治不好。 我有两个儿子，一个儿子结婚了，差不多把家里的钱全部掏空喽，要盖个新房子，新娘家还要十万元彩礼。小儿子也28了，还没有对象，再找不到，就怕要打一辈子光棍了。我们在外面拼命挣钱，准备买房子，给他找对象结婚啊，他一天不结婚，我们就一天没有好日子过。什么事情都没有这个事情大，多攒点钱，就能早给他买个房子找对象结婚。自己身体这个疼那个疼的，就先扛着呗。反正也没有什么大病，真有大病了也看不好，那就等死了。 ——陈大姐，56岁 所以我们的第一代农民工在面临家庭发展和自身健康诉求的时候，他们一步一步地向后退，至于退到哪里，真的看不到边。 第一代农民工在外务工的所有资产几乎在孩子的结婚、买房、教育上全部清零。他们真正为自己打工，基本都在55岁以后。 很多人会问，农村不是还有新型农村社会养老保险吗？那么我们来看一下新农保能不能为他们晚年提供足够的身体保障。 从数据中可以看到，参加新农保的有65%，没有参加新农保的有26.2%，参加职工养老保险和自己购买商业保险的，加起来比例不到10%。 在参加新农保的农民工当中，缴费比例在每年100到350元这个档次的占69.4%。缴满15年可以领取养老金，那我们就可以算一算他们60岁以后能领多少钱。 我的访谈对象周大哥从2012年开始缴新农保，还有4年就缴满15年了，我给他算了一笔账，算完之后他傻眼了——他现在账户里面有2600元，按照养老金的计发办法，60岁退休之后他每月只能拿到40块钱的养老金。加上国家普惠性的基础养老金140到150块钱，他最后拿到手的可能是190块钱。 这190块钱够他们生存吗？我觉得要打一个大大的问号。 所以建筑工地对60岁农民工的“清退令”是致命的，把第一代农民工几乎唯一可能的生计又堵上了。 他们为什么非要到建筑工地去？因为即使是60岁左右的第一代农民工，在建筑工地每天基本可以拿到300元左右的工资。如果这一扇门给关了，他们到社区去做保洁或服务员的日工资是60到80块钱。 对于第一代农民工来说，快速地存钱、存更多钱是他们迫切的需求，但是现在这样的机会又在慢慢地稀缺。 但和我们认知不一样的是，第一代农民工在务工历程中经历了这么多困苦，他们大部分对时代还心怀感恩。他们并没有过多渲染自己的困难，而是感谢这个时代给了他们外出务工的机会，让他们有工作、有收入，让他们更有安全感。 做农民工研究的这些年，我经常面对面地倾听他们的故事，而且我自己的父母和兄弟姐妹也是第一代农民工，所以我常常会动容，在组织材料或写文章的时候其实很难保持学术上的价值中立。 作为第一代农民工的兄弟姐妹和子女，我要感谢我们家祖坟上冒了一股青烟，因为我考上了大学。如果没有考上大学，我现在百分之百是千千万万第一代农民工中的一员。所以对于第一代农民工的关注和共情，应该是另外一个自我的本性使然。 非常感谢接受访谈的诸多第一代农民工毫无保留地分享他们的生命历程和迷思。也感谢在此研究中给与帮助和支持的同学们和来自社会的包容与关心。 谢谢大家。 仇老师与团队关于第一代农民工及农村老人的专著： 《第一代农民工可持续生计研究》 《倾听暮年：李村老人日常生活实践研究》 正面连接｜如此打工30年 一席｜仇凤仙：民工暮年 正面连接｜如此打工30年 个人奋斗有用吗？在发了2500份问卷、访谈了200人之后，调研最终显示，努力并不能真正改变他们的处境，决定命运的主要是社会因素。 我家小区的保洁老赵，来北京打工了23年，60岁时却没法退休。他未来的养老金每月只有100多元，因此打算打工到70岁为止。 他这代农民工，也是我国“第一代农民工”，生于70年代前，在八九十年代进城打工，不少人务工超过30年。但这8600万余人到晚年，情况和老赵大致相同。 老赵是河南驻马店人，2000年来到北京，那年他32岁，看过门，做过绿化，2007年来到我们小区做保安。如此又过了10年，49岁了，还没攒够钱结婚，一个人住在冬天没暖气、夏天潮湿发霉的10平米地下室。 我知道这些，是因为我当时在报社实习，需要出一篇农民工的稿子，而老赵是离我最近的农民工。 “我7年没有休假，一天工作10小时，一个月2700。这不是我一个人的情况，大家都是这样的。”临走他叮嘱，“这几句话你千万不能删”。 不止这几句，关于老赵的整个部分都被删掉了，原因是“负能量”。老赵不符合我们对于农民工生活的美好愿景，但这个人群的实际处境，比我们能想到的还要更糟。 安徽师范大学的副教授仇凤仙做了一项研究。她发了2500份问卷，访谈了200人，想知道第一代农民工老去后如何维生。我在报告的字里行间看到了无数老赵—— 当我们热议“延迟退休”，担心60岁不能休息，他们中60.7%只能“干到干不动为止”； 当城市老人每月平均能领到3000元退休金，他们的养老金只有一两百元； 他们都打工超过15年，但到了晚年，一半以上的存款还不到5万元； 他们挣到钱都寄回家里，供孩子上学，但结果，下一代阶层跨越不到20%。 我们更容易忽视的一点是，他们既是工人，也是老人。他们在本该退休的年纪不得不继续努力工作，但结果是，他们既得不到老年生活所承诺他们的，譬如天伦之乐和医疗保障，也得不到工人应有的回报和尊严。 1993到2005，全国城镇职工的月工资提高了1260元，而农民工的增长幅度是：68元。 他们并非不努力，但调研最终显示，努力并不能真正改变命运。仇凤仙最后用“社会脆弱性”来描述他们的处境，即这是一个时代性问题，深受社会排斥性政策的影响，远非个人能决定。 他们的困境，和今天很多人面临的困境惊人地相似，这或许是一个社会中，弱者们常见的命运。 “退休”不存在 现实中的老赵，已经整整两年没有领到过一分钱工资了。4年后，小区取消了保安岗位，于是他就转去做保洁，不料又过3个月，保洁岗位也不给发钱了。 老赵仍然在坚持给小区做保洁，他每天早6点来清理两个垃圾桶，7点垃圾站开门时“永远第一个到”，然后回去清扫6栋楼。为了挣出饭钱，收垃圾时他自己分类去卖废品，每月能卖出600多元。 “你可以不做，但以前的钱他都不给你咋整呢？”他说要耗到拿回工资。 他不是没考虑过劳动仲裁，那是在他没领到工资的第21个月，但他不知道仲裁需要合同，而这份14年的工作从来都没有劳动合同。 因此，这份工作的状态，处在一个薛定谔猫的状态，如果最后他能领到工资，它就是，如果领不到，那就不是。但在老赵眼里，这个“工作”仍然“来之不易”，因为他已经55岁了，在劳务市场，这个年龄只能去做更不稳定的日结工。由于“清退令”的出台，他即将连去工地搬砖也失去资格——政策严禁60岁以上的农民工再进入工地。 老赵不是孤例，站在60岁前后这个坎上，好多农民工为了能有份工作，想尽了办法。 为了在上海工地上找一份工作，一位64岁的农民工办了张假身份证，把年龄改小7岁，结果刚上工两天，就在检查时被抓获。他被罚500元，拘留了1天。 也是在上海，一位49岁的保洁员想跳槽，但总因年龄被拒。她也花300元办假证，把年龄改小11岁，最后被行政拘留5天。 即便工作难找，即便冒风险，第一代农民工大都不打算退休。接受调研的农民工里，76.1%决定60岁以后继续在城市里打工。 他们并不具备退休享福的条件。城市里的老人有养老金保底，平均每月3000元，在第一代农民工群体里，这个数字不到300元。即便如此微薄，也只有65%的人可以领到。 他们中的大部分人，在年轻时顾不上考虑晚年，只能把工资用在当下。2009年养老金政策出台，35%的人不相信或不理解这项政策如何与自己的未来有关，于是没有参保。他们60岁后只能领基础养老金，每月仅100多元。 参保的人也很少能搞明白养老金是“多缴多得”的。一位45岁工人已缴了11年养老金，但其实一直按低档缴费，60岁后每月只能领195元。他在得知这个数字后问，这有什么用？第二句：我交了这么多年，为什么一个月就拿这点钱？ 为了领到较高的养老金（每月600-700元），一位女工需要在60岁时一次性补齐此前15年的保险费，共8万元。她凑不出这笔钱。她每月只挣几千元。“都让我交养老保险，我吃什么呢？”她决定放弃，继续做环卫工人。 这些农民工也没有什么存款。接受调研的的人里，接近一半（41.22%）打工超过20年，但是超过一半（55.2%）存款不到5万元。 他们只能继续工作。但市场和政策限制，却让他们随年龄增长，越来越挣不到钱。 50来岁的农民工还可以在建筑工地上找到日薪300元的活儿。虽然“一天不能坐”，有人喊一声让拎泥桶、搬木头，就要立刻去帮忙，很多人还会自愿加班多挣些钱。一位山东56岁的工人最多一天干14小时，有时加班一整夜，第二天白天还能继续干。 当年纪超过60岁，他们连挣这份辛苦钱也失去资格。近两年，各地出台“清退令”，严禁60岁以上的农民工再进入建筑工地。他们只能转去做绿化、保洁、仓库管理员，薪水不到工地上的1/3。 再超过70岁，他们在城市几无生路了。一位农民工71岁被迫回乡，在村里帮忙盖房子，工钱一天100元。75岁时，一家劳务中介下乡招保洁员，工资一天110元。虽然只多10元，他还是去了，69岁的老伴刚做完胆结石手术3个月，好在也能干活，两人收入加一起就有200多元。 从此他带着老伴，每天早6点坐1小时车进城，到一处工地上倒垃圾、扫地，下午4点再坐车回乡，一周干7天。他说：“能动是福气，不能动就可怜了。” 工作、收入被时代限定 努力也存不下钱 第一代农民工大多在80年中期、90年代初进城打工。他们最能挣钱的青壮年时代，恰好是城市发展最快的三十年。但时代红利为什么没给他们带来好处？他们打工半辈子，为什么还是没能存下钱？ 我们来看看这三四十年间发生了什么： 改革开放后的80年代，第一代农民工开始进城，在1989年创造了第一次“民工潮”。同年，各地开始清退农民工。 1990年，北京要求清退25万人，所有单位、企业都要每月填表报进度。那时，“民工潮”冲击了城市管理，同时城市正面临下岗潮，城里人也要再就业。农民工成了城市的“麻烦”。 三四年后，市场经济体制逐渐确立，城市需要大量廉价劳动力，他们又被允许进城了。两三年后，他们再一次遭清退，因为城市又面临大规模下岗。 但他们不懂政策，不知道自己被“清退”过，只知道有天被开除后就很难再找到活。一位89年开始外出务工的农民工记得，找不到活，他就在桥洞住了一个月，自己带被子。 90年代末到20年代初，城市对农民工可以参与的工种也有限制—— 在上海，全市三类工作中，只有一类“允许考虑”使用外地劳动力，前提是招不满本地人； 在北京，全市8个行业、103个工种，都不许雇用外地劳动力； 在青岛，市属企业每招一个外地人，还要交50块钱； 他们甚至无法像后来的农民工那样进入工厂做流水线（很多工厂也仅限本地户籍），他们能做的都是本地人不愿干的，建筑业和人力装卸。这些活很多是“黑工”，他们中21%遭遇过欠薪等权益侵害。 涨薪更无从提起。在改革带来红利的12年，1993到2005，珠三角地区的农民工月工资只提高了68元（而全国城镇职工平均提高了1260元）。考虑到通货膨胀，相当于他们在黄金年龄段，一直被降薪。 第一代农民工的遭遇与城市发展息息相关，但他们总是处在被动之中。城市需要了，就吸纳他们，不需要了，就清退他们。他们在自己的青壮年时期，始终无法连续、稳定地工作，一直在城乡间来回摇摆。 近20年来，赚钱的机会多了，但他们也老了，竞争不过年轻工人；同时他们还要负担孩子的教育、房子、婚礼，仅存的一点钱也要掏空了。 钱都给了孩子 结果下一代阶层跨越不到20% 也不能说老赵一无所有。他在北京打工23年，存了20万，高于调研中90%的人。但这基于一个特殊原因，与多数受访者不同，老赵没有子女。 第一代农民工花钱最多的排序，第一名基本都是子女的婚姻和教育。 在北方农村，孩子结婚的开销在30到50万。儿子结婚这一年，一位农民工全年打工收入7万元，支出却高达32万元。他不得不借钱。 事后他们再还全部的债。因为女方通常要求“婚后不还债”。安徽一对夫妇有3个儿子，为前两个结婚已耗尽存款，也无钱可借了，只好给三媳妇打欠条，许诺盖房钱。此后夫妻俩一起外出捡破烂，10年没回家，只源源不断给小儿子汇钱。 他们的孩子会把钱花在自己身上，孙辈会努力成为城市人，但第一代农民工还在坚持为家庭输血。2009年的一项调研显示，在广东，65%—70%的新生代农民工把收入用于个人消费，但80%—90%的第一代农民工还在把工资汇回家。 为了能稳定供给家庭，第一代农民工会主动放弃个人发展的机会——比如先投些钱，就可能做个小包工头——因为他们不敢冒险，怕失败了会倾家荡产。他们也会放弃为自己储蓄。要到60岁，完成对子代的任务了，才开始为自己攒钱。 他们把希望寄托在下一代身上，想让他们不再重复打工的命运。 但结果，他们的孩子大部分初高中就辍学了，读到大专及以上的不到20%。63.5%的孩子成为了下一代农民工。进入党政机关、事业单位的仅5.1%，自己创业的仅2.9%。 与第一代农民工对应，他们的孩子或许可以被称为第一代留守儿童。这两代人都没有什么选择，父母为了生计只能外出务工，孩子也不得不留守农村。访谈中聊到孩子，第一代农民工大都说自己认了命，“孩子不是读书的料”。 研究显示，由于缺乏父母的引导和情感支持，留守儿童在学业上处于劣势。一项基于3500人的调研显示，比起同龄人，留守儿童长大后更难适应高强度的异化劳动。在深圳“干一天玩三天”的“三和大神”，过着一种“三抛”的生活——抛弃家庭，抛弃社会，最后抛弃自己——他们中很多都是第一代农民工的孩子。 像一种循环，他们的孩子在生子后，也进入了父辈的模式。很多人为孩子上学在县城买房，但自己又只能在大城市打工，于是孩子成为又一代留守儿童。 一位农民工A曾尝试打破这种循环。他1989年到上海干工地，1991年孩子出生。为避免留守，他让孩子小学二年级就到上海上学，每年5000元借读费，“抵普通人家三四个小孩”，交完就攒不下一点钱。但在孩子初二时，他得知外地户籍不能在上海中高考，只好让孩子独自回老家。 最开始，他觉得六七年的上海生活，还是让孩子和老家的同龄人不一样，但这种区别没能维持多久，“他自己在家没人管，学的好坏我们也不知道”。 他的孩子后来大专毕业，去常州打工，再后来有了自己的孩子，这个家庭的第三代，又被送回安徽农村留守。 因为那些年交了借读费，A没有存款，没买房，2020年疫情爆发后回到家乡，临走时最后一份工还欠他4万元不给。他也不懂养老保险要“多缴多得”，将来每月只能领200多元。访谈时他56岁，在芜湖开了一个小门脸收垃圾。他说，自己打工了30多年，但最后好像和那些一直在村里的人，也没什么差别。 不能看病，伤病只能随打工累积 第一代农民工中最年轻的也有50多岁了，他们面临所有老年人共同的看病问题。不同于城市老年人日常出入医院开药，他们极少看病。 一位芜湖的大厦保洁员为了看病失去了工作。她只请了一天假，等回去干活时，公司就不要她了，说有人顶上了。 从此她再不敢请病假。她64岁，腿脚不便，每天要负责把6层楼拖两遍，还要做其他区域的保洁。她月工资1800元。访谈时她正在拖地，每拖一层，都要停下来喘气。但她说没办法，只要不是当时要命的病，她都会拖到年底回家才去看。 调研中，对于最担心的问题，61.4%的第一代农民工认为是“身体健康”，但—— 仅有35%曾参加过体检； 63.4%在务工地城市看病0次； 58%的人都“能忍则忍”，仅有11.8%选择去当地大医院看病。 在第一代农民工外出务工的八九十年代，农村还没有任何医疗保险，看病是“裸奔”状态，多数人不愿把辛苦挣来的钱用于医疗。 2010年新农合（新型农村合作医疗）基本覆盖全国，但不能异地携带。他们打工时生了病，必须先回户籍所在地的医院，确认不能诊治，办转诊手续，再回打工地看病才能报销，但还要自己先垫钱。 他们看病要么自费，要么回老家报销，但要承担路费、时间成本、失业的风险。 但当问到对新农合的态度，他们中一半以上选择“满意”，说这很好了，从前看病都不给报销。他们只跟过去的自己比，却不会横向比，因为他们不知道城市里医疗报销比例有多高。 不论病痛还是看病难，他们都选择忍受。职业伤害给他们造成的腰酸背痛，远比城市老人更严重，但他们不会像城市老人一样去做按摩、理疗、针灸，只忍着，贴虎皮膏药。 他们认为去医院没用，因为没法遵医嘱。一位50多岁的女工因长期干活，手腕形成囊肿后不能弯曲，还很疼。医生建议她回家休息，说这就是干活累的，不能再干了。可是她觉得，不让她干活她就没法活。 问题随时间不断累积，到晚年，他们看上去普遍比实际年龄老十多岁，身体各部位疼痛，一些人还患有工作环境污染引起的尘肺病、红斑狼疮……相比工作超过10年的人，工作不到5年的人自评“健康”的概率高44.7%，即打工越久，身体可能越差。 一位农民工年轻时做的是扛包的工作，一个大包100多斤，扛一个挣10块钱，他一天要扛十几个，不时闪到腰，疼得直掉汗。访谈时他54岁，已直不起腰，胳膊也抬不高了，医院诊断是肌肉劳损。 另一位做了很多年铲水泥的工作，昼夜都接单，天天被水泥呛得咳嗽。50岁，他开始不时感觉喘不上气，但没去看病也不请假，“自己歇歇就能干了”，几年后越喘越厉害，到医院确诊了肺气肿。 访谈时他57岁，一走路就喘得厉害，走几步就要歇歇，返乡在家，什么都不能干了。“听说这个病哪里也治不好”，他就不治了，只天天吃消炎药，还是孩子在淘宝上给买的。“实在憋得不行了，我就去医院吊两天水。” 仇凤仙觉得，对于第一代农民工，城市留给他们最深的痕迹可能就是健康问题，“他们带着一身伤病，回到乡村，回到那个原点，但那个原点已经不是当时那个原点了”。 个人奋斗有用吗？ 一些词语经常被用来形容第一代农民工群体，“小农意识”、穷人思维，似乎他们是被自己的头脑限制住了，无法过上更好的生活。 他们可能确实缺乏魄力和开拓性，不敢投资、把握不住机会，但这并不是他们生活艰辛的原因，而是结果。他们没有存款，没有保险，也没有家庭的支持，自然不愿冒险。仇凤仙觉得，是社会排斥造成了他们没有抗风险能力，却把责任转嫁给农民自身。 在调研之前，仇凤仙曾预设这些农民工的命运，和社会因素、个人因素都有关。经过问卷和访谈，她发现，这些人的个人情况都差不多。绝大多数人初中都没有读完（83.85%）、没学过技能（67.4%），家里贫困到没钱支持他们在城里摆摊，也没有人脉。 他们并非不努力。直到60岁退休年龄之后，他们依然谋求打工的机会。工地进不去，他们就去做日结工，凌晨4点在路边等招工的面包车。但是努力好像是无用的。 仇凤仙最后在报告中，用“社会脆弱性”来描述他们面临的困境，即他们的处境和未来是一个时代性问题，深受社会政策的排斥性影响，不是个人能决定的。 被遗忘的一代人 人们很难真的理解第一代农民工的处境。仇凤仙曾在一篇文章中呼吁，要给农村老人多提供好的工作机会。一位专家批评她“没有人文情怀”，认为应该让老人休息。仇凤仙觉得，这其实是不了解农村。不让他们工作，谁来负担他们的生活开支呢？ 他们没有意识和能力为自己发声，争取权利。他们没有学历，不会运用媒体，只会忍受。访谈中他们很少抱怨累，只会说“哪有活不累呢”；身体坏了，他们也觉得正常，“一辈子干活，怎么可能还有好身体呢”。问他们将来有什么打算，他们说“看世道走”，意思是看这个时代会怎么发展。最后他们默默回到家乡。 仇凤仙1979年生，父亲、哥哥、妹妹都外出打过工，“我要是出去，我就是第一代农民工。”后来她成了家里唯一上大学的人。她的妹妹比她小几岁，16岁外出打工，挣钱给她交学费。2003年仇凤仙大学毕业，去上海一个工地看妹妹和妹夫，工地上没有夫妻房，他们俩和十来个人一起住一个大工棚，只用木板隔出一个单独的房间。成为学者后，她本能地想关注第一代农民工。 开始调研后，她发现他们很渴望倾诉。只要问了一个人，马上会有一堆人围上来，大家七嘴八舌，她甚至很难单独跟一个人访谈。他们讲自己找不到工作、没钱回家，要么再加上家人生病，问题几乎都一样。 他们说，这些事没法跟家人讲，没出来的亲人听不懂；也没法跟工友讲，总换地方打工，其实很难有朋友；他们更不可能跟城里人讲，尽管这些人真正有替他们发声的渠道——一位农民工长年在工地，那其实是个和城市隔绝的封闭空间，他说一直不清楚城里人在过什么样的生活，最近刷抖音才看见。 他们也确实正在一步步离开我们的视野，从我们虽不熟悉，但尚有概念的工地，渐渐退到我们更不会看到、想到的地方。 他们也许会退到你的小区，拖楼道的地、擦电梯；也可能退到你工作的大厦旁，平整楼前的草地、浇花草。但你每天进进出出也不会留意到他们。 你甚至不会像路过工地时一样，好歹能联想起他们共同的身份。他们老去后像是一块石被碾成碎渣，又被风吹到城市的各个角落，于是你不再能看到石头。 仇凤仙曾悲观地想，“农民工老去后怎么办”可能永远不会进入城市人的头脑。一个人是农村人，老了就回到农村，似乎是天经地义。只有细究了他们的每一点付出和代价才会想到，他们和城市人一样在城市工作一生，最后却一无所有，这并不正常。 参考资料： 仇凤仙. 第一代农民工可持续生计研究. 2023 包小忠. 刘易斯模型与 “民工荒”[J]. 经济学家, 2005, 4: 55-60. 江立华. 论城市农民工的平等竞争权问题[J]. 华中师范大学学报: 人文社会科学版, 2002, 41(4): 10-13. 汪建华, 黄斌欢. 留守经历与新工人的工作流动——农民工生产体制如何使自身面临困境[J]. 社会杂志, 2014, 34(5): 88-104. 官媒在抗战时期谈民主自由 为什么在网上一说民主自由就会被很多人围攻？ 1、《新华日报》1941年6月2日 统制思想，以求安于一尊;箝制言论，以使莫敢予毒，这是中国过去专制时代的愚民政策，这是欧洲中古黑暗时代的现象，这是法西斯主义的办法，这是促使文化的倒退，决不适于今日民主的世界，尤不适于必须力求进步的中国…言论出版的自由，是民主政治的基本要件，没有言论出版的自由便不可能有真正的民主，不民主便不能团结统一，不能争取胜利，不能建国，也不能在战后的世界中享受永久和平的幸福…新闻自由，是民主的标帜;没有新闻自由，便没有真正的民主。反之，民主自由是新闻自由的基础，没有政治的民主而要得到 真正的新闻自由，决不可能。 2、《新华日报》1944年5月16日 我们认为最重要的先决条件有三个：一是保障人民的民主自由;二是开放党禁;三是实行地方自治。人民的自由和权利很多，但目前全国人民最迫切需要的自由，是人身居住的自由，是集会结社的自由，是言论出版的自由。 3、《解放日报》1941年10月28日 关于人口素质不够的问题,共产党说过,不应因人民素质不高而拒绝民主,应用民主政治教育人民。 解放区的直选,是用各种豆子代表候选人,在候选人背后的碗里面投豆子的,所有一切都公开在露天举行.现在的素质,比那时候好很多吧.他们以为中 国实现民主政治，不是今天的事，而是若干年以后的事，他们希望中国人民知识与教育程度提高到欧美资产阶级民主国家那样，再来实现民主政治…正是在民主制度之下更容易教育和训练民众。 4、《新华日报》1939年2月25日 要彻底地、充分地、有效地实行普选制，使人民能在实际上，享有“普通“、“平等“的选举权、被选举权，则必须如中山先生所说，在选举以前，“保障各地方团体及人民有选举之自由，有提出议案及宣传、讨论之自由。“也就是“确定人民有集会、结社、言论、出版的完全自由权。“否则，所谓选举权，仍不过是纸上的权利罢了。 5、《新华日报》1944年2月2日 愚民政策虽然造成了沙漠，却绝难征服民心。 6、《新华日报》1945年1月18日 英国人民把言论、集会、身体等自由作为民主政治的基础而加以无比重视，从美国方面也同样表现出来。上引赫尔国务卿自称一生为这目标奋斗力争的正是这个东西。“平等“与“自由“为什么被民主国家这样重视，重视到认为没有这就无从谈民主政治呢?这是很简单的。国父孙中山先生曾经说：“提倡人民权利，便是公天下的道理。公天下和家天下的道理是相反的;天下为公，人人的权利都是很平的;到了家天下，人人的权利便有不平，……所以对外族打不平，便要提倡民族主义。对于国内打不平，便要提倡民权主义“。英美民主政治所重视的平等，正是这一含义…假如至今英美仍不准人民有平等的权利，那末怎样能够谈得到民主、怎样能够实现民治呢?说到“自由“也是一样，如果连人民言论、集会、身体的自由都不允许，则民治从何谈起?…… 英国没有成文宪法，但是英国人民有平等有自由，所以虽没有宪法也是民主国家。由此看来，民主政治的主要标志是人民有自由平等的权利…民主的潮流 正在汹涌，现在是民权的时代，人民应有言论、出版、集会、结社和身体的自由是真理，实现民主政治是真理，真理是要胜利的，所以高举民主的大旗奋斗着的世界和中国? 7、《新华日报》1944年3月30日 年青的民主的美国，曾经产生过华盛顿、杰弗逊、林肯、威尔逊，也产生过在这一次世界大战中领导反法西斯战争的民主领袖罗斯福。这些伟大的公民们 有一个传统的特点，就是民主，就是为多数的人民争取自由和民主。美国现在是反法西斯战争中联合国四大主要国之一，担负了彻底消灭法西斯、消灭侵略、建立世 界永久和平安全的重大责任，从美国的革命历史，从美国人民爱好民主自由的传统精神，从美国人民的真正利益，我们深信美国将继续罗斯福的民主政策，不会忽视世界各处，尤其是中国人民的声音，人民的要求。 8、《新华日报》1945年7月4日 民主颂–献给美国的独立纪念日：从年幼的时候起，我们就觉得美国是个特别可亲的国家。我们相信，这该不单因为她没有强占过中国的土地，她也没对 中国发动过侵略性的战争;更基本地说，中国人对美国的好感，是发源于从美国国民性中发散出来的民主的风度，博大的心怀…但是，在这一切之前，之上，美国在民主政治上对落后的中国做了一个示范的先驱，教育了中国人学习华盛顿、学习林肯，学习杰弗逊，使我们懂得了建立一个民主自由的中国需要大胆、公正、诚实。 9、《新华日报》1943年7月4日 杰斐逊的民主精神孕育了两个世纪以来的美国民主政治，杰斐逊的民主精神也推进和教育了整个人类的历史行进。 10、《新华日报》1944年10月3日 我们尊重幷且愿意接受美国朋友善意的批评和建议，正如我们对孤立主义提出批评，应受到尊重一样，这也是从彼此激励互求进步以加强两国人民的合作出发的。我们丝毫也不心存疑惧，认为美国朋友的批评是对中国内政的干涉。 11、《新华日报》1944年3月15日 如何使青年的思想和行动能有正当的发展……可分两种，一种是主张思想统制。这就是说，把一定范围以内的思想，灌输给青年，对于这种思想是没有怀疑和选择的余地的。另一种主张是思想自由。只有自觉和自愿，才能产生心悦诚服的信仰，和惊天动地的创造活动。一般民众都是如此，青年尤其是这样。如果走相反的道路，则结果都是十分可悲的。有许多事实说明在强迫注入的训练之下，青年感到很大的痛苦…这种办法是必须改正的。我们主张思想应当是自由的。 12、《新华日报》1945年3月31日 作统治者的喉舌，看起来象自由了，但那自由也只限于豪奴、恶仆应得的“自由“，超出范围就是不行的。也就是说 你尽可以有吆喝奴隶–人民大众的自由，但对主子则必需奉命唯谨的，毕恭毕敬，半点也不敢自由。 13、《新华日报》1946年9月1日 要真正做到出版自由，必须彻底废除现行检查办法。 14、《解放日报》1942年4月23日 可见民主和言论自由，实在是分不开的。我们应当把民主国先进的好例，作为我们实现民主的榜样。 15、《新华日报》1945年4月13日 一个平凡而又不平凡的新闻：据说美国在马绍尔战场协助土人实行民主，让他们自己选举行政官。这是很平凡的事：从民主的美国来说，正应当如此。这也是不平凡的事：从不民主或尚未民主的国家来看，觉得新奇、觉得刺耳、觉得不平凡。 16、《新华日报》1944年4月19日 像林肯总统和罗斯福总统那样的民主的政治生活中产生的领袖，是虽在战时也一点不害怕民主制度的巡行的。他们不害怕民主的批评和指责，他们不害怕人民公意的渲泄，他们也不害怕足以影响他们的地位的全民的选举。他们不仅不害怕这些民.主制度，而且他们坚决地维护支持这些民主制度。因此他们才被人民选中了，是大家所需要的人。 17、《新华日报》1943年9月15日社论 二十年来，尤其是最近几年，我们天天见的是“只许州官放火，不许百姓点灯。“政府所颁布的法令，其是否为人民着想，姑置不论。最使人愤慨的是连这样的法，政府幷未遵守。政府天天要人民守法，而政府自己却天天违法。这样的作风，和民主二字相距十万八千里!所以民主云云者是真是假，我们卑之无甚高论，第一步先看政府所发的那些空头民主支票究竟兑现了百分之几?如果已经写在白纸上的黑字尚不能兑现，还有什么话可说?所以在政治协商会议开会以前，我们先要请把那些诺言来兑现，从这一点起码应做的小事上，望政府示人民以大信。 18、《新华日报》1939年2月25日 限制自由、镇压人民，完全是日德意法西斯的一脉真传，无论如何贴金绘彩，也没法让吃过自由果实的人士，尝出一点民主的甜味的。 19、《新华日报》1946年11月17日 而民主与不民主的尺度，主要地要看人民的人权、政权、财权及其它自由权利是不是得到切实的保障，不做到这点，根本就谈不到民主…保证一切抗日人 民(地主、资本家、农民、工人等)的人权、政权、财权及言论、出版、集会、结社、信仰、居住、迁移之自由权…中国共产党一向是忠实于它对人民的诺言的，一向是言行一致的，因此它的纲领中的每一条文与每一句语，都是兑现的。我们决不空谈保障人权，而是要尊重人类崇高的感情与向上发展的愿望。 慕容雪村演讲: 我们只向真理低头 慕容雪村 @ 2011-9-18 17:56 按：前两天中央民族大学外国语学院请我为2011级新生做了次入学演讲，这是讲稿。因为时间关系，有些话未能在现场讲。 郭英剑院长让我在这里讲几句话，我想他也许找错人了，因为我不是什么成功人士，收不到激励人心之效。按这个时代公认的标准，成功人士就是要有很多钱，住很大的房子，开很大的车子，如果你是女的，脖子上要戴条几十斤的链子；如果你是男，身边要带个女的，女的脖子上要戴条几十斤的链子。这些东西我一样也没有，我是个作家，照大多数人的理解，作家这种东西有三个特点：一是穷，二是脏，三是骚。有些青春文学作家穷倒不穷，但后两个特点依然还保留着。就我所见，“作家”这个词跟落魄、潦倒有很大关系，跟二奶和二奶的链子屁关系也没有。我唯一的成就，就是出过几本书，有人觉得还行，有人觉得这纯粹是浪费木材，所以今天站在这里，我自己都有点羞愧，因为我不是什么好榜样。但最后，我还是鼓足勇气站了上来，原因只有一个：我想你们也许需要听一点不同的声音，不同于这时代的主流价值观，不教你发财，也不教你成功，只是几个简单的祝福，祝你正直，祝你聪明，祝你活在某种文明之中，而不是只为了一堆臭钱活着。 19年前，我和你们一样，背着大包小裹，告别故乡来北京读大学。几天之后，系里请了一位长相猥琐、穿着米黄色西装的家伙给我们做入学演讲，我那时比较单纯，也就是傻，在交流环节举手提问：老师，你认为我们大学四年应当怎样度过？这位老师反问：你想听真话还是听假话？我说听真话，他说，如果要听真话，那你就要好好学习马列主义、毛泽东思想、邓小平理论（那时还没有三个代表和科学发展观），奋发图强，好好学习，天天向上，当学生干部，入党，力争做一个对国家、对人民、对社会都有贡献的有用人才。我又问：那假话呢？他说：如果要听假话，我劝你别问这种傻问题了。生活应当怎么过，哪有什么标准答案？生活不是你自己的吗？干吗要听别人的？要我说，大学四年就该率性而活，喝喝酒，跳跳舞，谈谈恋爱，如果你喝完酒、跳完舞、特别是谈完恋爱之后还有多余的精力，那不妨读读书学学文化。我也不劝你贡献国家社会，不，你首先应该对自己有所贡献，其次贡献家人，再次贡献亲戚朋友，最后才轮得到国家和社会。你也不一定要做个有用的人，“有用”是一个特别糟糕的词儿，它简单粗暴，把人当成某种东西。你不是一根木头，不应该考虑自己能打人还是能做劈柴，你有知觉、能感受，是个有血有肉的活人，万物的“有用”都为你而设，你只需要去感受这种幸福，但你自己不应该有用。 按照某种正统的观念，这位老师就要算是误人子弟，我本是好人家的孩子，有着大好的前途，可以当律师、商人或者煤老板，就算当不上，至少也能活得抖擞，就像励志书里写的，每天起来数一遍口袋里的钞票，然后贼心不死地冲向更多的钞票。可是被他一番误导，我不幸地走上了邪路。我本是好人家的孩子，最后居然成了一名作家。19年后，当我想起这几句所谓的假话，我必须承认，它对我的一生至关重要。也就是从那时起，我渐渐明白了一个道理：我首先是个人，其次才是我的社会担当；我首先是我自己，其次才是别的什么。 这是最简单的道理，但可悲的是，许多人至死都不明白。21世纪的中国有许多特产，最显著的有三种：第一是麻将，第二是阴谋诡计，第三就是形形色色的官。如果把这些官全部关到笼子里，肯定比北京动物园要有趣得多。这些官，人们称呼他张局长、李书记，然后他就会活在局长、当书记的自豪感中，全然忘了自己首先是个人，其次才是个官。还有那些野蛮的拆迁队员，那些毒打小贩的城管，大概都是忘记了这个：他们首先是个人，其次才是城管。还有一类人无以名之，只能叫“大义灭亲者”，对这种人来说，如果他爸爸和公社的木头同时掉进水里，他选择去捞公社的木头，然后看着他爹淹死；如果在妈妈垂危和进京唱红歌之间选择，他选择唱红歌。这种人在我们的文化中一直称为英雄，我不反对，但我还是觉得他不是人。大学中也有这种现象，因为我们独特的国情，大学不可避免地被金钱和政治污然，变得臭气熏天。两年之后，你们中的某人会当上学生会主席，他本是好人家的孩子，当上主席之后就会变成另一个人，说话一套一套的，不过多半都是官腔；办事有板有眼的，不过多半都是表演，他有很多口头禅，包括“紧跟、狠抓、全面落实、团结一致”，好像被宣传部附体了，至少也是被校团委附体了。如果到那时，你还能记得我的话，你就可以这么想：当上个破主席，他就不是人了。 这是我的第一个祝福：祝你成为一个真正的人，不是革命的一块砖，也不是某架机器上的螺丝钉，既不是谁的羊，也不是谁的枪，你是你自己。你可以当局长、当书记，可你知道，那并非你的全部，只是你的一个头衔。你也可以加入某个组织，但不该无条件地属于它，甘心情愿做它的奴隶。你是一个人，万物之灵长，也是万物的尺度，你是自然造物中最为神奇的一种。你不必过于强求身外的财富，因为你已经是超级富翁了。想想看，如果做“人”需要指标，你要花多少钱才能买到这个指标？你生而为人，而且正在最好的时候，手里握着一件无价之宝，它闪亮、脆弱、如梦如幻，每个人只能拥有几年，这东西就是：青春。你考取了民族大学，说明你高考还算顺利，可是没必要过分自豪，因为在十八九年前，你曾经赢取过另一场更残酷的考试，那次有几亿对手，但你打赢了，所以才会成为今天的你。这本身就是个奇迹，不管你信不信，反正我信了。 在座的大多已经年满十八周岁，所以我的第二个祝福，就是祝你成为一个现代公民，不是古代的黔娄、黎庶、编户之氓，也不是所谓的“人民”之一。我们这个国叫人民共和国，许多机构都冠以人民二字，有人民代表大会、人民公安、人民法院、人民检察院、人民日报……连监狱都可以叫人民监狱，在这么多机构中，除了人民监狱和人民有点关系，其它的离人民都很远，人民代表基本上不能代表人民，人民公安基本上与人民为敌，人民的公仆基本上骑在人民头上，所以“人民”二字基本上就是个虚词，借用王小波先生的话，我们可以说：人民，你的名字叫沉默的大多数。但公民不同，身为公民，除了要和人民一样纳税，更应该知道自己的权利和义务。我希望你们到大学后第一件事就是读读《宪法》，那里规定了许多权利，有言论自由、出版自由、信仰自由、集会结社游行自由，这些自由都是你的，你自己的，不应该被随便夺走。如果有人夺走了，你就应该像个真正的公民那样，堂堂正正地去找他要回来。 与人民相对的，是君主；与公民相对的，是政府。身为公民，你应该认识到自己的责任，除了关心自己、家人和朋友，你还应该关心政府。政府应该是你投票选出来的，它的权力是你分给它的，就好比一个物业公司，因为你不想为了清洁、保安等事操心，所以花钱请人来做。政府就是你花钱请来的物业公司，它做得不好，你应该批评它，并且帮助它改正，如果它不肯改正，你甚至可以收回自己的权力，换一家公司。它做得好，你还是应该批评它，因为你想让它变得更好。 身为公民，你应该明白：爱国家不等于爱朝廷，更不等于爱皇上，中国历史上曾有过80多个王朝，它们兴，它们亡，中国还是中国。历史上还有过800多位皇帝，他们生，他们死，中国还是中国。你应该知道，“中国”这个词有三重含义：地理上的中国，文化和民族意义上的中国，以及中国政府。前两者都值得爱，后一个不值得，或者至少，你要看它做得好不好才决定是否爱它。 身为公民，你应该独立而清醒，不依附于任何人、任何机构，这国中有许多动人的口号、美丽的谎言，在电视中、广播中、报纸上，在随处可见的任何地方，但你已经年满十八周岁，不再是浑浑噩噩的高中生，那些美丽的童话听了笑笑即可，没必要当真。我们知道，这世上没什么东西是完美的，桃花源中也有灾荒，礼仪之邦也要收月饼税，再伟大的人也要上厕所，和你我一样；再大的官也要抠鼻孔、擦眼屎，和你我一样。古人说：人皆可为尧舜。我理解这话的意思，除了我们每个人都应该像尧舜那样，正直、勇敢、善良、勇于担当，它还表示，我们每个人都有资格成为尧舜那样的政府首脑，即使我们不屑去做，也不应该盲目崇拜他们，因为我们知道，尧舜除了权力大一些，其它和我们一样，他上厕所的时候，他抠鼻孔、擦眼屎的时候，和我们一样。 身为公民，你不再是国家的一份子，必须无条件地为国家牺牲。相反，这国家有你的一份子，如果把它分成14亿份，有一份属于你，你是14亿股东之一。它好，有你的一份，它不好，也有你的一份。你应该行使自己最重要的权利：投票、说话。如果你相信某人，可以投他的票，让他为你做事；如果你对他不满意，也可以把他选下去。如果你觉得政府不错，你可以选择说或不说，如果你觉它就是个混球，就应该大声地说出来。未经你授权，没有人可以代表你，不管他是班长、团支书，还是学生会主席，如果他这么干了，请你告诉他：对不起，你没有这个权利。如果他还坚持这么干，请你把他当成骗子。 我的第三个祝福，祝你成为合格的大学生。从古希腊至今，世上的大学都为同一个目的而建立，那就是真理。我母校的前校长江平先生讲过一句话：一生只向真理低头。我很想找人把这句话写下来，挂在我们家的正堂，如果可能，我更想把它挂在中国的每一所大学的门口。 60几年来，中国的大学多了一些东西，也少了一些东西。多出来的是一些办公室、一些牌匾、一些头衔、一些学生干部模样的人，少的东西就太多了，我曾经这样评论：现在的大学，学术越来越少，权术越来越多；风骨越来越少，媚骨越来越多；大师越来越少，大官越来越多；追求真理的越来越少，追求级别的越来越多；讲道理的越来越少，讲待遇的越来越多。你们知道，每年度都会有一个亚州大学的排名，香港大学、香港中文大学、香港科技大学每次都名列前茅，而国内最著名的大学，如清华和北大，似乎从来没挤进过前十名。香港以区区弹丸之地，竟然汇集了那么多优秀的大学，而我们有960万平方公里、14亿人口、几万亿外汇储备，为什么连一所像样的大学都建不起来？其中的原因很复杂，但也很简单，有些话可以说，有些话不能在这里说，希望各位可以深思。 当我们谈到真理这个词，必须明白：真理不为任何人、任何机构而存在，它就在那里，可以被发现，但永远不能被发明。真理这个词与金钱无关，与政治无关，与意识形态无关，与谁上台谁下台都无关，有些人一旦上台就迫不及待发明真理，这些所谓的“真理”，或许会传诵一时，但长久看来，必将成为历史的笑话。 中国有两种生活：一种是“吾爱真理，但更爱领导”，另一种相反，“吾爱领导，但吾更爱真理”，作为一名合格的大学生，你必须做出选择，而且应该站在真理一方。你可以尊敬领导，但应该更尊敬真理，在未来的日子，你或许会为了某种原因曲从于某些人、某些组织，但至少心里应该明白：真理是香的，而领导和组织只是闻起来香。 前些日子有大学教授宣称，如果他的学生毕业之后赚不到四千万，就不要回来见他。这就是中国大学衰落的原因。 前些日子曾有大学老师在课堂上讲过几句不合时宜的话，结果被学生举报，说他反党反社会主义。这是中国大学衰落的另一个原因。 我说过，真理是香的，而金钱就是臭的，至少没那么香。政治比钱更臭，特别是某种与人类为敌的政治，简直是臭不可闻。 做一名合格的大学生，你要有明辨是非的能力。大文豪萧伯纳写过一个剧本叫《巴巴拉少校》，剧中有个富二代叫斯蒂芬，和大多数中国的富二代差不多，这个斯蒂芬终日游手好闲，无所事事。有一天他爸爸教训他，说你天天这么游荡不行啊，一无所长，将来怎么办？斯蒂芬回答：我的长处在于能够明辨是非。他爸爸听到这话大为生气，说明辨是非是世上最难的事，科学家和哲学家终生思考，也未必能够得出什么结论。你这么一个东西，凭什么就能明辨是非？ 这话没错，明辨是非确实不容易。特别是在某些国家，有些人活一辈子也未必能够明白什么是对，什么是错。还有许多大学教授自己就很糊涂，比如北京大学那位著名的孔教授，按他的话说，北朝鲜是世界上最好的国度，金氏父子是世界上最伟大的政治家。为了嘉奖他的言行，我决定把他送到朝鲜去，据我所知，那里没有手机，没有互联网，还有三分之二的家庭在挨饿，希望孔教授可以在那里成功减肥。 身为21世纪的中国大学生，你应该明白，哪些话是对的，哪些则是混蛋话。对此有个基本判断：如果某个观点不介意与人讨论，也不怕被人质疑，它多半就是真的。如果某个观点宣称自己是唯一真理，并且拒绝讨论、拒绝批评，肯定就是混蛋话。这世上有许多书，有些书教人以智慧，有些书只会让人更愚蠢，包括我们的教科书，特别是与文史哲有关的部分，其中有三分之一是谎言，三分之一是广告，另外三分之一是被审核过的事实。对此也有个基本判断：在自然科学领域，我们只应该关心数字和定理那部分，比如北朝鲜的数学教科书：3个敬爱金日成大元帅的男孩，加上4个敬爱金日成大元帅的女孩，一共有几个孩子？标准答案是：7个敬爱金日成大元帅的孩子。对这样的问题，我们只应该记住3+4=7，至于尊不尊敬，那就去他妈的；在社会科学领域，我们知道，关于人类社会和历史，从来都有很多种解读方式，如果某种方式宣称自己是唯一真理，你就应该对之表示怀疑，并且尽可能地多读些书，多了解一些别的观点，然后回过头来验证其是否准确。 这也是明辨是非为什么困难的原因：如果长期只能听到一种声音，你就会被这种声音催眠，并且无条件地相信它、服从它，甚至崇拜它。我曾经在传销团伙卧底，深知其力量之大，也深知其邪恶。我最近读过一本描述北朝鲜的书，叫《我们最幸福》，据书中所记，北朝鲜此时正在经历饥荒，百万人饿死，百万人营养不良，可有些人依然相信，虽然我们很饿，可是中国人、韩国人比我们更饿；另外一些人则相信，我们之所以挨饿，是因为我们要把粮食省下来，等到朝鲜统一之时，好帮助那些比我们更饿的韩国人；而所有的人都相信：北朝鲜是世界上最好的国度，北朝鲜国民也是世界上最幸福的人。作为合格的大学生，你应该对此有所警惕，你可以身在朝鲜，但你的心、你的精神，应当在朝鲜之外。 做一名合格的大学生，你应该有一颗怀疑之心、一双苛刻的眼，还要有批判的精神。我们知道，世上的智慧都因怀疑而生，而在学术上，只有苛刻地审视，才可能接近真理。你应该为中华民族的文化感到自豪，我们有伟大的汉字，有伟大的中餐，有美丽的旗袍，最不可思议的是居然能发明出臭豆腐。可是你也必须看到，近一两百年来，中国人对科学、文学、艺术和学术几乎没什么贡献，我们输出的，除了廉价商品，依然是麻将、阴谋，以及形形色色西装革履的官员。有位德国导游长期接待中国官员，发现有两个地方是他们必去的，一是卡尔.马克思的故居，另一个就是德国的红灯区。这大概能够说明他们的精神世界有多么丰富，除了意识形态，居然还有剩下的东西：性。 30多年来中国建造了无数高楼，可是精神世界的高楼，连地基都没打好。我们最近常听到几个词：复兴、崛起、强大，事实上，一个民族的强大绝不仅是GDP的强大，更要看其在精神领域有多少发明创造。哲学家谢林评价歌德：只要他还活着，德意志就不会孤独，不会贫穷。而如果没有歌德这样的人，没有思想和艺术上的杰作，所谓复兴和崛起就只是一句空话，建再多高楼，修再多机场，也只不过是一片高楼与机场的荒漠而已。古人有一句话：天不生仲尼，万古如长夜。而事实上，自从孔子死后，或者更近一些，自从上个世纪的先贤们纷纷谢世之后，中国就迎来了一个学术上的寒冬，极为漫长，也极为孤独，长达半个多世纪。不过我们已经看到曙光了，因为有些人正在努力，也因为有在座的各位。 在座各位大多都是外地同学，在来北京的路上，你们已经见识了这个社会的一部分。我要说，你们很幸运，能够生在这个时代，几千年来，人类社会从没像现在这样繁荣，人类文明也从未像现在这样发达，你们享受着文明的成果，也希望你们能对文明做出贡献，大导演伯格曼曾经说过一段话：我的梦想就是古代的一个传说。大教堂倒塌了，人们聚集一处，建造了更为辉煌的教堂，教堂落成后，这些人就离开了，没人知道他们的名字。我的梦想就是成为他们中的一员。伯格曼说的教堂，其实就是人类的文明大厦，它之所以辉煌壮丽，是因为许多人都曾参与建造，而且有更多人正准备参与建造。 我还要说，你们很不幸，居然生在了这个时代，与地沟油、毒奶粉、躲猫猫和各种强拆、血拆为伍，你们听过许多丑闻、黑幕，你们知道一个词叫“潜规则”，它的核心内容是金钱、权力，甚至是性，在座的某人或许正准备身体力行之。最耀眼的可能就是最肮脏的，最纯洁的可能就是最龌龊的，这就是我们的世界。人们说：这是一个没有底线的世界，这话不对，这世界并非没有底线，它以你我为底线。如果你抱怨世界的败坏，请先问问自己：我能做些什么？我都做了些什么？我说过，这世界之所以变坏，往往是因为我们没去想怎样让它变好。如果你对这世界不满，也请你相信，有一个更好的世界就在不远之处，要到达那里，只需要我们每个人变好一点点。 太平天国时期，美国传教士密迪乐来到中国，他看到了战争、灾荒和种种匪夷所思的苦难，然后做出诊断：中国最需要的不是现代科技，而是基础文明。150年后，我们用上了IPHONE，听上了MP4，我们有全世界最快的互联网，可是我们最需要的，依然是那个东西：基础文明。所谓基础文明，指的就是契约精神、权利意识，还有对民主政治和个人自由的理解，这些东西现在称为普世价值，意思就是，每个人都该懂得，除非你还是个野蛮人。 在演讲的最后，我想讲一个朋友的故事。这位朋友曾经在一家单位供职，特别想当个部门经理，可领导就是不肯提拔他，这位朋友日夜为此烦恼。终于有一天，领导良心发现了，晋升的文件发到了这位朋友手里，他看了很久，突然有了一种醍醐灌顶的感觉，他问自己：难道我日思夜梦、孜孜以求的就是这么一张纸？这又有什么意思？想了一夜，他决定辞职，然后到丽江租了一个小院，在那里生活了整整一年。院中有一棵梨树，到梨树开花的时节，他就会搬一把躺椅，沏一壶茶，拿一本以前来不及读的书，喝两口茶，读几页书，有时会睡上一会儿，睡醒之后就会看见，雪白的梨花一朵朵落到他的书中。 很多年之后，在座的各位会有各种各样的造化，有的会成为高官，有的会成为巨富，有些人会成为大学者，一定也会有人早死。不管你活在哪一种人生中，你都会经历这样的时刻：觉得自己不够幸福，可是又不知如何改变。我想原因就在于少了这样的“梨花一瞬”，你需要一段悠闲的时间，去品茶，去读书，或者什么都不做，只需要一个黄昏，看梨花如何从身边飘落。这就是我开头的那句话：如果你想幸福，仅有钱是不够的，你需要活在某种文明之中。 投身历史的荒流，实现个人的价值 原创 叶立华 求实处 20210222 人的生活往往是孤立无援的。 人生大抵是这样，对普通人家的孩子来说，在命运转折的关键节点上，往往没有一个有丰富人生经验的人来告诉我们，应该做什么，应该用什么样的节奏做，以至于应该选择哪条路。 但岁月总是流逝的，时间并不会等人。迷茫，彷徨，还有挣扎，惊觉错过的时候，一切都晚了，所以老人常说一个词，醒悟。 醒悟，醒悟，醒过来后，就误了。 还是把目光往前拉吧，迷茫不是一代青年的底色，而是古往今来所有青年的底色。青年人们被历史的荒流所推动，自觉或者不自觉的，有选择或者没有选择的，便成为了耄耋。 社会总有一个总和的情绪，这总和的情绪，就是人民的意志。 从一八四零年以来，中国人的情绪便没有变过，珠江口的英国军舰给所谓天朝上国的统治者当头棒喝，我们落后了。 南京条约把中国变成了半殖民地半封建社会，苦郁就纠结在了每一代中国的青年人眉梢。1872年，输掉了第二次鸦片战争，愁云笼罩了中华大地，詹天佑那一代青年人在苦郁中搞起了师夷长技。1902年，输掉了甲午战争，三十年变法成为泡影，学技术已经救不了中国，鲁迅那一代青年人在苦郁中学起了西方文化。 1920年，打赢第一次世界大战，接下来的和谈让中国人明白了，弱国无外交，毛主席那一代人在苦郁中走向了不同的地方，有人去了法国，有人去了农村。1940年，侵华日军的铁蹄踏碎我大好河山，苦郁中的青年人，奔赴延安的红星。1969年，如何将红旗打到底的疑问到了每个人的心头，苦郁中的青年人向燕子一样，飞赴中国的广大农村，上山下乡。 国家不能像过去几千年一样，屹立于世界的东方，中华民族不能像过去的几千年一样，屹立于世界民族之林，身处荒流中的青年人，每一代青年人都摆脱不了这样的苦郁和焦虑，彷徨和迷茫。 破局的路总是有的。自一八四零以来，中国的各个阶级，各个团体，前赴后继，四万万人齐下泪，跑出了一条国家富强，民族复兴，人民幸福的接力赛。 我们不能说，黑暗不存在，黑暗一点没有。否定目前的不合理，把一切美化，这不是实事求是，这也不是唯物主义。几千年的封建社会，在中华大地上降下了沉沉暮霭，深邃的夜空里，星火总是要从少到多，从烟到焰，方能有彻底的光明。 依然在路上。 荒流总有前进的方向，人民用血肉给历史的荒流指出了方向。每一代投身到荒流中的青年，都成长为了巨人。 因此，青年择业，最前提性质的东西，就是选对方向。选方向的标准，就是三 个有利于。 是否有利于发展社会主义社会的生产力? 是否有利于增强社会主义国家的综合国力? 是否有利于提高人民的生活水平? 方向是为了国家的富强，民族的复兴，人民的幸福，可能暂时会吃一点亏，但前途必定是光明的。站在了这个荒流的对立面，纵然能一时痛快，汪精卫始终也没有走到最后。 1872的青年人们，实业救国，他们之中，产生了中国最早的资产阶级，他们的后人，仍然活跃在如今的商海。1902的青年人们，文化兴邦，他们之中，产生了中国近代的无数巨擘，他们的后人，依旧在文化领域举足轻重。1920的青年人们，缔造了人民共和国。1940的青年人们，是百废待兴时期的中流砥柱。1969的青年人们，出了老三届，出了如今的舵手，出了如今各行各业的掌舵人。 历史雄辩的证明了，投身于历史荒流的每一代年轻人，最后都成为了巨人。 方向这个大气候确定了，结合小气候，找到自己的路，就是重中之重。 小气候我在去年11月的时候，谈过了。在这里，复述如下: 首先，未来十年，世界安全形势会开始恶化。 苏联解体后的发展红利，已经被中美两国吞噬殆尽，想要进一步发展，如果新动能不能在未来十年内做出，科学技术不能取得突破性进展，那么，就要涉及到争夺资源。 这是我们未来十年要面对的局面，在过去三十年里，没有享受到发展红利的国家，早已经进入了这个阶段。那些享受了十几年红利就开始疲软的国家，就是前车。 事情最开始是从中东起来的，增长乏力的中东，从突尼斯燃起了颜色革命的熊熊烈火，蔓延到了利比亚，埃及，叙利亚，伊拉克。紧随其后，火焰向着南美肆虐，墨西哥的毒贩，委内瑞拉的两个政府，以及不堪一击的巴西。如今，这火焰烧到了非洲发展的明珠，埃塞俄比亚的内战爆发了。 在急剧恶化的世界安全环境下，美国人不得不因为内政而收缩，他们留下的战略空间，属于那些国内有矛盾，但尚有输出能力的地缘强国，以色列，土耳其，俄罗斯，伊朗，摩拳擦掌。世界安全形势的恶化，将以弱国的自爆和地区强国的扩张为主旋律。 一个稳定的安全环境，对于我们的发展至关重要，美国人退出的秩序，我们必须要填补，上海合作组织的曙光照到了东亚。 真理和贸易规则，只存在与坦克和军舰能开到的地方。 其次，未来五年，世界经济形势的变化，会以更加开放，更加自由，更加透明的方向为主。 谁都知道，非洲人民过不上美国人民的好生活，不是现如今生产不发达的问题。现如今的生产力，远胜于上世纪六七十年代，是分配规则的问题，导致了第三世界国家在国际经济链条中获得的收益最少。生产多而收入少，有效需求就会不足。有效需求不足，换句话说就是生产的过剩。 新冠肺炎的出现，客观起到了消灭财富的作用，也让危机的爆发获得了延缓。 在世界有效需求严重不足的情况下，为了避免全球性的大规模暴雷，获得延缓窗口的各国政府无一不会引导着水向特定池子中奔涌。有效需求不足，刻意制造一个池子，就能引导资金向着池子里走，而不是大水漫灌，大水漫灌的后果是各行各业的生产持续增长，这会进一步导致需求的相对不足。 而水向着一个池子里走，只会导致个别行业的生产过剩，这就为宏观调控提供了定向暴雷的出口。让风险变得可控。 所以，一个一个的盘被推高后，先进去的还能吃肉，同时诞生造富神话。这些造富神话，反过来可以作为典型，给底层希望，起到缓解社会压力的作用。后进去的只能接盘。 这是未来五年，我们要面对的局面。在过去十几年里，没有享受发展红利的国家，生活水平一直没有提高。出现在韩国日本到拉丁美洲的杀猪盘，主任我不再举例。 第三，未来五年，我国国内环境的变化，就是破局和适应。 未来五年，对外，面对一个只有靠坦克和军舰才能生存的安全环境，我们将逐步加强决战型海军的建设，同时，为了因对美国可能出现的战略风险，我们必将并加大核武库建设的力度。这是听不懂道义，畏威而不怀德的蛮夷能听懂的唯一语言。 对内，我们将建设更加开放、更加公平、更加包容的营商环境，吸引奔逃的外资，扶持本地真正做实业，而不是割韭菜的企业。在适当放水的同时，我们也会着重加大对科学技术研发的投入力度。 大小气候谈完，就该谈谈，孤立无援的青年人，要如何在荒流中自处。 从学生开始，就有了两条路的分化，一直深造，投身学术，进入高校，还是读书到一定阶段进入社会，是第一个分叉路口。 高校的就业市场有两条路，一条是做研究，一条是做行政。 如今的高校就业形势，不比以前，随着大学的扩招，青年研究人员面临着饱和的局面。 位于东部沿海的高等学校，由于地域原因，经济发达，生活便利，自然能够吸引大批人才。在就业市场上，整体较内陆和西部地区更为强势。因此，给青年研究人员的待遇，往往并不理想，他们要的人才，是已经做出一定成果的研究人员。这也决定了，青年人才进入学校，要熬很久才能出头。西部内陆的高校，由于经济社会原因，想要吸引人才，往往只能靠待遇。由于青年人才较少选择，因此，进入不久，便有独自挑大梁的机会。 学校层次越高，议价权也越高，道理是一样的。进入985的博士，往往只能在组里打工。但是，进入普通，双非学校的青年人才，往往能得到比985高校更好的资源和更打的重视。 行政人员，也是如此。如果选择了高校从业搞研究，要考量的，便是自己的学术能力。能力强，就可以去东部沿海的高校，就可以去层次高得高校，科研能力稍微差一点，更建议去西部和内陆的高校，更建议去层次不那么高的学校。 大学的青年教师，在西部和内陆，虽然比起东部、高层次学校并不响亮，但在当地的社会地位，相当之高。 而行政人员要考量的是不同的因素，为人处世的能力，和出政绩的能力。能力强，建议去东部沿海，或者高层次学校。判断原则相同，不再赘述。 是进入高校，还是进入社会，第一个分岔路口的另一端，是进入社会。读书到一定阶段，上社会就业。 到这里，路又分成了两条，第二个分岔路口，是去创业或参与创业，还是不去创业。 创业的本质，是社会资源的变现。社会资源又分为三个维度。 本身属于自己的实力，如学识、学习能力、颜值、社交能家庭支援，这是第一种社会资源，是别人拿不走的。如何利用自己敏锐的判断，和过去积累的知识，找到能够挣钱的领域，如何利甲自己的组织能力，去发现，去团结品工，为了一个共同的目标奋斗，如何根据瞬息万变的商海信息，去及时调整策略，这都需要自身的素质。 自己拓展的人脉和圈子，这是第二种社会资源，是需要青年人去自己争取的，有创业想法，可以利用家里的资源，也可以先去对应的公司努力工作，虽然最终目的是创业，但是工作的时间内，一方面能给自己时间和机会去了解行业，另一方面，工作中会接触到许多的人，利用自身拿不走的资源，去结实并让事业有成的人信任自己，提供帮助，不得不察。 政策风口，地方产业链，这是第三种社会资源。比如，某个市政府支持青年创业，给了免税的额度，甚至给出场地，但隔壁的市没有，这是政策风口。合肥市适合高新技术创业，武汉市适合物流创业，北京市适合金融创业，杭州市适合媒体创业，是因为这些地方，富集了成熟的产业链，各种社会资源因为富集，会更便宜，能够有效降低创业成本。 创业的上限，看不到，在中央号召的新工业革命前提下，做多大，主任我估计不出来。赔多少，主任我也不知道，三年挺过去，公司才算立足，这其中的煎熬和困苦，以及巨大风险，就算是在双创的政策支持下，对大多数创业公司来说，也是鬼门关。 参与创业，本质和创业相同，都是既有资源的变现，只是不当老大，当起了创始人合伙人。不再重复。 如果不想创业，就到了第二个分叉路口的另一端。就业。第二个分叉路口后面，依旧是个岔路，是去体制内，还是去企业。 体制内就业，职业都叫公务员，哈尔滨市税务局的同志是公务员，河北省赵县教育局的同志是公务员，上海市浦东新区陆家嘴街道办事处的同志是公务员，广东省梅州市政法委的同志也是公务员。 系统，大致可以按照所有权力的种类，分为核心部门，办事部门，和闲差部门。地区，可以按照我国的地理位置，分为东南沿海，核心城市，一般城市，县域，乡村和特殊单位六种。层级，可以按照我国行政体制分为中 央，省，市，县，乡五级。都叫公务员，位于不同的地区，不同的系统，便有不同的收入和不同的工作环境。更有不同的政治前途。 体制内情况纷繁复杂，抓住主要矛盾，很多的问题就很好解决，统筹两个关干个人生活的主要问题去考量该去哪里，迎刃而解。 对没有家庭背景的普通人，第一个考量是前途，第二个是收入。 政治前途，大致根据层次分类，不考虑家庭背景和个人能力的差别，单位层级越高，退休的时候，能够达到的级别就越高，在乡镇干一辈子，能够达到正科级，就算不错。在省里，到了副处的人不在少数。 在同一个层级内，越靠近权力部门，前途自然越好。常委部门的出路当然比科技局要广。 政治前途固然要考虑，收入也是一个重要的考虑因素。不同地域的单位，收入差别很大。北京的公务员一个月到手大致8500，上海市的公务员一年能到手差不多15万左右，在江苏省的苏南地区，公务员一年能拿到差不多20万，而深圳市的公务员可以到39万，但到了河南省的地级市，工资可能只有不到4000元。 总体来水，财政情况越好的地方，工资就越高，结合当地房价，和家庭情况，要去什么地方为人民服务便有了大致的答案。 体制就业，上限下限的差别没那么大，拿职级工资，旱涝保收抗风险同时，也就意味着没什么赚钱的希望，过的不至于清贫，但是也富不了。体制的发展，在政府机关里，只能是逐步升迁，抓住机会成为领导，能获得为老百姓办事的满足感。 在事业单位，部分是朝九晚五，好处在于有时间顾家，部分事业单位，如学校医院，也比较忙碌，但社会地位较高。 但有两个例外，第一是政策上的侧重地区，假如援疆有侧重，在政治前途上，就平地高一级，第二是家里资源不错，建议在故乡为人民服务。 第三个分叉路口的另一端，是去企业就业。这里分出了最后的岔路，是去国企就业，还是去私企就业。国企的招聘往往只有校招，不同行业，不同部门，不同地域，差别较大。如何选择的考量，却和体制大致相同，只抓 一个主要矛盾。 唯一要考量的因素，是收入。总体来说，收入比体制高，但上限不如民营企业。稳定性强于民营企业，却又不如体制。政治前途有，但比较少有被提拔入士，为人民服务的机遇，自然没有体制内多。 如果厌恶风险，只追求一份安稳的工作，又不喜欢清贫，想要有品质的生活，国企就业最为推荐。 民营企业就业，上限极高，但是下限极低，不同的公司和岗位，底薪提成都有区别，总体来说，是所有选择中，最有可能挣大钱的，但也伴随着高风险，风险来自于所在政策的风口，行业的发展，所在公司的运营，自我实力的发挥，以及到龄优化的危险。 政策风口上，推动传统产业改造提升，工业互联网，先进制造业和现代服务业融合发展，大数据、人工智能新一代信息技术、高端装备、生物医药、新能源汽车、新材料，这些新动能无一不是值得我们去关注。 历史给我们昭示了真理，荒流总有前进的方向，人民用血肉给历史的荒流指出了方向。每一代投身到荒流中的青年，都成长为了巨人。 惟愿，你能够摆脱苦郁，永立潮头。 精选留言 马黎明Soptiko®FCCO®眼镜 446历史的进程，螺旋上升，匍匐前进，2001年离开大学，本意进入国企，已入职，仍受不了看得到的未来，同科室大叔一杯茶一张报纸，转战民企，前三年全年无休，五年干到总经理，第七年开始自主谋生，风雨飘摇的五年，没日没夜，熬过10年，才敢谈创业，个中艰辛，第一，把事情做好，把人做好，第二，切不贪图及时行乐，而是明确延迟满足，第三，认知的提升是接纳自己的不足而立即行动，第四，讨得一个智商在自己之上的老婆，而自己要有比较好的情商，即婚姻的本质是付出，无条件的付出，第五，如主任所说做到三个有利干，切不要走捷径，否则就是还回去，迟早的事，最后，离开家乡到陌生城市打拼，需要运气，运气的本质还是利他! 一滴水 凸31看来房地产的泡沫五年后还是要爆啊 求实处 作者 313房地产不存在泡沫，这点要注意... Stone 凸39主任辛苦了，认真学习中 请问主任对年轻人从事文化创意产业的未来怎么看 求实处作者 凸177做人民群众满意的文化产品，讲好中国故事。大有前途。 73 主任说的是道，是规律和大势。你我后辈要在懂道的基础上掌握术，这样才能把规律和方法结合起来。 汀 174青年持钢枪保家卫国，中壮年持笔保一方百姓，老年持青卷教的有用之才，乃人生=大理相。者已完成一又二分之一。艰苦偏远服役已完成，博士在读，希望自己在学中干，干中学，早日完成学业。俯仰天地间，无愧初心。 zxn 60必须留言，读了叶处的文章，了解其他地方的情况，在河南郑州所辖县市机关工作。年轻公务员一年收入在7万左右，9000多的房价，除了配套不如大城市，幸福感还是不错的啊 求实处作者 凸145择一城如嫁一人 阿朵朵 凸85等了4个月了主任终于等到到了谢谢主任! 求实处作者 132忙，终于写完了。是我该谢谢读者朋友的支持与耐心。 姑射山下的信徒 凸24冒昧的问一句，如果放水进股市，国家会支持哪些行业? 求实处作者 凸102其实这是三个问题，第一个问题是国家会不会放水进股市，第二个问题是国家会支持哪些行业，第三个问题是国家会支持哪几只股票。第一个个，主任我不太喜欢回答股市的问题，如果强答的话，现在就有水流向股市，基金经理偏爱的那些就是，第二个主任我在文章中回答了，第三个的话…… 梁仕东 23谢谢主任的长篇文章，终于等到了，对干一个准备回国的留学生来说，实在太宝贵了。谢谢主任的文章! 求实处作者 84留学生要多讲中国故事，主任我在青年择业第一篇就反复强调过了 之远 76已截图，我们当好基层的星星之火，请主任放心! 求实处作者 83同志，不负人民。 之远 凸61前进，达瓦里希! Will_Vandom 82年纪渐长，迷茫不减，这篇真的很真诚，谢谢主任。 求实处作者 凸71您别客气。早点休息。 Tigris.R 20叶处，想问一下像高校教务处和保卫处这种部门的管理人员算是走高校行政岗吗? 求实处作者 凸73算，这就要看个人操作，个人能力，家庭资源。做得好是可以调团委的。 石头 61这篇文章含金量太高了，宏观微观都涉及了，主任多年深厚的工作和学识积累才能写出这样的文章。能看到的青年读者有福。可惜我看到的太晚了，有的自己也悟到了，但是太晚了!我年轻时候如果能看到这样的指点该多好。 沈新迁 凸60感谢叶处!第一时间付费对号入座，本来选的是第一条路，一路研究读到博士，中间考虑过各种岔路，科研，行政，公务员，事业单位，国企，最后兜兜转转到了披着国企外衣的民企，好在一直坚持本专业，也算是等来了风口的猪，从事生物医药行业做些有助于行业发展的事情，小我是收入还算不错，大我也算能勉强靠的上叶处的\"三个有利于\"。不忘初心，为国为民为自己 嘟嘟嘟嘟嘟 凸60今年刚满22，看了主任这篇文章，受益良多，谢谢主任 求实处作者 凸46别客气。 马冰 28感谢主任的心血!一直以来收货颇多，请问国家电网这样一家企业在未来的定位会是怎么样呢? 求实处作者 D57好单位，如果是世家的话就是另外一种思路了 基于历史的几个国际政治基本判断 建立在过去历史上的几个国际政治基本判断 原创 叶立华 香山劳大校史办公室 20201119 忧患意识，是深刻于中华民族民族精神中的精神血脉，是中华民族在波澜壮阔的历史中，无数次转危为安的精神锁钥，是中华民族在浩如烟海的文明中，脱颖而出，延续至今的不竭动力源泉。 我们应该有忧患意识。 明清以来，天朝上国，春秋大梦，心态闭塞，难以跟上世界潮流，在世界进入大航海时代，美洲发现以来，财富的迅速积累，科技的蓬勃发展，被一一错过，最终，到了如梦似幻的一八四零，广州一声炮响，惊醒了三千年大梦。不平等条约雪片般飞来，领土割让，主权丧失，丧权辱国的清政府，甘当买办走狗，对内反动统治，对外屈膝投降。 但中国的仁人志士层出不穷，地主阶级，资产阶级，农民阶级，各个阶级的英雄豪杰愤然而起，披肝沥胆，进行了艰苦卓绝的社会活动，直到中国的无产阶级登上历史舞台。红船建党，革命面貌焕然一新，无产阶级领导着中国人民，推翻三座大山，打的一拳开，免得百拳来，为自己赢得了宝贵的建设窗口。 但是，八十年代以来，随着我们融入世界的脚步逐渐加快，在发展的过程中，也出现了一定的问题。最严重的问题，就是我们的武装力量对我们赖以维生的航线的保护能力，严重不足。 特朗普领导的美国共和党在全美取得2020年美国大选的非全面胜利，标志着特朗普主义作为一种独立的政治力量，在美国形成了巨大的气候。所以说是非全面胜利，是总统大选上，共和党没有取得压倒性的优势，美国的均势，让美国总统大选的选举结果，堂握在了一小摄人的手里。几万票就能左右天平胜负手，加上违背统计学规律，这样的选举结果是不是真的，都不好说。 几合一的大选，那么多选票，什么其他议员的选项都没填，只选一个拜登。民主党这样的胜利，属实有趣。但是，当我们将目光放到参议院，众议院，美国各个州，各个州的两院的时候，情况变得有趣了起来。试看美国的共和党州长们，哪一个不是靠着比特朗普更特朗普，获得选票的呢?共和党控制两院的三十多个州，哪一个议员不是靠着极端贯彻特朗普的政治主张，获得选民支持的呢?美国参众两院的在职议员，又有哪一个，不是靠着坚定支持特朗普的路线，让自己焕发政治生命的呢? 民主党能利用关键州的空子，但无力在全美制造空子。三十多个州的参众两院，被共和党全面控制。 这足以说明一个问题，特朗普的政治理念，净聚起了美国的主要力量，这更说明了一个问题，特朗普的施政纲领，将贯彻于整个未来十年。 三句话不离CHINA，蛮横的认为中国从美国偷到了发展的成果，这就是美国大多数选民的真实写照。 有什么样子的群众，就有什么样子的政府，美国政府在未来十年中，必然对遏制中国投入更大的力量。 随着中国常规武装力量的逐步强大，新加坡，这亚洲霸主皇冠上的明珠，已经出现了倒戈的趋势。澳大利亚，新西兰，五眼联盟的成员，开始识时务者为俊杰。东盟十国，韩国日本，更是放下了二十年的架子，加入了RCEP。 我们取得了一定的胜利，但我们清醒的中华儿女，不能没有忧患意识。我们可以靠混乱制造既定事实，但我们不能靠混乱保卫胜利。 在此，主任我，对世界局势的变化提出如如下论断: 首先，未来十年，世界安全形势会开始恶化。 苏联解体后的发展红利，已经被中美两国吞噬殆尽，想要进一步发展，如果新动能不能在未来十年内做出，科学技术不能取得突破性进展，那么，就要涉及到争夺资源。 这是我们未来十年要面对的局面，在过去三十年里，没有享受到发展红利的国家，早已经进入了这个阶段。 那些享受了十几年红利就开始疲软的国家，就是前车。事情最开始是从中东起来的，增长乏力的中东，从突尼斯燃起了颜色革命的熊熊烈火，蔓延到了利比亚，埃及，叙利亚，伊拉克。紧随其后，火焰向着南美肆虐，墨西哥的毒贩，委内瑞拉的两个政府，以及不堪一击的巴西。如今，这火焰烧到了非洲发展的明珠，埃塞俄比亚的内战爆发了。 在急剧恶化的世界安全环境下，美国人不得不因为内政而收缩，他们留下的战略空间，属于那些国内有矛盾，但尚有输出能力的地缘强国，以色列，土耳其，俄罗斯，伊朗，摩拳擦掌。世界安全形势的恶化，将以弱国 的自爆和地区强国的扩张为主旋律。 一个稳定的安全环境，对于我们的发展至关重要，美国人退出的秩序，我们必须要填补，上海合作组织的曙光照到了东亚。真理和贸易规则，只存在与坦克和军舰能开到的地方。 其次，未来五年，世界经济形势的变化，会以更加开放，更加自由，更加透明的方向为主。 谁都知道，非洲人民过不上美国人民的好生活，不是现如今生产不发达的问题。 现如今的生产力，远胜于上世纪六七十年代。是分配规则的问题，导致了第三世界国家在国际经济链条中获得的收益最少。生产多而收入少，有效需求就会不足。有效需求不足，换句话说就是生产的过剩。 新冠肺炎的出现，客观起到了消灭财富的作用，也让危机的爆发获得了延缓。 在世界有效需求严重不足的情况下，为了避免全球性的大规模暴雷，获得延缓窗口的各国政府无一不会引导着水向特定池子中套涌。有效需求不足，刻意制造一个池子，就能引导资金向着池子里走，而不是大水漫灌，大水漫灌的后果是各行各业的生产持续增长，这会进一步导致需求的相对不足。而水向着一个池子里走，只会导致个别行业的生产过剩，这就为宏观调控提供了定向暴雷的出口。让风险变得可控。 所以，一个一个的盘被推高后，先进去的还能吃肉，同时诞生造富神话。这些造富神话，反过来可以作为典型，给底层希望，起到缓解社会压力的作用。 后进去的只能接盘。 这是未来五年，我们要面对的局面。在过去十几年里，没有享受发展红利的国家，生活水平一直没有提高。出现在韩国日本到拉丁美洲的杀猪盘，主任我不再举例。 第三，未来五年，我国国内环境的变化。国内环境的变化，就是破局和适应的变化。 未来五年，对外，面对一个只有靠坦克和军舰才能生存的安全环境，我们将逐步加强决战型海军的建设，同时，为了因对美国可能出现的战略风险，我们必将并加大核武库建设的力度。这是听不懂道义，畏威而不怀德的蛮夷能听懂的唯一语言。 对内，我们将建设更加开放、更加公平、更加包容的营商环境，吸引奔逃的外资，扶持本地真正做实业，而不是割韭菜的企业。在适当放水的同时，我们也会着重加大对科学技术研发的投入力度。 面对这样的局势，我们普通人，要怎么办? 只有将个人的命运和时代融合，才能实现个人的价值，而我们的机会，就在其中。 国家破局的地方，在于做出新动能，并在科学技术上取得重大突破。 推动传统产业改造提升，工业互联网，先进制造业和现代服务业融合发展，大数据、人工智能新一代信息技术、高端装备、生物医药、新能源汽车、新材料，这些新动能无一不是值得我们去关注。就算有放水的预期，也是在新时代辩证的放水。外部环境如此，一旦无脑出水，只会让外国资本下次砍向我们的镰刀更加锋利。 新动能的发展，离不开良好的环境，而科学上的进步，离不开高校真正搞研究，别人做个高分子A出来，你转头做个高分子B，又做个高分子C，这不叫搞研究，这叫水论文骗经费，欺世盗名。未来五年内，躺着舒舒服服水论文，还有一点前途，顶多是天黑前的晚霞。 下一次的福袋，将出现在不那么舒服的地方，也就是真正的研究，和产学研结合。 真正的研究，立足点在于强基计划提到的，数学、物理、化学、生物及历史、哲学、古文字学。在这些领域做出的成果，要么关平国计民生，要么关平民族未来。真正的研究，板凳坐的十年冷，但文章，一定不写一包空。实打实的科学突破，实打实的产业财能，以及实打实的中国人文，这才是未来的方向。 产学研的结合，主任我想在这里，重点说一下美的集团，要么第一，要么唯一，解决的都是核心技术的问题，核心技术的问题不好解决，美的集团愿意为此投入大量的资金，踏踏实实做公关。整天搞花里胡哨的，没有前途。 为了达成做出新动能的目的，深耕本领域的企业，华为、腾讯、中兴、美的、比亚迪、TCL、中铁、中建、中车、宝钢、携程，上海建工，以及真正做研究的大学，如，北航、哈工大，西北工大、国防科大、湖南大学、同济大学、西安交大、电子科大、中国人民大学、四川大学，会接到一个又一个的福袋，忘命投身于这些领域的同志，也会获得丰厚的回报。 读者朋友，如果你或你的孩子，正在义务教育阶段，那么请好好学习科学文化知识。如果你正在准备高考，家境优厚，可以多关注基础学科，搞搞科研的突破。家境一般，请往主任我讲的那些企业相关的研发部门凑。如果你准备就业，也可以关注上面的企业。如果你考虑跳槽，请往国家大方向需要的地方去吧。 茨威格的《断头皇后》中讲，生命中的一切馈赠，都已暗自标好价格。轻装上阵，不是什么坏事。 愿中华民族的伟大复兴路上，有你的一份贡献。也愿中华民族的伟大复兴，有你的一份蛋糕。 "},"9me/1book.html":{"url":"9me/1book.html","title":"1book","keywords":"","body":"TreeviewCopyright © aleen42 all right reserved, powered by aleen42 目录 书单 2021-2024研究生 2017-2021本科 非对称风险 纳瓦尔宝典 生命公式 个人原则 心流：最优体验心理学 源泉 创造先于分配，创造者需求优先于其他 利他主义使痛苦延续，而创造者减轻痛苦 “二手货‘’的利他主义 vs 创造者的自我主义 独立是衡量美德和价值的唯一尺度 集体利益与利他主义的善常常成为专制恐怖的恶 文明就是将个人从集体中解放出来的过程 任何人无权占用我的自由、时间和成就 近距离看美国/历史深处的忧虑 自由的含义 自由与代价 政府为保障人的自由平等而存在 民主和自由往往是冲突的 言论自由与真理完全无关 真言论自由在于政府不得立法剥夺 言论自由就必须忍受不喜欢的声音 言论自由不是为了追求真理 美国宪法分权思想的历史背景 新闻出版自由的免预检制度 言论自由不能强迫别人听 人类文明总有脱离世俗的一群人 不是宪法给人民权力而是天赋人权 所有人抛开偏见地支持他人权利 任何不谈代价的许诺都是虚假 不惜代价尊重公民的权利和自由 解放自己与解放他人相辅相成 社会注重个人利益/自由就活得洒脱 乡土中国 差序格局 维系着私人的道德 男女有别 礼治秩序 无讼 寻路中国 中国文化的同化力量遭遇游牧民族 长城在形态和意义上的变色龙性质 乡村人对陌生人无条件的信任 长城只是建筑不能说明中华文明 最初的爱情；最后的仪式 牧⽺⼈的奇幻之旅 当我谈跑步时，我谈些什么 祸福相依，容易发胖使其注意健康 喜欢的事儿自然可以坚持下去 最重要的东西在学校里学不到 目录 [TOC] 书单 读书速度：3万字/小时 实体书14-15页/万字，10‘电子书33页/万字，epub转pdf页边距22 11页/万字。 一般书籍20-30万字。 书籍字数统计中\"千字\"是“版面字数”，版面字数=每行字数每面行数总面数，不是“书稿实际字数”。 2021-2024研究生 近距离看美国（历史深处的忧虑） 乡土中国 寻路中国 最初的爱情；最后的仪式 牧⽺⼈的奇幻之旅 2017-2021本科 你们 我们 他们 21世纪100个交叉科学难题 就喜欢你看不惯我又干不掉我的样子 什么是数学:对思想和方法的基本研究.第4版 飘:下 飘:上 失控:全人类的最终命运和结局 新教伦理与资本主义精神 乌合之众:大众心理研究.第3版 当我谈跑步时 我谈些什么:第2版 寂静的春天 洛丽塔 麦田里的守望者 道林格雷的画像 三体:l.死神永生 三体:l.黑暗森林 毛宗岗批评本三国演义:下 一九八四 我的抑郁症 数+学=(女x孩) 什么是数学:对思想和方法的基本研究.第3版 迷人的数学:315个烧脑游戏玩通数学史 啊哈! 原来如此:中译本 数学美拾趣:第2版 生命中不能承受之轻不能承受的生命之轻 情人 毛宗岗批评本三国演义:上 萤 且听风吟黑客与画家:硅谷创业之父Paul Graham文集 时光尽头 罗斯柴尔德家族:上.第2版 自然哲学的数学原理:修订版 爱因斯坦:生活和宇宙 周恩来传:1 简明不列颠百科全书:9: (1-10) 给思想一个高度https://book.douban.com/subject/26291463/ 真相 吞噬地球:当人类成为无家可归的流浪者 偷影子的人 非对称风险 纳瓦尔宝典 最重要的是，要在重大决定上花更多时间。人生早期有三个重大决定：在哪里生活，和谁在一起，从事什么职业。 阅读数学、科学和哲学领域的经典作品。不要读畅销书，不要看新闻。避免加入任何所谓的“读书俱乐部”，避免追求任何的社群认同。把真理置于社群认同之上。 纳瓦尔博览群书。他将自己所有物质上的成功和他可能拥有的任何智慧，都归 于他的大量阅读。他很少将一本书从头到尾读完，而是喜欢在书里跳来跳去，搜寻自己感兴趣的段落。一旦对一本书失去兴趣，他就会停下来读别的书。在他看来，如果把读书这件事类比成进餐，那么挑食和剩饭是一件好事。他也从不将读书当成彰显学问的比赛，他更推崇将几本好书反复阅读、思考并吸收。他是费曼的超级粉丝，推崇费曼学习法——通过公开教授输出来巩固自己所学。 生命公式 幸福=健康+财富+良好的人际关系 健康=锻炼+饮食+睡眠 锻炼=高强度耐力训练+体育运动+休息 饮食=天然食物+间歇性禁食+植物 睡眠=不要闹钟+8～9小时+昼夜节律 财富=收入+财富×（投资回报率） 收入=责任+杠杆+专长 责任=个人品牌+个人平台+承担风险？ 杠杆=资本+人力+知识产权 专长=无法通过培训获得的知识 投资回报=“买入并持有”+估值+安全边际 个人原则 健康、爱和使命，以此为序，其他的都不重要。 人生要义：活在当下。 欲望即痛苦。（佛陀） 执怒就像握了一把丢向他人的热煤炭，被烫伤的人反而是你。（佛陀） 如果不想跟一个人共事一生，那就一天都不要和他共事。 阅读（学习）是终极元技能，可以换来其他任何东西。 生活中所有的回报都来自复利。 用头脑赚钱，而不是用时间赚钱。 99%的努力终将白费。 具体地表扬，泛泛地批评。（沃伦·巴菲特） 心流：最优体验心理学 我们从小就以为，人生最重要的是未来。父母教孩子养成好习惯，为的是长大后对他们有益；老师向学生保证，无聊的课程日后有助于他们谋职；公司主管告诉新员工，要有耐心，努力工作，因为有朝一日会晋升为主管—然而在漫长的晋升之路尽头，退休的时刻也会同时到来。爱默生曾说：“我们对生活有种种期许，却从未真正生活过。”一个穷困的小女孩也从童话故事中学到：果酱和面包永远是明天的事，今天就是吃不到。 享乐是高水准生活的重要一环，但享乐本身并不能带来幸福。睡眠、休息、食物与性，都属于恢复“均衡”的体验，在肉体需求引起精神熵以后，重整意识的秩序。它们并不能带动心灵的成长，也不能增加自我的复杂性。换言之，享乐虽有助于维持意识的秩序，却无法在意识中创造新秩序。一般人想进一步充实自己的生活时，不但会想到享乐，还会想到虽然与享乐重叠，但必须用不同字眼表达的另一种感受——乐趣。所谓乐趣，是指一个人不仅需求和欲望得到满足，更超越既有制约，完成了一些意料之外的事。乐趣具有向前发展的特性，并蕴涵新鲜感和成就感。经历过有乐趣的事，我们就感觉自己有了改变，自我有了成长；在某些方面，这次体验已使我们变得更复杂、更丰富。 乐趣的出现主要有八项元素。一般人回想最积极的体验时，至少都会提及这些元素中的一项，或是全部。首先，这种体验出现在我们面临一份可完成的工作时。其次，我们必须能够全神贯注于这件事情。第三和第四，这项任务有明确的目标和即时的反馈。第五，我们能深入而毫不牵强地投入到行动之中，日常生活的忧虑和沮丧都因此一扫而空。第六，充满乐趣的体验使人觉得能自由控制自己的行动。第七，进入“忘我”状态，但心流体验告一段落后，自我感觉又会变得强烈。第八，时间感会改变——几小时犹如几分钟，几分钟也可能变得像几小时那么漫长。这些元素结合成一种深刻的愉悦感，带来无比的报偿，并扩展成极大的能量，仅是感觉它的存在就已值回“票价”了。 源泉 创造先于分配，创造者需求优先于其他 “人类一直被教导说，最高的美德不是获取，而是给予。然而，如果没有被创造出来的东西，人是无法给予的。创造要先于分配——否则便无物可资分配了。创造者的需求先于任何可能的受益人。然而，我们却被教导着要去崇拜那些二手货——他们并没有创造任何东西，却大把地将那些东西发放给他人，其慷慨程度连创造出这些东西的人都望尘莫及。我们称赞这是一种慈善行为，却对成就不屑一顾。 利他主义使痛苦延续，而创造者减轻痛苦 “人类一直被教导说，要以减轻他人的痛苦为第一要旨。可是痛苦是一种疾病。人要是碰到这种疾病，就尽一切努力来给人以安慰和帮助，以此作为对美德的最高检验，这无异于使痛苦成为生活中最重要的一部分。那么人类一定希望看见别人痛苦——以便他们可以表现出美德。这就是利他主义的本质。创造者与这种疾病无关，而与生命力有关。他们的工作已经消灭了一种又一种形式的疾病，无论是肉体上的还是精神上的，他们给痛苦中的人带来更多的慰藉，多得令任何利他主义者都难以想象。 “二手货‘’的利他主义 vs 创造者的自我主义 “人类一直被教导说，赞同别人的意见是一种美德。但是创造者恰恰是那个唱反调的人。人类被教导说，随波逐流是一种美德。但是，创造者正是那个逆水行舟的人。人类被教导说，团结一致是一种美德。但是，创造者恰恰就是那个卓然独立的人。人类被教导说，自我就是邪恶的代名词，而无私就是美德的最高境界。可是创造者便是绝对意义上的自我主义者，而那个所谓的无私的人，正是那个没有思想、没有感受、没有判断、没有行动的人，这些功能都只属于自我。” “这种本质的颠倒是最可怕的。问题的关键一直被人曲解，人类到头来别无选择，也便没有了自由。 就像善恶这两个极端一样，摆在人面前的是两个概念：自我主义和利他主义。自我主义被理解成为了自我而去牺牲别人。而利他主义则被理解成为了他人而牺牲自我。这种观念使人无可避免地与他人拴在一起，除了选择痛苦之外，他一无所有：要么为了他人自己忍受痛苦，要么为了自我使他人蒙受痛苦。 如果再加上一条，人必须在自我牺牲中发现快乐，陷阱便已经设好了。人被迫把受虐当作他的理想——他若不想成为一个受虐狂，便只能成为一个施虐狂。这是对人所犯下的最大的欺诈罪。 “正是凭借这种手段，依赖和痛苦被作为人生的基础一直存在了下来。 “选择不应该在自我牺牲和支配他人之间进行，而应该是选择独立还是依赖，选择创造者的准则还是二手货的准则。这是最根本的问题。它是一个选择生还是死的问题。创造者的准则建立在允许人类生存的理性头脑的需求基础上，而二手货的准则建立在无法生存的头脑的需求之上。一切出自于人类独立自我的东西都是善的。一切出自于对他人的依赖的东西都是邪恶的。 “绝对意义上的自我主义者并不是为自己牺牲他人。他超越于以任何方式利用他人的需求之上。他并不是通过他们来发挥作用的。他在任何基本的事情上都是与他们无关的。无论是他的目标，他的动机，他的思想，他的欲望，还是他力量的源泉，都与他们无关。他不是为了他人而存在的——他也并不要求他人为了他而存在。这是人与人之间唯一的兄弟情谊和相互尊重的形式。 独立是衡量美德和价值的唯一尺度 “人的能力因人而异，可基本原则是不变的：一个人的独立程度以及他对于工作那种原始的、发自内心的热爱，决定着他作为一个工作者的才能和作为一个人的价值所在。独立是人类衡量美德和价值的唯一尺度。是一个人是什么以及他将自己变成什么，而不是他为他人或者没有为他人做过什么。个人尊严没有替代品。除了独立之外不存在衡量个人尊严的标准。 “人世间首要的权利便是自我的权利。人类首要的使命就是对自己尽职尽责。他的道德法则绝不是将自己的首要目标强加于他人身上。假如他的希望根本不依赖于他人的话，他的道德职责就是去做他所希望做的事情，包括他创造能力的全部领域，他的思想以及他的工作，但是并不包括恶棍、利他主义者和独裁者。 “人能独自思考，独自工作。人不能独自掠夺、剥削或者统治他人。掠夺、剥削和统治是以受害者为前提的。它们本身就意味着依赖。它们是二手货的职责。 “统治者并不是自我主义者。他们绝无任何创造性可言。他们完全是通过他人而存在的。他们的目标就在于他人的屈服，在于奴役活动本身。他们如同乞丐、社会工作者以及匪徒一样无法自立。可是人们却被教导说，要将这些二手货——暴君们、皇帝们和独裁者们当作自我主义的代表。通过这种骗局，唆使人们去毁灭自我，毁灭他们自己，毁灭他人。这一骗局的目的就是要毁灭创造者，或是控制他们。这两者是一回事。 “从人类的历史一开始，这两个对抗者就面对面地站在那儿：创造者和二手货。当第一个创造者发明了车轮时，第一个二手货便作出了反应。他发明了利他主义。 “创造者，尽管遭到否认、遭到反对、受到迫害、受到剥削，却在继续前进着，以自己的精力负载着整个人类向前发展。二手货们除了为人类的发展过程设置障碍之外，没有丝毫贡献。这种对抗还有一个名字：个人主义对集体主义。 集体利益与利他主义的善常常成为专制恐怖的恶 “一个集体——一个种族，一个阶级，一个政权——的共同利益就是每一次专制统治的要求和理由。历史上的每一次大恐怖都是以利他主义动机的名义犯下的。可曾有哪种自私的行为敌过了秉承利他主义原则所施行的大屠杀呢？其过错究竟在于人们的虚伪，还是在于利他主义的本质呢？最可怕的刽子手就是最真诚的信奉者。他们相信通过断头台和行刑队能实现完美社会。没有人对他们谋杀的权利提出过质疑，因为他们的屠杀打的是利他主义的旗号。人们接受了人必须为他人作出牺牲这一观念。演员在不断地更换着，但是悲剧的程序从未改变。一个从宣称爱人类开始的人道主义者，终将以一片血海而告终。只要人们相信如果某种行为是无私的，那它便是善的这样一种观念，那么，这种悲剧就会继续上演。这种观念允许利他主义者为所欲为，并且强迫他的受害者们去承受痛苦。集体主义运动的领袖们不图私利，只是观察结果。 文明就是将个人从集体中解放出来的过程 “现在观察建立在个人主义原则之上的社会的结果吧。这就是我们的国家（美国）。人类历史上最高尚的国家。这是一个具有最伟大的成就，最伟大的繁荣和最伟大的自由的国度。这个国家不是建立在无私的服务、牺牲、放弃，或者任何一条利他主义的箴言之上。它建立在个人追求幸福的权利之上。追求个人的幸福。不是任何他人的幸福。一个私人的、个体的、自私的动机。看看其结果吧，问一问自己的良心吧。 文明就是朝着个人的社会前进的过程，就是一个将个人从人类中间解放出来的过程。 任何人无权占用我的自由、时间和成就 我到这儿来，就是想说，我不承认任何人有权占有我生命中的任何一分钟，或是我精力的任何一部分，或是我的成就。无论是谁作的这个要求，无论他们的人数有多么庞大，或者无论他们有多么需要。我不承认我对人类负有任何责任，只有一条例外：尊重他们的自由。（注：反过来说，我的自由也必须得到尊重。） 近距离看美国/历史深处的忧虑 自由的含义 （思想、知识信息、表达、创造、私有空间、法治、捍卫权力） 美国人认为，假如一个人最基本的权利能够得到保障，他就是自由的。可以自由地思想，不必担心受到禁止和压制；可以自由地获取各种知识和信息，不必担心受到限制；可以自由地表达自己的意见，不必担心受到威胁；可以自由地进行创造，不必担心受到约束；可以自由地在自己的土地上生活，不必担心家园受到入侵和破坏；可以在法律的范围内自由地做任何事情，不必担心受到诬陷和冤狱；而且，在这一切受到威胁的时候，可以请求法律的保护，甚至有权利拿起枪来捍卫自己的自由。 自由与代价 自由和代价是两个分不开的话题。人们为此支付的沉重代价会一次次动摇自由的信念。在不同的时代，自由所经受的冲击和支付的代价是不同的，人们认识程度和承受能力也是不同的。当必须支付的代价超过了承受能力，人们往往会选择放弃一部分自由。 自由实在不是什么罗曼蒂克的东西，这只不过是一个选择，是一个民族在明白了自由的全部含义，清醒地知道必须付出多少代价，测试过自己的承受能力之后，作出的一个选择。 政府为保障人的自由平等而存在 “我们认为下面这些真理是不言而喻的：人人生而平等，造物主赋予他们一些不可剥夺的权利，其中包括生命权、自由权和追求幸福的权利，为了保障这些权利，人类才在他们中间建立政府。”所以，“政府的正当权利，是要经过被治理者的同意才产生的”。 政府是人民为了保护自己的天赋权利才组织起来的，一旦“任何形式的政府对这些目标具有破坏作用时，人民才有权力改变和废除它”。 他们认为，国家机器自有它自己的运转机制，只要建立起来，它就会成千上百年地运转下去。万一走上歧途，小小百姓根本很难与之匹敌。 政府时时处于强有力的监督之下，它就不容易在错误的道路上走得太远，甚至发生大滑坡；同时，人民有了充分的自由，他们有了表达意愿的渠道以及宣泄情绪的出口，也就不容易积怨至深从而产生爆发性的破坏力。 在他们看来，总统不是什么必要条件，中央政府也不是什么必要条件，他们有关自由独立的美国的理想，才是一个必要条件。他们认为，当他们向全世界宣布他们的理想的这一天起，美国就已经建立起来了。 民主和自由往往是冲突的 在大众语言中，民主自由总是像四字成语一样连在一起，而实际上，它们只是凑巧因为同是被人们追求的目标，才被许多人一糊涂而误以为是一回事儿。包括希特勒在内的不少专制体制都不失时机地利用过人们的这种糊涂。其实中国人倒是应该很能理解辨别其中的差异，甚至明白它们水火不相容的矛盾冲突的。只需这么一想马上就清楚了：“文化大革命”那样的“大民主”一来，那些掌握了真理的少数人别说是自由，还会有活路吗？ 言论自由与真理完全无关 直到我踏到美国的土地上，我还以为，美国人把言论自由看作是最基本最重要的权利，也是因为他们和我们有共同的理解：正是为了保护在任何时间空间里有可能存在的“潜在真理”，所以，才不给任何人以绝对真理自居，并且迫使别人服从的权力，或者像我们以前熟悉的说法，真理越辩越明。 可是你一定没有想到，这居然是一个天大的误解。美国人心中的言论自由，与真理不真理根本不沾边。美国的《权利法案》第一修正案的关键就是：言论自由与真理完全无关。 真言论自由在于政府不得立法剥夺 其实很多国家的宪法都有言论自由这一条，并不是什么稀罕玩意儿。那么，美国的《权利法案》有什么特殊的地方呢？它的特点就是规定了政府不得立法剥夺这种自由。也就是说，政府不能借口紧急状态、战争状态或其他任何非常状态，去剥夺或限制人民的宗教、言论及出版自由。为什么呢？就因为美国人对于这些权利的理解与我们当初的理解大相径庭。 他们认为，这些自由是基本人权，即，这是一个人与生俱来的天赋权利。如言论自由，只要是一个人，就有表达自己思想的权利，这跟发表言论的这个人是好人还是恶棍没有关系，这和表达出来的东西是真理还是谬误也毫不相干。哪怕他的思想是彻头彻尾的谬误，哪怕假设有一种方法，可以鉴定出他的思想不论在过去、现在和将来都绝对是谬误，但他作为一个人，还是有权利说出他的想法来。说出来，是合法的。 对于宪法修正案最重要的第一修正案，几乎从一开始，最高法院就挣扎在两难之间：既要维护言论自由的承诺，又惧怕言论引起的非法行为以及煽动的暴力，甚至担心危及国家安全。因此产生了最著名的，对所有宪法条款都有效的“清楚与现实的危险”测定原则。在此原则之下，如果政府无法证明某一言论是造成了清楚与现实的危险，它就不能对该言论的发表者进行惩罚。 言论自由就必须忍受不喜欢的声音 接受了三K党法律委托的斯蒂芬·潘弗所说的一段话，颇能代表今天一般美国人的看法：“自由言论就是自由言论，对于流行观点和非流行观点都是一样的。我们不可能一边宣称这是一个自由的国家，一边又把言论划为可接受的和不可接受的两部分。如果有一种检查制度可以把三K党从电视里剔出去，那么，同样的制度也许早就把马丁·路德·金的讲话从亚拉巴马州剔出去了。”必须听那些听不下去的话，“这正是我们必须为自由支付的代价”。 你也许会问：有一些人，他们一旦掌权了就会扼杀别人的言论自由，对于这种人，也要给他们言论自由吗？比如那个三K党的马昂，他就宣称要成立一个纯白人的国家，并且公然表示：在他理想中的这个白人国家里，只有和政府一致的言论才是被允许的。对于这个问题，我觉得斯蒂芬·潘弗回答得很聪明，他说：“如果你因为害怕一个不自由的时代，因此就不给他们言论自由的话，那么，这个不自由的时代已经开始了。是你自己给它开了头。” 言论自由不是为了追求真理 呼吁和宣扬言论自由的人们是很容易上“真理”的当的。他们或是明确认为，或是在潜意识中，总是觉得言论自由是走向“真理”的一条“阳光大道”，觉得言论自由只是让真理“越辩越明”的一种方式。在这种概念的指导下，一旦走到自己感觉已经“真理到手”的这一步，言论自由被抛弃就成了十分顺理成章的事儿。 只要不坚持“言论中性”，只要以为言论自由的目的只是为了追求真理，那么，就无法避免这样的情况发生：终有一日，在理论和现实上，都无法阻挡一个或数个权威在手的人物，或是一群所谓的“大多数”，出来把自己宣布为“真理”，而扼杀别人的言论自由。 在美国，“言论自由”和“追求真理”之间的界限，是划得非常清楚的。在这里，这是两件完全不相干的事情。言论自由只有一个目的，保证每个人能够说出他自己的声音，保证这个世界永远有不同的声音。而绝不是希望到了某一天，人们只发出一种声音，哪怕公认为这是“真理的声音”。 美国宪法分权思想的历史背景 美国的建国者对于建立庞大的国家机器始终是很有顾虑的，他们曾经在不能确定自己有能力把握它之前，宁可先选择不要联邦政府。美国人至今还在中学课本里，把前辈的这些矛盾告诉自己的年轻一代：“写出美国宪法的那些人都经历过反英战争，他们无法轻易忘记，一个大权在握的国王如何夺走了人民的权利。他们还记得那些税法，和士兵们怎样在没有搜捕状的情况下，就搜查他们的家。另一方面，他们已经发现，政府太弱，就会没有法律和秩序。出于这些原因，他们对于新政府的建立给出一些很谨慎的思考，他们的这些思想在两百年之后的今天，依然在指导我们。我们应该知道他们的这些思想。”这是一些什么思想呢？它的关键就是分权。 新闻出版自由的免预检制度 还有一个非常重要的因素，决定了美国的政治公开化以及对政府权力的制约，这就是新闻监督。我们也发现，美国的言论自由重点，并不是一个人能够在朋友面前、在会议上，甚至站在大街上直述观点而受到保护，也不是他可以放心地在日记书信里写下自己的真实感想，而是可以在公开的出版物上表达自己的意见，这就是进一步的新闻出版自由。它的关键就是免预检制度。 但是，收看和收听现场直播的节目，人们实在无法预料和防止麦当娜们连篇的脏话侵犯，因此，才有了最近被普遍接受的“五秒滞后”的规定。 言论自由不能强迫别人听 言论自由是一个人说的权利，但是有一条，就是你不能强迫别人听，也就是说，你不能侵犯别人。 人类文明总有脱离世俗的一群人 在人类文明的各个历史阶段、在各个社会中，总有一些人，他们自觉地和世俗生活保持一段距离，以便于思索，以便于和超然的神灵对话。所以，他们只是出于自己的选择，主动和尘世拉开距离，以寻求他们的哲学思考而已。 不是宪法给人民权力而是天赋人权 “二战”之前德国人民也是合法拥有武器的。但是在希特勒上台之后，首先搞枪支登记，然后设法逐步搞没收枪支。接着，犹太人面对武装的党卫队员，就只有束手待毙的份儿了。他依据自己在美国的生活经验，坚信失去自卫武器是犹太民族悲剧的原因之一。我们在他家里看到过好几种大大小小的枪，他对我们说：“我也希望永远不要去用这些枪。但是，你应该知道，枪不是一种工具，枪是一种权利。”我们也是到了美国以后才注意到，宪法第二修正案中关于枪的行文很有讲究，它并不是说是宪法给了人民拥有武器的权利，而是说，人民拥有和携带武器的权利不可侵犯。这两种讲法是不同的。也就是说，美国的建国者们认为，这种权利，不是任何人给予人民的一种恩赐，而是一种天赋人权。宪法所做的，只是规定了任何人都无权对这种权利进行侵犯而已。 所有人抛开偏见地支持他人权利 公民权利的保障，不是仅仅依靠《权利法案》的条文，它还必须依靠健全独立的司法制度、健康的社会机制、良好觉悟的社会和民众团体。而且，这个社会必须普遍有起码的正义感和公民良知。 我来了以后，觉得很吃惊的一点，就是这里在发生一个民权案例的时候，各种民权机构以及许多平民，他们都会抛开对当事人个人的好恶，抛开对他的信念、言论、行为的好恶，去支持这个当事人保护自己的宪法权利。这个时候，他们看上去像是在共同守护一个堤坝，似乎一旦决堤就会一毁俱毁。 任何不谈代价的许诺都是虚假 你一定记得前面的那些信里，每当我在一个方面回答了你的问题，介绍了美国人所拥有的自由和权利，我就要同时告诉你，他们为此支付了什么样的代价。让你对这些代价有清楚的了解，是我写这些信的真正出发点。我们在世界各地，在不同的时代，都看到过这样的情况，总有一些人在不同的情况下，向那些对于各种需求饥肠辘辘的民众，描绘不同食谱的美味午餐。于是这些人有了众多的追随者，甚至在他们的帮助下成就了自己的事业。这时候，有两种不同的情况往往会不幸地冒出来。一种情况是，这是一份虚假的许诺，人们被土豆加牛肉的食谱所吸引，得到的午餐却是树皮加草根，令人大失所望。另一种更普遍的情况是，这是一份真实的午餐，可是，当人们被引到餐桌前，才发现一个早该想到的简单真理，世界上没有免费的午餐。他们还未享受到，已经先被昂贵的代价所吓倒，不知那个当初引他们走向餐桌的家伙是有意还是无意，他竟然从来没有提起过这样的代价。这是不公平的。 不惜代价尊重公民的权利和自由 对于中国人，杀人偿命，一命抵一命，是最自然不过的事情。对于美国人来说，一种罪行有一个量刑的上下限。在这个限度之内，都是合理的。罪犯认罪，可以省下大量的人力财力，在限度之内的减刑是可以接受的。我想被害者家属也一定没有想到，案子拖长的话，有可能耗去美国老百姓辛苦工作挣来的成百万、成百万的美元。事实上，美国人依然要用自己的税金把他养在牢里，尽管不论是凶手还是被害者，都不是美国人。他们为这块土地选择了这样的原则，就必须为这块土地上发生的一切支付代价。有时候，这个代价是指金钱；有时候，这个代价，甚至是生命。 明确了代价之后，仍然选择尊重公民的权利和自由为最高目标，这是需要勇气的。而且，有时候，甚至可以说，必须是有能力支付代价才能得到的。 解放自己与解放他人相辅相成 当初华裔美国人在这里能够得到法律上的平等地位，还是仰仗了黑人的民权运动。在今天，依然有一批黑人在思考平等和自由的问题时，走在华裔美国人的前头。我想起著名的现代黑人女诗人玛雅·安吉鲁给她的学生提出的问题：人是不是需要解放自己？人是不是需要解放别人？人能不能够不解放别人只解放自己？人能不能不解放自己只解放别人 社会注重个人利益/自由就活得洒脱 （如果社会利益能够随意凌驾于个人利益之上，这个社会就不会有人去奋斗） 相比之下，他们的生活态度常常表现得更为轻松。我发现，这并不完全是因为他们是土生土长的缘故，有很重要的一个原因是生活观念的不同。 他们特别注重个人意愿、个人生活和个人幸福，因此个人奋斗也就随之而天经地义，因为没有后者就没有前者。反之，没有前者也就没有了后者的动力。同时，整个社会，从法律到人们的习惯，都高度尊重个人的生命、个人的幸福、个人的意愿和个人的意志，都把个人意志的自由和个人的奋斗看作是高于一切的。这和我们中国人历来把社会利益置于个人利益之上，认为个别的人可以为社会而牺牲，个人在伦理上也应该为社会而牺牲，有着逻辑上的不同。我们中国人是把社会的繁荣置于个人牺牲、天下为公的前提下的。如果人人都只顾自己，人人自私自利，何来社会公德？若无社会公德，哪有社会繁荣和人民幸福？美国人却是把社会的繁荣置于个人自由和个人奋斗的基础上的。他们觉得，如果没有个人意志的自由和个人生活的幸福，谁来奋斗？若无大多数人的奋斗，何来社会的繁荣？ 乡土中国 差序格局 在乡下，家庭可以很小，而一到有钱的地主和官僚阶层，可以大到像个小国。中国人也特别对世态炎凉有感触，正因为这富于伸缩的社会圈子会因中心势力的变化而大小。 在孩子成年了住在家里都得给父母膳食费的西洋社会里，大家承认团体的界限。在团体里的有一定的资格。资格取消了就得走出这个团体。在他们不是人情冷热的问题，而是权利问题。在西洋社会里争的是权利，而在我们却是攀关系、讲交情。 维系着私人的道德 中国乡土社会的基层结构是一种我所谓“差序格局”，是一个“一根根私人联系所构成的网络”。这种格局和现代西洋的“团体格局”是不同的。在团体格局里个人间的联系靠着一个共同的架子；先有了这架子，每个人结上这架子，而互相发生关联。“公民”的观念不能不先有个“国家”。这种结构很可能是从初民民族的“部落”形态中传下来的。部落形态在游牧经济中很显著的是“团体格局”的。生活相依赖的一群人不能单独地、零散地在山林里求生。在他们，“团体”是生活的前提。可是在一个安居的乡土社会，每个人可以在土地上自食其力地生活时，只在偶然的和临时的非常状态中才感觉到伙伴的需要。在他们，和别人发生关系是后起和次要的，而且他们在不同的场合下需要着不同程度的结合，并不显著地需要一个经常的和广被的团体。因之他们的社会采取了“差序格局”。 男女有别 稳定社会关系的力量，不是感情，而是了解。所谓了解，是指接受着同一的意义体系。同样的刺激会引起同样的反应，熟习所引起的亲密感觉。亲密感觉和激动性的感情是不相同的。它是契洽，发生持续作用；它是无言的，不像感情奔放时铿然有声，歌哭哀号是激动时不缺的配合。 Oswald Spengler在“西方陆沈论”里曾说西洋曾有两种文化模式：一种他称作阿波罗式的（Apollonian）；一种他称作浮士德式的（Faustian）。阿波罗式的文化认定宇宙的安排有一个完善的秩序，这个秩序超于人力的创造，人不过是去接受它，安于其位，维持它；但是人连维持它的力量都没有，天堂遗失了，黄金时代过去了。这是西方古典的精神。现代的文化却是浮士德式的。他们把冲突看成存在的基础，生命是阻碍的克服；没有了阻碍，生命也就失去了意义。他们把前途看成无尽的创造过程，不断的变。 这两种文化观很可以用来了解乡土社会和现代社会在感情定向上的差别。乡土社会是阿波罗式的，而现代社会是浮士德式的。这两套精神的差别也表现在两种社会最基本的社会生活里。 乡土社会是靠亲密和长期的共同生活来配合各个人的相互行为，社会的联系是长成的，是熟习的，到某种程度使人感觉到是自动的。 乡土社会中阻碍着共同生活的人充分了解的却是个人生理上的差别。永远划分着人们生理差别的是男女两性。 在以充分了解来配合人们相互行为的社会中，这性别的鸿沟是个基本的阻碍。只在他们理想的天堂里，这鸿沟才算被克服：宗教家对性的抹煞，不论自觉或不自觉，决不是偶然的。 恋爱的持续依赖于推陈出新，不断地克服阻碍，也是不断地发现阻碍，要得到的是这一个过程，而不是这过程的结果。从结果说可以是毫无成就的。非但毫无成就，而且使社会关系不能稳定，使依赖于社会关系的事业不能顺利经营。依现代文化来看，男女间感情激动的发达已使生育的事业摇摇欲坠。 这事业除非另外设法，由社会来经营，浮士德式的精神的确在破坏这社会上的基本事业。 在乡土社会中这种浮士德式的精神是不容存在的。它不需要创造新的社会关系，社会关系是生下来就决定的。它更害怕社会关系的破坏，因为乡土社会所求的是稳定。它是阿波罗式的。男女间的关系必须有一种安排，使他们之间不发生激动性的感情。那就是男女有别的原则。“男女有别”是认定男女间不必求同，在生活上加以隔离。这隔离非但是有形的，所谓男女授受不亲，而且还是在心理上的，男女只在行为上按着一定的规则经营分工合作的经济和生育的事业，他们不向对方希望心理上的契洽。 礼治秩序 所谓人治和法治之别，不在人和法这两个字上，而是在维持秩序时所用的力量，和所根据的规范的性质。 乡土社会是“礼治”的社会。礼是社会公认合式的行为规范。合于礼的就是说这些行为是做得对的，对是合式的意思。如果单从行为规范一点说，本和法律无异，法律也是一种行为规范。礼和法不相同的地方是维持规范的力量。法律是靠国家的权力来推行的。“国家”是指政治的权力，在现代国家没有形成前，部落也是政治权力。而礼却不需要这有形的权力机构来维持。维持礼这种规范的是传统。 传统是社会所累积的经验。行为规范的目的是在配合人们的行为以完成社会的任务，社会的任务是在满足社会中各分子的生活需要。从每个人说，在他出生之前，已经有人替他准备下怎样去应付人生道上所可能发生的问题了。 像这一类的传统，不必知之，只要照办，生活就能得到保障的办法，自然会随之发生一套价值。我们说“灵验”，就是说含有一种不可知的魔力在后面。依照着做就有福，不依照了就会出毛病。于是人们对于传统也就渐渐有了敬畏之感了。 如果我们对行为和目的之间的关系不加推究，只按着规定的方法做，而且对于规定的方法带着不这样做就会有不幸的信念时，这套行为也就成了我们普通所谓“仪式”了。礼是按着仪式做的意思。礼字本是从*从示。* 是一种祭器，示是指一种仪式。 礼并不是靠一个外在的权力来推行的，而是从教化中养成了个人的敬畏之感，使人服膺；人服礼是主动的。礼是可以为人所好的，所谓“富于好礼”。 这显然是和法律不同了，甚至不同于普通所谓道德。法律是从外限制人的，不守法所得到的罚是由特定的权力所加之于个人的。人可以逃避法网，逃得脱还可以自己骄傲、得意。道德是社会舆论所维持的，做了不道德的事，见不得人，那是不好；受人吐弃，是耻。礼则有甚于道德：如果失礼，不但不好，而且不对、不合、不成。这是个人习惯所维持的。十目所视，十手所指的，即使在没有人的地方也会不能自已。礼是合式的路子，是经教化过程而成为主动性的服膺于传统的习惯。 礼治的可能必须以传统可以有效地应付生活问题为前提。乡土社会满足了这前提，因之它的秩序可以用礼来维持。在一个变迁很快的社会，传统的效力是无法保证的。不管一种生活的方法在过去是怎样有效，如果环境一改变，谁也不能再依着法子去应付新的问题了。所应付的问题如果要由团体合作的时候，就得大家接受个同意的办法，要保证大家在规定的办法下合作应付共同问题，就得有个力量来控制各个人了。这其实就是法律。也就是所谓“法治”。 法治和礼治是发生在两种不同的社会情态中。这里所谓礼治也许就是普通所谓人治，但是礼治一词不会像人治一词那样容易引起误解，以致有人觉得社会秩序是可以由个人好恶来维持的了。礼治和这种个人好恶的统治相差很远，因为礼是传统，是整个社会历史在维持这种秩序。礼治社会是并不能在变迁很快的时代中出现的，这是乡土社会的特色。 无讼 但是事实上，到司法处去打官司的，正是那些乡间所认为“败类”的人物。依着现行法去判决（且把贪污那一套除外），时常可以和地方传统不合。乡间认为坏的行为却正可以是合法的行为，于是司法处在乡下人的眼光中成了一个包庇作恶的机构了。 有一位兼司法官的县长曾和我谈到过很多这种例子。有个人因妻子偷了汉子打伤了奸夫。在乡间这是理直气壮的，但是和奸没有罪，何况又没有证据，殴伤却有罪。那位县长问我：他怎么判好呢？他更明白，如果是善良的乡下人，自己知道做了坏事决不会到衙门里来的。这些凭借一点法律知识的败类，却会在乡间为非作恶起来，法律还要去保护他。我也承认这是很可能发生的事实。现行的司法制度在乡间发生了很特殊的副作用，它破坏了原有的礼治秩序，但并不能有效地建立起法治秩序。法治秩序的建立不能单靠制定若干法律条文和设立若干法庭，重要的还得看人民怎样去应用这些设备。更进一步，在社会结构和思想观念上还得先有一番改革。如果在这些方面不加以改革，单把法律和法庭推行下乡，结果法治秩序的好处未得，而破坏礼治秩序的弊病却已先发生了。 寻路中国 中国文化的同化力量遭遇游牧民族 游牧民族多不是侵略者——一般而言，他们对攻城掠地不感兴趣。他们要的，是汉人的财物，不是汉人的文化，这一点一直让历朝历代的皇帝们烦恼不已。南方的情形略有不同，中原王朝在南方的扩展很大程度上是依靠文化压制，而不是武力征服。美国历史学家亚瑟·瓦尔德隆写过一本书，书名是《中国长城》。在这本书中，他记述了明朝时期发生在北方地区的几次冲突。他告诉我，在这个问题上，弄清楚中原人的立场十分重要。“对他们来说，那不是指中原文化，”他认为，“那是指所有文化。任何人都自然应该遵从一—不管他是哪个民族，这就像每个人都得接受做牙科手术要使用奴佛卡因的道理一样。总体情况基本上是这样的。中原帝国向南扩展的过程中，不是中原人在迁移，而是当地人改变民俗。他们伪造家族图谱，修建祭坛——他们的所作所为，跟任何想进行文化入侵的人一模一样。时至今日，这就是中国人的力量。这不是武力。他们不需要密探，不需要卧底。有某种东西让他们成为中国人这个群体的一员，而正是这个群体令周围的人对它产生兴趣。 “首先对此不感兴趣的，就是骑马的游牧部落，”瓦尔德隆接着说，“这令中原人十分头疼，因为他们已经用文化这个东西,把其他几个边上的外族人都牢牢地束缚住了。可骑马的游牧民族不管这一套。他们只管跑过来，强奸妇女，放火劫舍。对中原人来说，这个问题如同美国人遇到基地组织这个麻烦事，只会招人更加怨恨。美国人总是认为，那些人对我们应该再多一些了解。教他们学做美味、老式的美式烧烤，把我们的生活全貌展示给他们看，他们肯定会喜欢这一切！可是，这根本不管用。在中国的文化里，同样存在类似的错误路线。是对文化这一力量保持极度信赖，还是要有诉诸武力的意识，这两者之间存在错误路线。” 长城在形态和意义上的变色龙性质 车窗外，长城依旧，气势雄伟。我越往前走，这样的建筑就越震撼着我，既为它们的美丽，也为它们的坚守。它们那变色龙一般的品质极为出色——这些城墙沿着地形的轮廓线蜿蜒向前，附着在山脊之上，带上了土壤的颜色，因为年久，因为取材自本土。在河北，那些城墙跟当地的山峦一样陡峭而粗糙因为它。在有些地方，你身处半山，却无法看清哪是岩石，哪是明长城。在黄土高原，山峦不再，取而代之的是布满台地的壕沟深渠。跟那块满目疮痍的大地上的其他东西一样，长城同样变得棱角分明。在鄂尔多斯沙漠边沿，那些屏障物看上去仿佛是一堆堆沙子。在河西走廊这儿，明城墙宛如一条色彩黯淡的蛇，在春日的阳光下伸展开去。如果这些建筑物在修建之初破坏了环境，那么随着岁月流逝，它的边角已经磨平，看上去跟周围融为一体，几成天然了。实在奇怪得很，人类曾经以为从月球上可以看见长城——我从来没有看到过哪个人造建筑物，跟周围环境如此精妙细微地融合在一起。在有些地段，即使你就站在那个东西上面，也可能懵然不知。 长城的意义也颇有变色龙的性质，对它的阐释曾经随着时间和观念的不同而不断改变。20世纪初期，革命家和民族主义者孙中山先生赞美它是中国历史上最伟大的建筑成就。毛泽东把它描绘成近代史上全民抵御外辱的先驱。对于上世纪二三十年代最伟大的作家鲁迅而言，那段城墙代表了中国文化里所有的糟粕。鲁迅把长城说成是“奇迹和诅咒”。他写道：“我总觉得周围有长城围绕。这长城的构成材料，是旧有的古砖和补添的新砖。两种东西联为一气造成了城壁，将人们包围。”第二次世界大战时，日本人占领了中国的北方地区。侵略者的士兵倚靠着长城拍下照片，为的是让人信服，他们占领了这片土地。豪尔赫·路易斯·博尔赫斯和弗兰弦·卡夫卡都根据长城编写过故事。在外国作家看来，长城一般象征着对外国人的恐惧，而中国人则觉得那是伟大文明的证据。由政府主办的《今日中国》甚至把它说成是多民族团结的象征——“与其说是屏障，不如说是河流”。长城的象征意义是一种流体，它表示什么东西都行，哪怕说成是蒙古人和汉人的合作也没有问题。 乡村人对陌生人无条件的信任 回到安寺村的时候，拄拐杖的那位老人正在耐心地等着我们。我了解到，他是那三兄弟的爷爷。他还告诉我，尤其在他们那个地方，计划生育政策执行得并不严格。“入们只要交了罚款，就可以多生，”他笑着说。他还是一点都不关心我是谁，我要做什么。在北方的农村，人们很少起疑心，他们邀请我进去喝茶或者吃饭，基本上很常见。对于农村生活的艰辛，我并未心存幻想，我在美中友好志愿者协会当志愿者的日子里就学会了，不能把贫穷想得太美。不过，在驾车穿越这些即将消失的村镇的过程中，我还是感受到了些许酸楚。那是我瞥见的最后一线生机——最后的小镇，最后的乡村少年，也许还有最后的家庭，兄弟姐妹俱全的大家庭。乡下人特有的诚实与信任，不会随着迁居入城而继续存在。在世界上，陌生人受到毫不迟疑的欢迎，赢得孩子们的信任，这样的地方并不多见。驾车离开安寺村的时候，我有些伤心。 长城只是建筑不能说明中华文明 世界上，没有哪个人对明长城的了解有石彬伦那么透彻。一次，我问他，这样的建筑物说明了中国的什么。“开讲座的时候，老有人问我这个问题，”他说道，“这说明中国的什么呢，中国是它的建造者呀？我的答案基本上是这样的：什么也说明不了。他们很有些失望。这个东西不过说明中国人曾经做了些什么而已。那只是他们进行自卫的一种方式。” 石彬伦讨厌把长城赋予象征意义，并加以利用。在他看来，长城已经变成了一个极其简单的隐喻，人们更愿意对它进行阐释，胜于对它进行调查研究。他认为,把某一个具体的建筑结构用来解释类似中华文明这么复杂的东西，是十分不公平的。“我怎么看它呢？那一带是边疆地区，经常容易受到攻击，”他说道，“他们只好修建了这样的边境防御体系。人们把它跟外交、贸易以及对蒙古领土的侵扰等联系起来。” 石彬伦继续说道：“人们常说，值吗？我可不认为当时的人会这么想问题。没有哪一个城邦国家说过这样的话：‘我们放弃这块土地吧’或者‘我们可以牺牲多少多少平民和士兵的性命。’账不是这样算的。每一个王朝都会设法保全自己。” 最初的爱情；最后的仪式 由八个短篇小说组成，看得很爽。八个短篇分别经由青少年男性的视角出发，讲述了八段情节各异却又情绪共通的故事，或恐怖或暴烈，或残酷或变态，或荒唐或魔幻，同时却既温柔又感伤；就像每个人都会经历的疯魔而又伤感的青春期，是每个人都可以从中烛照出自我的“青春残酷物语”。 1 他们每天早上从自家的门前台阶上涌出，去往磨坊、工厂、木料场和伦敦的码头，辛苦劳累一星期，星期天才得休息，然后休息一星期又得奔赴苦役。每晚回来时变得更老、更累，却没有更富。我和雷蒙德喝茶时经常笑话这种对生活的消极背叛。他们砍呀挖呀推呀包啊查啊，为别人的利润呻吟和流汗。我们还笑话他们为了肯定自己，把一生的低眉折腰看成是美德，还为从未错过这地狱中的每一天而奖励自己。 2 我们⾛到码头上,我给她看我的船系在尽头。那是⼀条划艇,外绿内红,像只⽔果。这个夏天我每天都来,为它划桨,给它上漆,把它擦⼲净,有时只是来看看它。有⼀次我逆流划了七英⾥远,然后⽤那天剩余的时间顺流漂回来。我们坐在码头的边沿看着⼩船、河⽔和对岸的树。 牧⽺⼈的奇幻之旅 1 “⼈们很早就学会了⽣活的道理。”⽼⼈说,眼中露出⼀丝苦涩,“也许正因为如此,他们才会早早地就放弃了它们。世界就是如此。 2 “恰恰是实现梦想的可能性,才使⽣活变得有趣。” 3 ⽼者接着说道:“这本书和⼏乎所有的书⼀样,讲的是同⼀个道理,⼈们⽆法选择⾃⼰的命运。它要使⼤家相信这个世上最⼤的谎⾔。” “什么是世上最⼤的谎⾔?”男孩吃惊地问道。 “在⼈⽣的某个时候,我们失去了对⾃⼰⽣活的掌控,命运主宰了我们的⼈⽣。这就是世上最⼤的谎⾔。” 4 “如果我决定留下呢?” “你将是绿洲的顾问。你会有⾜够的黄⾦去购买很多⽺和很多骆驼。你会跟法蒂玛结婚,⽽且第⼀年你们会⽣活得很幸福。你将会热爱沙漠,将对那五万棵椰枣树中的每⼀棵都了如指掌。你会观察到它们如何⽣长,如何展⽰出⼀个不断变化的世界。你还会明⽩越来越多的预兆,因为沙漠是所有⽼师中最好的⼀个。 “第⼆年你会记起那⼀批财宝。预兆开始不断地提⽰你这⼀点,⽽你则极⼒对那些预兆视⽽不见。你只运⽤你的知识去为绿洲和绿洲居民谋福。部落头领们会因此⽽感激你。你的骆驼将为你带来财富和权⼒。 “第三年,预兆会继续向你提⽰你那财宝和你的天命。你会整夜整夜地在绿洲踱来踱去,⽽法蒂玛将成为⼀个忧伤的⼥⼈,因为是她使你中断了前进的道路。但是你还会爱她,她也爱你。你会回想起她从未要求你留下,因为⼀个沙漠中的⼥⼈知道,应该等待她的男⼈。所以,你不会怪罪她。 但是,你会有许多个夜晚在沙漠⾥和椰枣树间徘徊,思考着也许当初应该继续前⾏,并更加相信⾃⼰对法蒂玛的爱。因为促使你留在绿洲的原因,是你害怕⾃⼰再也不会回来。到这时,预兆将告诉你,你的财宝将永远被埋在地下。 “第四年,预兆将会放弃你,因为你不再理会它们。部落头领们将会明⽩这⼀点,⽽你的顾问⼀职将被解除。到那时,你将成为富商,拥有很多骆驼和货物。但是,你的余⽣都将在沙漠和椰枣树之间游荡,你明⽩⾃⼰没有完成天命,那时再想去做,已经为时晚矣。 5 “你将永远不明⽩,爱情从来不会阻⽌⼀个男⼈去追寻天命。如果阻⽌,定因为那不是真正的爱情,不是⽤宇宙语⾔表达的爱情。” 6 谁也不能逃避⾃⼰的⼼,所以最好倾听⼼在说什么。只有这样,你才永远不会遭受意外的打击。 7 ⼈⼼全都如此。它们害怕实现更⼤的梦想,因为认为⾃⼰不配有这样的梦想,或者⽆法实现这样的梦想。⼀想到爱情去⽽不返,本该美好的时刻却并⾮如此,本该发现的财宝却永埋沙下,我们的⼼就害怕得要命。因为⼀旦这种情况发⽣,我们将会痛苦异常。” 你告诉它,害怕遭受痛苦⽐遭受痛苦本⾝还要糟糕。还要告诉它,没有任何⼀颗⼼在追求梦想的时候感到痛苦,因为追寻过程的每⼀刻,都与上帝和永恒同在。 “为什么⼼不告诉⼈们,他们应该追寻⾃⼰的梦想呢?”男孩问炼⾦术⼠。 “因为这样⼀来,⼼将会忍受更⼤的痛苦,⽽它不喜欢忍受痛苦。” 当我谈跑步时，我谈些什么 祸福相依，容易发胖使其注意健康 已经说过，我是那种不予过问的话，什么事儿都不做也会渐渐发胖的体质。我太太却不管吃多少(吃的不多，可一有点啥事就吃甜点心)，不做运动，也根本不会变胖，连赘肉都不长。我常常寻思:“人生真是不公平啊!”一些人不努力便得不到的东西，有些人却无须努力便唾手可得。 不过细想起来，这种生来易于肥胖的体质，或许是一种幸运。比如说，我这种人为了不增加体重，每天得剧烈地运动留意饮食，有所节制。何等费劲的人生啊!然而倘使从不偷懒，坚持努力，代谢便可以维持在高水平，身体愈来愈健康强壮，老化恐怕也会减缓。什么都不做也不发胖的人无须留意运动和饮食。并无必要，却去寻这种麻烦事儿做的人，为数肯定 不会太多，因此这种体质的人，每每随着年龄增长而体力日渐衰退。不着意锻炼的话，自然而然，肌肉便会松弛，骨质便会变弱。什么才是公平，还得以长远的眼光观之，才能看明白阅读此文的读者，也许有人抱有这样的苦恼:“啊呀呀，一不小心体重马上就增加····..”应当动用积极正面的思考，将此视为上天赐予的好运:容易看清红灯，就够幸运了。不过，这么去思考问题也不容易。 喜欢的事儿自然可以坚持下去 我说起每天都坚持跑步，总有人表示钦佩:“你真是意志坚强啊!”得到表扬，我固然欢喜，这总比受到贬低要惬意得多。然而，并非只凭意志坚强就可以无所不能，人世不是那么单纯的。老实说，我甚至觉得每天坚持跑步同意志的强弱并没有太大的关联。我能够坚持跑步二十年，恐怕还是因为跑步合乎我的性情，至少“不觉得那么痛苦”。人生来如此:喜欢的事儿自然可以坚持下去，不喜欢的事儿怎么也坚持不了。意志之类，恐怕也与“坚持”有一丁点瓜葛。然而无论何等意志坚强的人，何等争强好胜的人，不喜欢的事情终究做不到持之以恒;做到了，也对身体不利。 最重要的东西在学校里学不到 话虽如此，也许真有人读了这篇文章，陡然来了兴趣:“好啊，我也跑它一跑试试。”当真练起跑步来。“呵呵，这不挺好玩儿吗?”这当然是不错的结果。果真发生了这等事，作为本书的作者,我也非常高兴。然而每个人都有对路与不对路之事既有人适合马拉松，也有人适合高尔夫，还有人适合赌博。 看见学校上体育课时，让全体学生都练长跑的光景，我便深感同情:“好可怜啊。”那些丝毫不想跑步的人，抑或体质不适合跑步的人，不分青红皂白让他们统统去跑长跑，这是何等无意义的拷问。我很想发出忠告:趁着还没有出现问题，赶快取消让初中生和高中生一律跑长跑的做法。当然，我这样的人出面说这种话，肯定无人理会。学校就是这样一种地方:在学校里我们学到的最重要的东西，就是“最重要的东西在学校里学不到”这一真理。 任怎么说长跑和自己的性情相符，也有这样的日子。“今天觉得身体好沉重啊。不想跑步啦。”经常有类似的日子。这时候便寻找出形形色色冠冕堂皇的理由来，想休息，不想跑了。我曾经采访过奥运会长跑选手漱古利彦，在他退役就任S&B队教练后不久。当时我问道:“古君这样高水平的长跑选手，会不会也有今天不想跑啦、觉得烦啦、想待在家里睡觉这类情形呢?”古君正所谓怒目圆睁，然后用了类似这人怎么问出这种傻问题来”的语气回答:“那还用问!这种事情经常发生。” "}}