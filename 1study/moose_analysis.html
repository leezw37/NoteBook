
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>moose_analysis · lzw笔记</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-treeview/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="moose.html" />
    
    
    <link rel="prev" href="9nuclear_english.html" />
    

    
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    
    
    
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicon.ico">
    
    
        
    
    
        
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    1study
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="9nuclear_english.html">
            
                <a href="9nuclear_english.html">
            
                    
                    9nuclear_english
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.2" data-path="moose_analysis.html">
            
                <a href="moose_analysis.html">
            
                    
                    moose_analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="moose.html">
            
                <a href="moose.html">
            
                    
                    moose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="NUSOL_FI_JFNK.html">
            
                <a href="NUSOL_FI_JFNK.html">
            
                    
                    NUSOL_FI_JFNK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="relap5_analysis.html">
            
                <a href="relap5_analysis.html">
            
                    
                    relap5_analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="relap5.html">
            
                <a href="relap5.html">
            
                    
                    relap5
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    3cs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../3cs/0cs.html">
            
                <a href="../3cs/0cs.html">
            
                    
                    0cs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../3cs/1android.html">
            
                <a href="../3cs/1android.html">
            
                    
                    1android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../3cs/1linux.html">
            
                <a href="../3cs/1linux.html">
            
                    
                    1linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../3cs/1web.html">
            
                <a href="../3cs/1web.html">
            
                    
                    1web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../3cs/1windows.html">
            
                <a href="../3cs/1windows.html">
            
                    
                    1windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../3cs/2cpp.html">
            
                <a href="../3cs/2cpp.html">
            
                    
                    2cpp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../3cs/2html.html">
            
                <a href="../3cs/2html.html">
            
                    
                    2html
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../3cs/2javascript.html">
            
                <a href="../3cs/2javascript.html">
            
                    
                    2javascript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../3cs/2shellscript.html">
            
                <a href="../3cs/2shellscript.html">
            
                    
                    2shellscript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../3cs/3gitboook.html">
            
                <a href="../3cs/3gitboook.html">
            
                    
                    3gitboook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="../3cs/3markdown.html">
            
                <a href="../3cs/3markdown.html">
            
                    
                    3markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="../3cs/4gdb.html">
            
                <a href="../3cs/4gdb.html">
            
                    
                    4gdb
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="../3cs/4git.html">
            
                <a href="../3cs/4git.html">
            
                    
                    4git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="../3cs/4mysql.html">
            
                <a href="../3cs/4mysql.html">
            
                    
                    4mysql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="../3cs/4regex.html">
            
                <a href="../3cs/4regex.html">
            
                    
                    4regex
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="../3cs/5vim.html">
            
                <a href="../3cs/5vim.html">
            
                    
                    5vim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="../3cs/5vscode.html">
            
                <a href="../3cs/5vscode.html">
            
                    
                    5vscode
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    9me
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../9me/0read.html">
            
                <a href="../9me/0read.html">
            
                    
                    0read
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../9me/1book.html">
            
                <a href="../9me/1book.html">
            
                    
                    1book
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../9me/test.html">
            
                <a href="../9me/test.html">
            
                    
                    test
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../9me/Untitled.html">
            
                <a href="../9me/Untitled.html">
            
                    
                    Untitled
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >moose_analysis</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#&#x76EE;&#x5F55;"><b>1. </b>&#x76EE;&#x5F55;</a></li><li><span class="title-icon "></span><a href="#&#x6982;&#x8FF0;"><b>2. </b>&#x6982;&#x8FF0;</a></li><li><span class="title-icon "></span><a href="#&#x7F16;&#x8BD1;makefile"><b>3. </b>&#x7F16;&#x8BD1;Makefile</a></li><ul><li><span class="title-icon "></span><a href="#&#x6982;&#x8FF0;_1"><b>3.1. </b>&#x6982;&#x8FF0;</a></li><li><span class="title-icon "></span><a href="#&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;"><b>3.2. </b>&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;</a></li><li><span class="title-icon "></span><a href="#&#x7F16;&#x8BD1;moose&#x6846;&#x67B6;&#x548C;&#x6A21;&#x5757;"><b>3.3. </b>&#x7F16;&#x8BD1;MOOSE&#x6846;&#x67B6;&#x548C;&#x6A21;&#x5757;</a></li><li><span class="title-icon "></span><a href="#&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;"><b>3.4. </b>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;</a></li></ul><li><span class="title-icon "></span><a href="#&#x8FD0;&#x884C;&#xFF0C;main"><b>4. </b>&#x8FD0;&#x884C;&#xFF0C;main()</a></li><ul><li><span class="title-icon "></span><a href="#&#x6982;&#x8FF0;_2"><b>4.1. </b>&#x6982;&#x8FF0;</a></li><li><span class="title-icon "></span><a href="#&#x5305;&#x542B;&#x5934;&#x6587;&#x4EF6;"><b>4.2. </b>&#x5305;&#x542B;&#x5934;&#x6587;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;"><b>4.3. </b>&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;</a></li><li><span class="title-icon "></span><a href="#&#x521D;&#x59CB;&#x5316;app"><b>4.4. </b>&#x521D;&#x59CB;&#x5316;app</a></li><li><span class="title-icon "></span><a href="#&#x6CE8;&#x518C;app"><b>4.5. </b>&#x6CE8;&#x518C;App</a></li><ul><li><span class="title-icon "></span><a href="#&#x6CE8;&#x518C;app&#x672C;&#x4F53;"><b>4.5.1. </b>&#x6CE8;&#x518C;App&#x672C;&#x4F53;</a></li><li><span class="title-icon "></span><a href="#&#x6CE8;&#x518C;objects"><b>4.5.2. </b>&#x6CE8;&#x518C;Objects</a></li><li><span class="title-icon "></span><a href="#&#x5173;&#x8054;&#x8BED;&#x6CD5;"><b>4.5.3. </b>&#x5173;&#x8054;&#x8BED;&#x6CD5;</a></li></ul><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;app&#x5B9E;&#x4F8B;"><b>4.6. </b>&#x521B;&#x5EFA;app&#x5B9E;&#x4F8B;</a></li><li><span class="title-icon "></span><a href="#&#x8FD0;&#x884C;app&#xFF0C;mooseapprun"><b>4.7. </b>&#x8FD0;&#x884C;app&#xFF0C;MooseApp::run()</a></li><ul><li><span class="title-icon "></span><a href="#&#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;"><b>4.7.1. </b>&#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x6267;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;"><b>4.7.2. </b>&#x6267;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x8FD0;&#x884C;&#x6C42;&#x89E3;&#x5668;&#xFF0C;mooseappexecuteexecutioner"><b>4.7.3. </b>&#x8FD0;&#x884C;&#x6C42;&#x89E3;&#x5668;&#xFF0C;MooseApp::executeExecutioner()</a></li></ul></ul><li><span class="title-icon "></span><a href="#&#x8BE6;&#x89E3;&#x7A33;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;steadyexecute"><b>5. </b>&#x8BE6;&#x89E3;&#x7A33;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;Steady::execute()</a></li><ul><li><span class="title-icon "></span><a href="#&#x6982;&#x8FF0;_3"><b>5.1. </b>&#x6982;&#x8FF0;</a></li><li><span class="title-icon "></span><a href="#&#x66F4;&#x65B0;&#x72B6;&#x6001;advancestate"><b>5.2. </b>&#x66F4;&#x65B0;&#x72B6;&#x6001;advanceState</a></li><li><span class="title-icon "></span><a href="#adaptivity&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x5224;&#x65AD;"><b>5.3. </b>Adaptivity&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x5224;&#x65AD;</a></li><li><span class="title-icon "></span><a href="#&#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;timestepsetup"><b>5.4. </b>&#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;timestepSetup</a></li><li><span class="title-icon "></span><a href="#&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x771F;&#x6B63;&#x6C42;&#x89E3;&#xFF0C;fixedpointsolvesolve"><b>5.5. </b>&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x771F;&#x6B63;&#x6C42;&#x89E3;&#xFF0C;FixedPointSolve::solve()</a></li><ul><li><span class="title-icon "></span><a href="#&#x6982;&#x8FF0;_4"><b>5.5.1. </b>&#x6982;&#x8FF0;</a></li><li><span class="title-icon "></span><a href="#&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;"><b>5.5.2. </b>&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;</a></li><li><span class="title-icon "></span><a href="#fixedpointsolvesolvestep----feproblemsolvesolve"><b>5.5.3. </b>FixedPointSolve::solveStep() --&gt; FEProblemSolve::solve()</a></li></ul></ul><li><span class="title-icon "></span><a href="#&#x8BE6;&#x89E3;&#x77AC;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;transientexecute"><b>6. </b>&#x8BE6;&#x89E3;&#x77AC;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;Transient::execute()</a></li><li><span class="title-icon "></span><a href="#&#x4ECE;kernel&#x7684;computeqpresidual&#x51FD;&#x6570;&#x5F00;&#x59CB;"><b>7. </b>&#x4ECE;kernel&#x7684;computeQpResidual&#x51FD;&#x6570;&#x5F00;&#x59CB;</a></li><li><span class="title-icon "></span><a href="#&#x5176;&#x4ED6;"><b>8. </b>&#x5176;&#x4ED6;</a></li><ul><ul><li><span class="title-icon "></span><a href="#kernel&#x8C03;&#x7528;&#x7269;&#x6027;"><b>8.1.1. </b>kernel&#x8C03;&#x7528;&#x7269;&#x6027;</a></li><li><span class="title-icon "></span><a href="#auxkernel&#x8C03;&#x7528;&#x7269;&#x6027;&#xFF0C;densityaux"><b>8.1.2. </b>auxkernel&#x8C03;&#x7528;&#x7269;&#x6027;&#xFF0C;densityaux</a></li></ul></ul></ul></div><a href="#&#x76EE;&#x5F55;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><div class="treeview__container"><div class="treeview__container-title"><span class="treeview__main-title">Treeview</span><span class="treeview__copyright">Copyright &#xA9; aleen42 all right reserved, powered by <a href="https://github.com/aleen42" target="_blank">aleen42</a></span></div><ul>
<li><div><a href="#&#x76EE;&#x5F55;">&#x76EE;&#x5F55;</a><i></i></div></li>
<li><div><a href="#&#x6982;&#x8FF0;">&#x6982;&#x8FF0;</a><i></i></div></li>
<li><div><a href="#&#x7F16;&#x8BD1;makefile">&#x7F16;&#x8BD1;Makefile</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6982;&#x8FF0;">&#x6982;&#x8FF0;</a><i></i></div></li>
<li><div><a href="#&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;">&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;</a><i></i></div></li>
<li><div><a href="#&#x7F16;&#x8BD1;moose&#x6846;&#x67B6;&#x548C;&#x6A21;&#x5757;">&#x7F16;&#x8BD1;MOOSE&#x6846;&#x67B6;&#x548C;&#x6A21;&#x5757;</a><i></i></div></li>
<li><div><a href="#&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;">&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x8FD0;&#x884C;&#xFF0C;main">&#x8FD0;&#x884C;&#xFF0C;main()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6982;&#x8FF0;">&#x6982;&#x8FF0;</a><i></i></div></li>
<li><div><a href="#&#x5305;&#x542B;&#x5934;&#x6587;&#x4EF6;">&#x5305;&#x542B;&#x5934;&#x6587;&#x4EF6;</a><i></i></div></li>
<li><div><a href="#&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;">&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;</a><i></i></div></li>
<li><div><a href="#&#x521D;&#x59CB;&#x5316;app">&#x521D;&#x59CB;&#x5316;app</a><i></i></div></li>
<li><div><a href="#&#x6CE8;&#x518C;app">&#x6CE8;&#x518C;App</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6CE8;&#x518C;app&#x672C;&#x4F53;">&#x6CE8;&#x518C;App&#x672C;&#x4F53;</a><i></i></div></li>
<li><div><a href="#&#x6CE8;&#x518C;objects">&#x6CE8;&#x518C;Objects</a><i></i></div></li>
<li><div><a href="#&#x5173;&#x8054;&#x8BED;&#x6CD5;">&#x5173;&#x8054;&#x8BED;&#x6CD5;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x521B;&#x5EFA;app&#x5B9E;&#x4F8B;">&#x521B;&#x5EFA;app&#x5B9E;&#x4F8B;</a><i></i></div></li>
<li><div><a href="#&#x8FD0;&#x884C;app&#xFF0C;mooseapprun">&#x8FD0;&#x884C;app&#xFF0C;MooseApp::run()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;">&#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;</a><i></i></div></li>
<li><div><a href="#&#x6267;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;">&#x6267;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;</a><i></i></div></li>
<li><div><a href="#&#x8FD0;&#x884C;&#x6C42;&#x89E3;&#x5668;&#xFF0C;mooseappexecuteexecutioner">&#x8FD0;&#x884C;&#x6C42;&#x89E3;&#x5668;&#xFF0C;MooseApp::executeExecutioner()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1F;">&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1F;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#feproblembase&#x7C7B;">FEProblemBase&#x7C7B;</a><i></i></div></li>
<li><div><a href="#executioner&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;">Executioner&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x521D;&#x59CB;&#x5316;">&#x521D;&#x59CB;&#x5316;</a><i></i></div></li>
<li><div><a href="#&#x6C42;&#x89E3;&#xFF0C;steadyexecute&#xFF0C;transientexecute">&#x6C42;&#x89E3;&#xFF0C;Steady::execute()&#xFF0C;Transient::execute()</a><i></i></div></li>
</ul></li>
</ul></li>
</ul></li>
<li><div><a href="#&#x8BE6;&#x89E3;&#x7A33;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;steadyexecute">&#x8BE6;&#x89E3;&#x7A33;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;Steady::execute()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6982;&#x8FF0;">&#x6982;&#x8FF0;</a><i></i></div></li>
<li><div><a href="#&#x66F4;&#x65B0;&#x72B6;&#x6001;advancestate">&#x66F4;&#x65B0;&#x72B6;&#x6001;advanceState</a><i></i></div></li>
<li><div><a href="#adaptivity&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x5224;&#x65AD;">Adaptivity&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x5224;&#x65AD;</a><i></i></div></li>
<li><div><a href="#&#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;timestepsetup">&#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;timestepSetup</a><i></i></div></li>
<li><div><a href="#&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x771F;&#x6B63;&#x6C42;&#x89E3;&#xFF0C;fixedpointsolvesolve">&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x771F;&#x6B63;&#x6C42;&#x89E3;&#xFF0C;FixedPointSolve::solve()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6982;&#x8FF0;">&#x6982;&#x8FF0;</a><i></i></div></li>
<li><div><a href="#&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;">&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;</a><i></i></div></li>
<li><div><a href="#fixedpointsolvesolvestep---gt-feproblemsolvesolve">FixedPointSolve::solveStep() --&gt; FEProblemSolve::solve()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#feproblembasesolve">FEProblemBase::solve()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#nonlinearsystemsolve">NonlinearSystem::solve()</a><i></i></div></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><div><a href="#&#x8BE6;&#x89E3;&#x77AC;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;transientexecute">&#x8BE6;&#x89E3;&#x77AC;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;Transient::execute()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li> 
<ul>
<li> 
<ul>
<li><div><a href="#&#x521D;&#x59CB;&#x5316;-init">&#x521D;&#x59CB;&#x5316; init()</a><i></i></div></li>
<li><div><a href="#&#x8FD0;&#x884C;execute">&#x8FD0;&#x884C;execute()</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6982;&#x8FF0;">&#x6982;&#x8FF0;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x4ECE;kernel&#x7684;computeqpresidual&#x51FD;&#x6570;&#x5F00;&#x59CB;">&#x4ECE;kernel&#x7684;computeQpResidual&#x51FD;&#x6570;&#x5F00;&#x59CB;</a><i></i></div></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><div><a href="#&#x5176;&#x4ED6;">&#x5176;&#x4ED6;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li> 
<ul>
<li><div><a href="#kernel&#x8C03;&#x7528;&#x7269;&#x6027;">kernel&#x8C03;&#x7528;&#x7269;&#x6027;</a><i></i></div></li>
<li><div><a href="#auxkernel&#x8C03;&#x7528;&#x7269;&#x6027;&#xFF0C;densityaux">auxkernel&#x8C03;&#x7528;&#x7269;&#x6027;&#xFF0C;densityaux</a><i></i></div></li>
</ul></li>
</ul></li>
</ul>
</div>

<h1 id="&#x76EE;&#x5F55;"><a name="&#x76EE;&#x5F55;" class="anchor-navigation-ex-anchor" href="#&#x76EE;&#x5F55;"><i class="fa fa-link" aria-hidden="true"></i></a>1. &#x76EE;&#x5F55;</h1>
<p>[TOC]</p>
<h1 id="&#x6982;&#x8FF0;"><a name="&#x6982;&#x8FF0;" class="anchor-navigation-ex-anchor" href="#&#x6982;&#x8FF0;"><i class="fa fa-link" aria-hidden="true"></i></a>2. &#x6982;&#x8FF0;</h1>
<p>&#x672C;&#x6587;&#x4EE5;MOOSE&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x4E3A;&#x7814;&#x7A76;&#x5BF9;&#x8C61;&#xFF0C;&#x5206;&#x6790;&#x6574;&#x4E2A;&#x7F16;&#x8BD1;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x3002;&#x5176;&#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84;&#x5728; <code>moose/examples/ex01_inputfile</code>&#x3002;
&#x672C;&#x6587;&#x4EE5;&#x4E93;&#x6B23;&#x6CE2;&#x535A;&#x58EB;2017&#x7684;&#x4E24;&#x7BC7;&#x535A;&#x5BA2;&#x4E3A;&#x57FA;&#x7840;&#x62D3;&#x5C55;&#x800C;&#x6765;&#xFF0C;&#x5728;&#x6B64;&#x8868;&#x793A;&#x611F;&#x8C22;&#x3002;</p>
<ol>
<li><p><a href="https://www.qixinbo.info/2017/02/14/moose-run/" target="_blank">&#x591A;&#x7269;&#x7406;&#x573A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x6A21;&#x62DF;&#x73AF;&#x5883;MOOSE&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x5206;&#x6790;</a></p>
</li>
<li><p><a href="https://www.qixinbo.info/2017/07/28/moose-run-details/" target="_blank">MOOSE&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x518D;&#x5206;&#x6790;</a></p>
</li>
</ol>
<h1 id="&#x7F16;&#x8BD1;makefile"><a name="&#x7F16;&#x8BD1;makefile" class="anchor-navigation-ex-anchor" href="#&#x7F16;&#x8BD1;makefile"><i class="fa fa-link" aria-hidden="true"></i></a>3. &#x7F16;&#x8BD1;Makefile</h1>
<p>&#x6574;&#x4E2A;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x90FD;&#x5199;&#x5728;&#x4E86;Makefile&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4FEE;&#x6539;&#x4EE5;&#x6253;&#x5F00;&#x9700;&#x8981;&#x7684;&#x6A21;&#x5757;&#x3002;</p>
<h2 id="&#x6982;&#x8FF0;_1"><a name="&#x6982;&#x8FF0;_1" class="anchor-navigation-ex-anchor" href="#&#x6982;&#x8FF0;_1"><i class="fa fa-link" aria-hidden="true"></i></a>3.1. &#x6982;&#x8FF0;</h2>
<p>&#x7F16;&#x8BD1;&#x4E00;&#x4E2A;moose&#x7A0B;&#x5E8F;&#x53EA;&#x9700;&#x6267;&#x884C;<code>make -j8</code>&#x6216;&#x8005;<code>make -j8 METHOD=dbg</code>&#xFF0C;&#x5206;&#x522B;&#x751F;&#x6210;ex01-opt&#x548C;ex01-dbg&#x6587;&#x4EF6;&#xFF0C;&#x540E;&#x8005;&#x53EF;&#x4EE5;&#x8C03;&#x8BD5;&#xFF0C;&#x6267;&#x884C;&#x540E;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-bash">
Rebuilding symlinks <span class="hljs-keyword">in</span> /home/lee/projects/moose/examples/ex01_inputfile/build/header_symlinks
Compiling C++ (<span class="hljs-keyword">in</span> dbg mode) /home/lee/projects/moose/examples/ex01_inputfile/src/base/ExampleApp.C...
Compiling C++ (<span class="hljs-keyword">in</span> dbg mode) /home/lee/projects/moose/examples/ex01_inputfile/src/main.C...
Linking Library /home/lee/projects/moose/examples/ex01_inputfile/<span class="hljs-built_in">test</span>/lib/libex01_<span class="hljs-built_in">test</span>-dbg.la...
Linking Library /home/lee/projects/moose/examples/ex01_inputfile/lib/libex01-dbg.la...
Linking Executable /home/lee/projects/moose/examples/ex01_inputfile/ex01-dbg...
</code></pre>
<p>&#x4ECE;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x5927;&#x6982;&#x6D41;&#x7A0B;&#xFF1A;</p>
<ol>
<li>&#x521B;&#x5EFA;<code>build/header_symlinks</code>&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5305;&#x542B;&#x7A0B;&#x5E8F;&#x81EA;&#x8EAB;include&#x548C;test/include &#x6587;&#x4EF6;&#x5939;&#x5185;&#x7684;&#x6240;&#x6709;&#x5934;&#x6587;&#x4EF6;&#xFF0C;&#x5982;<code>ExampleApp.h</code>&#xFF0C;<code>ExampleTestApp.h</code>&#xFF0C;<code>xxxkernel.h</code>&#x3002;</li>
<li>&#x521B;&#x5EFA;<code>build/unity_src</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x628A;&#x6BCF;&#x4E2A;src&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;&#x5B50;&#x6587;&#x4EF6;&#x5939;&#x5206;&#x522B;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF08;<code>#include&quot;/xxx/xxx/xxx.C&quot;</code>&#xFF09;&#xFF0C;&#x5982;<code>kernels_Unity.C</code>&#x5305;&#x542B;&#x6240;&#x6709;kernel&#x6587;&#x4EF6;&#x3002;</li>
<li>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;<code>src/base/ExampleApp.C</code>&#xFF0C;&#x7528;&#x4E8E;&#x6CE8;&#x518C;&#x7A0B;&#x5E8F;&#x3001;object&#x3001;action&#x7B49;&#x3002;</li>
<li>&#x7F16;&#x8BD1;&#x771F;&#x6B63;&#x7684;&#x4E3B;&#x7A0B;&#x5E8F;<code>src/main.C</code>&#xFF0C;&#x5305;&#x542B;&#x521D;&#x59CB;&#x5316;&#x3001;&#x6CE8;&#x518C;&#x6240;&#x6709;&#x76F8;&#x5173;app&#x3001;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x7B49;&#x3002;</li>
<li>&#x94FE;&#x63A5;&#x5E93;&#x6587;&#x4EF6;<code>lib/libex01-dbg.la</code>&#x548C;<code>test/lib/libex01_test-dbg.la</code>&#xFF0C;&#x5305;&#x542B;framework&#x548C;module&#x7684;&#x6587;&#x4EF6;</li>
<li>&#x94FE;&#x63A5;&#x751F;&#x6210;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;<code>ex01-dbg</code>&#x3002;</li>
</ol>
<h2 id="&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;"><a name="&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>3.2. &#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;</h2>
<pre><code class="lang-makefile">
EXAMPLE_DIR        ?= <span class="hljs-variable">$(shell dirname `pwd`)</span>
MOOSE_DIR          ?= <span class="hljs-variable">$(shell dirname $(EXAMPLE_DIR)</span>)
FRAMEWORK_DIR      ?= <span class="hljs-variable">$(MOOSE_DIR)</span>/framework
</code></pre>
<p>&#x5229;&#x7528;?=&#x64CD;&#x4F5C;&#x7B26;&#x6765;&#x8D4B;&#x503C;&#xFF0C;&#x901A;&#x8FC7;&#x8C03;&#x7528;shell&#x7684;dirname&#x547D;&#x4EE4;&#x6765;&#x63D0;&#x53D6;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;<strong>&#x7684;&#x76EE;&#x5F55;</strong>&#x3002;</p>
<p>&#x5BF9;&#x4E8E;fork&#x51FA;&#x6765;&#x7684;&#x72EC;&#x7ACB;&#x7A0B;&#x5E8F;&#xFF0C;&#x8DEF;&#x5F84;&#x4E00;&#x822C;&#x4E0E;moose&#x5E76;&#x5217;&#x3002;&#x5982;&#x679C;&#x662F;&#x653E;&#x5728;&#x522B;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4EBA;&#x4E3A;&#x4FEE;&#x6539;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;</p>
<h2 id="&#x7F16;&#x8BD1;moose&#x6846;&#x67B6;&#x548C;&#x6A21;&#x5757;"><a name="&#x7F16;&#x8BD1;moose&#x6846;&#x67B6;&#x548C;&#x6A21;&#x5757;" class="anchor-navigation-ex-anchor" href="#&#x7F16;&#x8BD1;moose&#x6846;&#x67B6;&#x548C;&#x6A21;&#x5757;"><i class="fa fa-link" aria-hidden="true"></i></a>3.3. &#x7F16;&#x8BD1;MOOSE&#x6846;&#x67B6;&#x548C;&#x6A21;&#x5757;</h2>
<pre><code class="lang-makefile">
include $(FRAMEWORK_DIR)/build.mk
include $(FRAMEWORK_DIR)/moose.mk

include $(MOOSE_DIR)/modules/modules.mk
</code></pre>
<p>&#x4F7F;&#x7528;include&#x5305;&#x542B;&#x57FA;&#x672C;&#x6846;&#x67B6;framework&#x548C;&#x884D;&#x751F;&#x6A21;&#x5757;modules&#x5404;&#x81EA;&#x7684;makefile&#x6587;&#x4EF6;&#xFF08;&#x5305;&#x542B;&#x6A21;&#x5757;&#x4E4B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x81EA;&#x52A8;&#x5F00;&#x542F;&#x76F8;&#x5E94;&#x7684;&#x4F9D;&#x8D56;&#x6A21;&#x5757;&#x3002;&#xFF09;</p>
<h2 id="&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;"><a name="&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;" class="anchor-navigation-ex-anchor" href="#&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;"><i class="fa fa-link" aria-hidden="true"></i></a>3.4. &#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;</h2>
<pre><code class="lang-makefile">
<span class="hljs-comment"># dep apps</span>
APPLICATION_DIR    := <span class="hljs-variable">$(shell pwd)</span>
APPLICATION_NAME   := ex01
BUILD_EXEC         := yes
GEN_REVISION       := no
include            $(FRAMEWORK_DIR)/app.mk
include            ../test.mk
</code></pre>
<p>&#x8FD9;&#x91CC;&#x4F7F;&#x7528;framework&#x4E0B;&#x7684;app.mk&#x8FD9;&#x4E2A;makefile&#x6765;&#x7F16;&#x8BD1;&#x672C;&#x7A0B;&#x5E8F;&#xFF0C;&#x6D89;&#x53CA;&#x7684;&#x8DEF;&#x5F84;&#x3001;&#x540D;&#x5B57;&#x7B49;&#x53C2;&#x6570;&#x4F1A;&#x4F20;&#x5165;&#x8BE5;&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
<h1 id="&#x8FD0;&#x884C;&#xFF0C;main"><a name="&#x8FD0;&#x884C;&#xFF0C;main" class="anchor-navigation-ex-anchor" href="#&#x8FD0;&#x884C;&#xFF0C;main"><i class="fa fa-link" aria-hidden="true"></i></a>4. &#x8FD0;&#x884C;&#xFF0C;main()</h1>
<p>/home/lee/projects/moose/examples/ex01_inputfile/src/main.C:28</p>
<h2 id="&#x6982;&#x8FF0;_2"><a name="&#x6982;&#x8FF0;_2" class="anchor-navigation-ex-anchor" href="#&#x6982;&#x8FF0;_2"><i class="fa fa-link" aria-hidden="true"></i></a>4.1. &#x6982;&#x8FF0;</h2>
<p>&#x6240;&#x6709;&#x7A0B;&#x5E8F;&#x7684;&#x5165;&#x53E3;&#x90FD;&#x662F;<code>main</code>&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x4ECE;&#x8FD9;&#x91CC;&#x5165;&#x624B;&#x80FD;&#x6BD4;&#x8F83;&#x6E05;&#x6670;&#x5730;&#x628A;&#x63E1;&#x6574;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x8109;&#x7EDC;&#x3002;<code>main</code>&#x51FD;&#x6570;&#x4F4D;&#x4E8E;<code>src/main.C</code>&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
<p><code>main(int argc, char * argv[])</code>&#x662F;C++ &#x7684;&#x4E60;&#x60EF;&#x5199;&#x6CD5;&#xFF0C;arg&#x5373;argument&#x53C2;&#x6570;&#xFF0C;c&#x5373; counter&#x8BA1;&#x6570; &#x548C;v&#x5373;value&#x503C;&#x3002;&#x56E0;&#x6B64;argc&#x6574;&#x6570;&#x662F;&#x7EDF;&#x8BA1;&#x8FD0;&#x884C;&#x4E3B;&#x7A0B;&#x5E8F;&#x65F6;&#x7ED9;&#x7684;&#x53C2;&#x6570;&#x4E2A;&#x6570;&#xFF0C;argv[]&#x6570;&#x7EC4;&#x5B58;&#x653E;&#x7740;&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x3002;&#x5982;&#x8FD0;&#x884C;<code>./ex01-dbg -i ex01.i</code>&#xFF0C;&#x5219;<code>argc = 3&#xFF0C;argv = [&quot;./ex01-dbg&quot;, &quot;-i&quot;, &quot;ex01.i&quot;]</code>&#x3002;3&#x4E2A;&#x53C2;&#x6570;&#x5206;&#x522B;&#x662F;&#x6267;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x7A0B;&#x5E8F;&#x7684;&#x9009;&#x9879;&#xFF0C;&#x9009;&#x9879;&#x7684;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x7A0B;&#x5E8F;&#x4E3B;&#x8981;&#x5206;4&#x6B65;&#x2014;&#x2014;&#x521D;&#x59CB;&#x5316;&#x3001;&#x6CE8;&#x518C;&#x3001;&#x521B;&#x5EFA;&#x548C;&#x8FD0;&#x884C;&#x3002;</p>
<h2 id="&#x5305;&#x542B;&#x5934;&#x6587;&#x4EF6;"><a name="&#x5305;&#x542B;&#x5934;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x5305;&#x542B;&#x5934;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>4.2. &#x5305;&#x542B;&#x5934;&#x6587;&#x4EF6;</h2>
<pre><code class="lang-cpp">
<span class="hljs-comment">// &#x58F0;&#x660E;&#x5177;&#x4F53;&#x95EE;&#x9898;&#x7C7B;&#x3002;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-string">&quot;ExampleApp.h&quot;</span></span>
<span class="hljs-comment">// &#x8BE5;&#x5934;&#x6587;&#x4EF6;&#x5305;&#x542B;&#x4E86;libMesh&#x7684;libmesh&#x5934;&#x6587;&#x4EF6;&#xFF0C;&#x4ECE;LibMeshInit&#x4E2D;Public&#x6D3E;&#x751F;&#x51FA;MooseInit&#x7C7B;&#x3002;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-string">&quot;MooseInit.h&quot;</span></span>
<span class="hljs-comment">// &#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x548C;&#x5B58;&#x50A8;&#x5404;&#x79CD;&#x5BF9;&#x8C61;&#x3002;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-string">&quot;MooseApp.h&quot;</span></span>
<span class="hljs-comment">// &#x58F0;&#x660E;AppFactory&#x7C7B;&#xFF0C;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5404;&#x79CD;&#x5BF9;&#x8C61;&#x3002;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-string">&quot;AppFactory.h&quot;</span></span>
</code></pre>
<p>&#x5305;&#x542B;&#x7A0B;&#x5E8F;&#x672C;&#x4F53;&#x7684;&#x5934;&#x6587;&#x4EF6;&#xFF0C;&#x548C;MOOSE&#x6700;&#x57FA;&#x672C;&#x7684;&#x5934;&#x6587;&#x4EF6;&#x3002;
&#x5176;&#x4E2D;&#xFF0C;AppFactory&#x7C7B;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;&#x5B8F;&#x5B9A;&#x4E49;&#xFF1A;<code>#define registerApp(name) AppFactory::instance().reg&lt;name&gt;(#name)</code>&#xFF0C;&#x7528;&#x4E8E;&#x5728;ExampleApp&#x4E2D;&#x6CE8;&#x518C;app&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x7A0B;&#x5E8F;&#x79C1;&#x6709;&#x7684;kernel&#x3001;material&#x7B49;&#x88AB;&#x5305;&#x542B;&#x5728;&#x521B;&#x5EFA;&#x7684;unity_src&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4EE5;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#x88AB;&#x94FE;&#x63A5;&#x5230;&#x6700;&#x7EC8;&#x7684;&#x7A0B;&#x5E8F;&#x3002;&#x6240;&#x9700;&#x7684;framework&#x6587;&#x4EF6;&#x548C;module&#x6587;&#x4EF6;&#x5305;&#x542B;&#x5728;lib/libex01-dbg.la&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
<h2 id="&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;"><a name="&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;"><i class="fa fa-link" aria-hidden="true"></i></a>4.3. &#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;</h2>
<p><a href="https://mooseframework.inl.gov/source/utils/PerfGraph.html" target="_blank">MOOSE&#x6027;&#x80FD;&#x65E5;&#x5FD7;PerfGraph</a></p>
<pre><code class="lang-cpp">
<span class="hljs-comment">// PerfLog&#x662F;libMesh&#x7684;&#x4E00;&#x4E2A;&#x7C7B;&#xFF0C;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;&#x3002;</span>
PerfLog Moose::perf_log(<span class="hljs-string">&quot;Example&quot;</span>);
</code></pre>
<p>&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;&#x901A;&#x8FC7;<code>TIME_SECTION</code>&#x5B8F;&#x5B9A;&#x4E49;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x4E5F;&#x7ECF;&#x5E38;&#x4F1A;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x88AB;&#x770B;&#x5230;&#xFF0C;<code>TIME_SECTION(section_name, level, live_message=&quot;&quot;, print_dots=true)</code>&#x3002;Section Timing&#x662F;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x6027;&#x80FD;&#x65E5;&#x5FD7;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x5F00;&#x53D1;&#x8005;&#x5FEB;&#x901F;&#x5730;&#x5B9A;&#x4F4D;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x74F6;&#x9888;&#x548C;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002;Section Timing&#x901A;&#x8FC7;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x6DFB;&#x52A0;&#x8BA1;&#x65F6;&#x5668;&#x5E76;&#x8BB0;&#x5F55;&#x5404;&#x4E2A;&#x90E8;&#x5206;&#xFF08;&#x6216;&#x201C;&#x8282;&#x201D;&#xFF09;&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x76EE;&#x6807;&#x3002;&#x6BCF;&#x4E2A;&#x201C;&#x8282;&#x201D;&#x8868;&#x793A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x529F;&#x80FD;&#x6216;&#x4EFB;&#x52A1;&#xFF0C;&#x4F8B;&#x5982;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x3001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6216;UI&#x6E32;&#x67D3;&#x3002;&#x901A;&#x8FC7;&#x8BB0;&#x5F55;&#x6BCF;&#x4E2A;&#x201C;&#x8282;&#x201D;&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x54EA;&#x4E9B;&#x201C;&#x8282;&#x201D;&#x9700;&#x8981;&#x4F18;&#x5316;&#x4EE5;&#x63D0;&#x9AD8;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6027;&#x80FD;&#x3002;</p>
<h2 id="&#x521D;&#x59CB;&#x5316;app"><a name="&#x521D;&#x59CB;&#x5316;app" class="anchor-navigation-ex-anchor" href="#&#x521D;&#x59CB;&#x5316;app"><i class="fa fa-link" aria-hidden="true"></i></a>4.4. &#x521D;&#x59CB;&#x5316;app</h2>
<p>/home/lee/projects/moose/framework/src/base/MooseInit.C:25</p>
<p><code>MooseInit init(argc, argv);</code> &#xFF0C;&#x521D;&#x59CB;&#x5316;MPI, solvers&#x548C; MOOSE&#x3002;&#x8C03;&#x7528;MooseInit&#x7C7B;&#x6765;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x4E5F;&#x8C03;&#x7528;&#x4E86;&#x5176;&#x7236;&#x7C7B;LibMeshInit&#xFF0C;&#x4ECE;&#x800C;&#x5BF9;libMesh&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#x3002;</p>
<h2 id="&#x6CE8;&#x518C;app"><a name="&#x6CE8;&#x518C;app" class="anchor-navigation-ex-anchor" href="#&#x6CE8;&#x518C;app"><i class="fa fa-link" aria-hidden="true"></i></a>4.5. &#x6CE8;&#x518C;App</h2>
<p>/home/lee/projects/moose/examples/ex01_inputfile/src/main.C</p>
<p><code>ExampleApp::registerApps();</code> &#xFF0C;&#x6CE8;&#x518C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;MooseApp&#x548C;&#x5B83;&#x4F9D;&#x8D56;&#x7684;&#x4E1C;&#x897F;&#x3002;
&#x6BCF;&#x4E2A;&#x57FA;&#x4E8E;MOOSE&#x7684;&#x7A0B;&#x5E8F;&#x90FD;&#x662F;&#x7EE7;&#x627F;&#x81EA;MooseApp&#x8FD9;&#x4E2A;&#x7C7B;&#xFF0C;&#x8BE5;&#x7C7B;&#x63D0;&#x4F9B;&#x521B;&#x5EFA;&#x5404;&#x79CD;&#x5BF9;&#x8C61;&#x7684;&#x5DE5;&#x5382;factories&#x4EE5;&#x53CA;&#x5B58;&#x653E;&#x5B83;&#x4EEC;&#x7684;&#x4ED3;&#x5E93;warehouses&#x3002;&#x521B;&#x5EFA;&#x4E86;&#x79C1;&#x6709;&#x7A0B;&#x5E8F;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x9759;&#x6001;&#x51FD;&#x6570;&#xFF1A;<code>registerApps()</code>,<code>registerObjects()</code>, <code>associateSyntax()</code></p>
<h3 id="&#x6CE8;&#x518C;app&#x672C;&#x4F53;"><a name="&#x6CE8;&#x518C;app&#x672C;&#x4F53;" class="anchor-navigation-ex-anchor" href="#&#x6CE8;&#x518C;app&#x672C;&#x4F53;"><i class="fa fa-link" aria-hidden="true"></i></a>4.5.1. &#x6CE8;&#x518C;App&#x672C;&#x4F53;</h3>
<p>/home/lee/projects/moose/examples/ex01_inputfile/src/base/ExampleApp.C:41</p>
<p><code>registerApp(ExampleApp);</code>&#x5176;&#x4E2D;registerApp&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6216;&#x7C7B;&#xFF0C;&#x6240;&#x4EE5;&#x5728;doxygen&#x4E2D;&#x67E5;&#x4E0D;&#x5230;&#xFF0C;&#x5B83;&#x662F;AppFactory&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5B8F;&#x5B9A;&#x4E49;&#xFF1A;
<code>#define registerApp(name) AppFactory::instance().reg&lt;name&gt;(#name)</code>&#xFF0C;&#x4F4D;&#x4E8E;<code>framework/include/base/AppFactory.h</code></p>
<h3 id="&#x6CE8;&#x518C;objects"><a name="&#x6CE8;&#x518C;objects" class="anchor-navigation-ex-anchor" href="#&#x6CE8;&#x518C;objects"><i class="fa fa-link" aria-hidden="true"></i></a>4.5.2. &#x6CE8;&#x518C;Objects</h3>
<p>&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;&#x6CE8;&#x518C;Objects&#xFF0C;&#x5C31;&#x662F;kernel&#x3001;material&#x3001;Executioners&#x3001;UserObjects&#x7B49;&#x7B49;&#x3002;&#x672C;&#x4F8B;&#x6CA1;&#x6709;&#x7528;&#x5230;&#x81EA;&#x5B9A;&#x4E49;&#x7684;Objects&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x51FD;&#x6570;&#x662F;&#x7A7A;&#x767D;&#x7684;&#x3002;&#x4F46;&#x5982;&#x679C;&#x81EA;&#x5B9A;&#x4E49;&#x4E86;&#x67D0;&#x4E2A;object&#xFF0C;&#x6BD4;&#x5982;&#x5728;example2&#x4E2D;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x4E2A;Kernel&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x8BE5;object&#xFF1A;</p>
<pre><code class="lang-cpp">
<span class="hljs-keyword">void</span>
ExampleApp::registerObjects(Factory &amp; factory)
{
  registerKernel(ExampleConvection);  <span class="hljs-comment">// &lt;- registration</span>
}
</code></pre>
<p>&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x7684;object&#x4E5F;&#x7C7B;&#x4F3C;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;<code>registerAux()</code>, <code>registerBoundaryCondition()</code>, <code>registerMaterial()</code>, <code>registerInitialCondition()</code>&#x7B49;&#x7B49;&#x3002;</p>
<h3 id="&#x5173;&#x8054;&#x8BED;&#x6CD5;"><a name="&#x5173;&#x8054;&#x8BED;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x5173;&#x8054;&#x8BED;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>4.5.3. &#x5173;&#x8054;&#x8BED;&#x6CD5;</h3>
<p><code>associateSyntax()</code> &#x5305;&#x62EC;<code>associateSyntaxInner(syntax, action_factory);</code> &#x548C; <code>registerActions(syntax, action_factory);</code>&#xFF0C;&#x6CE8;&#x518C;&#x5404;&#x79CD;Action&#x53CA;&#x5176;&#x8BED;&#x6CD5;&#x3002;<a href="https://mooseframework.inl.gov/source/actions/Action.html" target="_blank">Action System</a> &#x5B8C;&#x6210;&#x521B;&#x5EFA;Objects&#x7B49;&#x4EFB;&#x52A1;&#xFF0C;syntax&#x5C31;&#x662F;&#x89E3;&#x6790;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x540E;&#x751F;&#x6210;&#x5BF9;&#x5E94;action&#x7684;&#x89C4;&#x5219;&#x3002;</p>
<h2 id="&#x521B;&#x5EFA;app&#x5B9E;&#x4F8B;"><a name="&#x521B;&#x5EFA;app&#x5B9E;&#x4F8B;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;app&#x5B9E;&#x4F8B;"><i class="fa fa-link" aria-hidden="true"></i></a>4.6. &#x521B;&#x5EFA;app&#x5B9E;&#x4F8B;</h2>
<p><code>std::shared_ptr&lt;MooseApp&gt; app = AppFactory::createAppShared(&quot;ExampleApp&quot;, argc, argv);</code> &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x5B9E;&#x4F8B;&#xFF0C;&#x5B58;&#x50A8;&#x5728;&#x4FBF;&#x4E8E;&#x6E05;&#x7406;&#x7684;&#x667A;&#x80FD;&#x6307;&#x9488;&#x4E2D;&#x3002;</p>
<h2 id="&#x8FD0;&#x884C;app&#xFF0C;mooseapprun"><a name="&#x8FD0;&#x884C;app&#xFF0C;mooseapprun" class="anchor-navigation-ex-anchor" href="#&#x8FD0;&#x884C;app&#xFF0C;mooseapprun"><i class="fa fa-link" aria-hidden="true"></i></a>4.7. &#x8FD0;&#x884C;app&#xFF0C;MooseApp::run()</h2>
<p>/home/lee/projects/moose/framework/src/base/MooseApp.C</p>
<p><code>app-&gt;run();</code>, &#x8FD9;&#x4E2A;<code>run</code>&#x51FD;&#x6570;&#x7EE7;&#x627F;&#x4E86;<code>MooseApp::run()</code>&#xFF0C;&#x662F;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x7684;&#x603B;&#x8C03;&#x5EA6;&#xFF0C;&#x5176;&#x9664;&#x4E86;&#x64B0;&#x5199;&#x6027;&#x80FD;&#x65E5;&#x5FD7;&#xFF0C;&#x4E3B;&#x8981;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;&#x6709;&#x4E09;&#x4E2A;&#xFF1A;<code>setupOptions();</code>, <code>runInputFile();</code>, <code>executeExecutioner();</code>&#xFF0C;&#x5373;&#x8BFB;&#x53D6;&#x8F93;&#x5165;&#x5E76;&#x914D;&#x7F6E;&#x3001;&#x8FD0;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#xFF0C;&#x6C42;&#x89E3;&#x3002;</p>
<h3 id="&#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;"><a name="&#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>4.7.1. &#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;</h3>
<p><code>setupOptions</code>&#x51FD;&#x6570;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#xFF1A;1.<code>getParam</code>&#x51FD;&#x6570;&#x8BFB;&#x53D6;&#x5E76;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x65F6;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x8F93;&#x5165;&#x7684;&#x9009;&#x9879;&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x540D;&#x3002;2.&#x8BFB;&#x53D6;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>
<ol>
<li><p><code>getParam</code>&#x51FD;&#x6570;&#x8BFB;&#x53D6;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x53D6;&#x5F97;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x540D;&#xFF0C;<code>_input_filename = &quot;ex01.i&quot;</code>&#x3002;</p>
<p> &#xFF08;&#x901A;&#x8FC7;&#x8C03;&#x7528;InputParameters&#x7C7B;&#x7684;<code>getParamHelper</code>&#x51FD;&#x6570; &#x2014;&#x2014;&gt; libMesh&#x7684;parameters&#x7C7B;&#x7684;<code>get</code>&#x51FD;&#x6570;&#x3002;&#xFF09;</p>
<p> &#x5982;&#x6253;&#x5370;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x7684;&#x9009;&#x9879;&#x53C2;&#x6570;&#x3002;&#x5982;&#x8FD0;&#x884C;<code>./ex01-dbg -h</code>&#xFF0C;&#x4F1A;&#x8BFB;&#x53D6;<code>-h</code>&#x9009;&#x9879;&#x53C2;&#x6570;&#x6267;&#x884C;<code>_command_line-&gt;printUsage();</code>&#xFF0C;&#x4F1A;&#x8F93;&#x51FA;&#x6240;&#x6709;&#x9009;&#x9879;&#x53C2;&#x6570;&#x53CA;&#x5176;&#x7528;&#x6CD5;</p>
<pre><code class="lang-bash">
 Usage: ./ex01-dbg [&lt;options&gt;]
 Options:
   -h --help           Displays CLI usage statement.
   -i &lt;input_files&gt;    Specify one or multiple input files. Multiple files get merged into a single simulation input.
   // ...more...
</code></pre>
</li>
<li><p>&#x4F7F;&#x7528;<code>_parser.parse(_input_filename);</code>&#x89E3;&#x6790;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x3002;&#x8C03;&#x7528;<a href="../home/lee/projects/moose/framework/src/parser/Parser.C">Parser::<code>parse</code>&#x51FD;&#x6570;</a>&#xFF0C;&#x901A;&#x8FC7;<code>find(sec)</code>&#x51FD;&#x6570;&#x904D;&#x5386;&#x6BCF;&#x4E00;&#x4E2A;&#x5757;section&#xFF0C;&#x6267;&#x884C;<code>walkRaw(n-&gt;parent()-&gt;fullpath(), n-&gt;path(), n);</code>&#x89E3;&#x6790;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x3002;</p>
<p> &#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x8BED;&#x6CD5;&#x5C06;&#x5404;&#x4E2A;&#x5757;&#x7684;&#x4FE1;&#x606F;&#x8BFB;&#x5165;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;
 <code>section_names = {&quot;Mesh/&quot;, &quot;Variables/&quot;, &quot;Variables/diffused/&quot;, &quot;Kernels/&quot;, &quot;Kernels/diff/&quot;,&quot;Executioner/&quot;}</code></p>
<p> &#x7136;&#x540E;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x5757;&#x8FDB;&#x884C;&#x904D;&#x5386;&#xFF0C;&#x67E5;&#x627E;&#x6BCF;&#x4E00;&#x4E2A;&#x5757;&#x4E0B;&#x5BF9;&#x5E94;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6BD4;&#x5982;&#x5BF9;&#x4E8E;Mesh&#x5757;&#xFF0C;&#x5176;&#x5305;&#x542B;&#x7684;&#x5C5E;&#x6027;&#x6709;&#xFF1A;
 <code>block_id block_name boundary_id boundary_name</code> &#x7B49;&#x7B49;&#x3002;</p>
</li>
<li><p>&#x901A;&#x8FC7;<code>_action_warehouse.build();</code> &#x6765;&#x6784;&#x5EFA;&#x4E00;&#x7CFB;&#x5217;&#x52A8;&#x4F5C;action&#xFF0C;&#x8FD9;&#x4E9B;&#x52A8;&#x4F5C;(&#x901A;&#x8FC7;<code>build</code>&#x51FD;&#x6570;&#x91CC;&#x7684;getSortedTask&#x6765;&#x83B7;&#x5F97;)&#x5305;&#x62EC;&#xFF1A;<code>&quot;setup_time_stepper&quot;, &quot;add_variable&quot;,  &quot;add_ic&quot;, &quot;add_output&quot;, &quot;add_kernel&quot;</code> &#x7B49;&#x7B49;&#x3002;</p>
</li>
</ol>
<h3 id="&#x6267;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;"><a name="&#x6267;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x6267;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>4.7.2. &#x6267;&#x884C;&#x8F93;&#x5165;&#x6587;&#x4EF6;</h3>
<p>&#x8BFB;&#x5165;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x540E;&#xFF0C;runInputFile()&#x6765;&#x6267;&#x884C;&#x91CC;&#x9762;&#x7684;&#x52A8;&#x4F5C;&#xFF0C;&#x5373;&#x4E0A;&#x4E00;&#x6B65;build&#x5F97;&#x5230;&#x7684;&#x52A8;&#x4F5C;&#x5217;&#x8868;&#xFF08;&#x5982;&#x8BFB;&#x53D6;&#x7F51;&#x683C;&#x6587;&#x4EF6;&#xFF09;&#xFF0C;&#x904D;&#x5386;&#x51FD;&#x6570;&#xFF1A;<code>executeActionsWithAction(task);</code>&#x3002;&#x5E76;&#x4E14;&#x68C0;&#x67E5;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x4E2D;&#x662F;&#x5426;&#x6709;&#x672A;&#x8FA8;&#x522B;&#x51FA;&#x7684;&#x53D8;&#x91CF;&#x3002;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x53D8;&#x91CF;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x51FD;&#x6570;&#x83B7;&#x5F97;&#xFF1A;<code>all_vars = _parser.getPotHandle()-&gt;get_variable_names();</code></p>
<p>&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x662F;&#xFF1A;<code>all_vars = {&quot;Mesh/type&quot;, &quot;Mesh/file&quot;, &quot;Variables/diffused/order&quot;, &quot;Variables/diffused/family&quot;, &quot;Kernels/diff/type&quot;, &quot;Kernels/diff/variable&quot;...and more...}</code></p>
<h3 id="&#x8FD0;&#x884C;&#x6C42;&#x89E3;&#x5668;&#xFF0C;mooseappexecuteexecutioner"><a name="&#x8FD0;&#x884C;&#x6C42;&#x89E3;&#x5668;&#xFF0C;mooseappexecuteexecutioner" class="anchor-navigation-ex-anchor" href="#&#x8FD0;&#x884C;&#x6C42;&#x89E3;&#x5668;&#xFF0C;mooseappexecuteexecutioner"><i class="fa fa-link" aria-hidden="true"></i></a>4.7.3. &#x8FD0;&#x884C;&#x6C42;&#x89E3;&#x5668;&#xFF0C;MooseApp::executeExecutioner()</h3>
<p>&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x521D;&#x59CB;&#x5316;<code>_executioner-&gt;init();</code>&#x548C;&#x6C42;&#x89E3;<code>_executioner-&gt;execute();</code>&#x3002;&#x8C03;&#x7528;<code>MooseApp::executeExecutioner()</code>&#x51FD;&#x6570;&#x3002;&#x5B83;&#x4EEC;&#x90FD;&#x662F;&#x7EAF;&#x865A;&#x51FD;&#x6570;&#xFF0C;&#x9700;&#x8981;&#x6839;&#x636E;&#x5177;&#x4F53;&#x7684;&#x95EE;&#x9898;&#x6765;&#x6C42;&#x89E3;&#x3002;&#x7A33;&#x6001;&#x95EE;&#x9898;&#x8C03;&#x7528;<code>Steady::init()</code>&#x548C;<code>Steady::execute()</code>&#xFF0C;&#x77AC;&#x6001;&#x95EE;&#x9898;&#x8C03;&#x7528;<code>Transient::init()</code>&#x548C;<code>Transient::execute()</code>&#x3002;
(<a href="../home/lee/projects/moose/framework/src/executioners/Steady.C">executor</a>&#x4F3C;&#x4E4E;&#x53EF;&#x4EE5;&#x53D6;&#x4EE3;executioner system&#xFF0C;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x5199;&#x6CD5;&#x53EF;&#x4EE5;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x4E5F;&#x517C;&#x5BB9;&#x539F;&#x6765;&#x7684;executioner&#x3002;)</p>
<h4 id="&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1F;"><a name="&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1F;" class="anchor-navigation-ex-anchor" href="#&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1F;</h4>
<p>&#x5176;&#x5B9E;&#x5728;&#x6267;&#x884C;&#x8BE5;&#x521D;&#x59CB;&#x5316;&#x51FD;&#x6570;&#x4E4B;&#x524D;&#xFF0C;&#x8FD8;&#x9690;&#x6027;&#x5730;&#x6267;&#x884C;&#x4E86;Executioner&#x7C7B;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x663E;&#x7136;&#x5728;&#x6B64;&#x4E4B;&#x524D;&#x5148;&#x6267;&#x884C;&#x8BE5;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x6210;&#x5458;&#x521D;&#x59CB;&#x5316;&#x5668;&#x5217;&#x8868;&#x3002;&#x5176;&#x4E2D;&#xFF1A;2.FEProblemBase&#x7C7B;&#x5305;&#x542B;&#x6574;&#x4E2A;&#x6709;&#x9650;&#x5143;&#x95EE;&#x9898;&#x7684;&#x6570;&#x5B66;&#x4FE1;&#x606F;&#x3002;3.Executioner&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;&#x83B7;&#x5F97;&#x6C42;&#x89E3;&#x5668;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>
<pre><code class="lang-cpp">Executioner::Executioner(<span class="hljs-keyword">const</span> InputParameters &amp; parameters) :
 MooseObject(parameters),
 UserObjectInterface(<span class="hljs-keyword">this</span>),
 PostprocessorInterface(<span class="hljs-keyword">this</span>),
 Restartable(parameters, <span class="hljs-string">&quot;Executioners&quot;</span>),
 _fe_problem(*parameters.getCheckedPointerParam&lt;FEProblemBase *&gt;(<span class="hljs-string">&quot;_fe_problem_base&quot;</span>, <span class="hljs-string">&quot;This might happen if you don&apos;t have a mesh&quot;</span>)),
 _initial_residual_norm(<span class="hljs-built_in">std</span>::numeric_limits&lt;Real&gt;::max()),
 _old_initial_residual_norm(<span class="hljs-built_in">std</span>::numeric_limits&lt;Real&gt;::max()),
 _restart_file_base(getParam&lt;FileNameNoExtension&gt;(<span class="hljs-string">&quot;restart_file_base&quot;</span>)),
 _splitting(getParam&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; &gt;(<span class="hljs-string">&quot;splitting&quot;</span>))
{}
</code></pre>
<h5 id="feproblembase&#x7C7B;"><a name="feproblembase&#x7C7B;" class="anchor-navigation-ex-anchor" href="#feproblembase&#x7C7B;"><i class="fa fa-link" aria-hidden="true"></i></a>FEProblemBase&#x7C7B;</h5>
<p>FEProblemBase&#x7C7B;&#x4F1A;&#x6784;&#x5EFA;&#x6574;&#x4E2A;&#x6709;&#x9650;&#x5143;&#x95EE;&#x9898;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x6BD4;&#x5982;&#x5C06;&#x95EE;&#x9898;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x8BFB;&#x5165;&#x5230;libMesh&#x4E2D;&#xFF0C;&#x8BBE;&#x5B9A;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5355;&#x5143;&#x7C7B;&#x578B;&#x3001;&#x63D2;&#x503C;&#x6B21;&#x6570;&#x7B49;&#xFF1A;<code>FEProblemBase::hasVariable (this=0x1028cc0, var_name=&quot;diffused&quot;)</code></p>
<h5 id="executioner&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;"><a name="executioner&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;" class="anchor-navigation-ex-anchor" href="#executioner&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;"><i class="fa fa-link" aria-hidden="true"></i></a>Executioner&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;</h5>
<p>Executioner&#x672C;&#x8EAB;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x4E3B;&#x8981;&#x5C31;&#x662F;&#x83B7;&#x5F97;&#x6C42;&#x89E3;&#x5668;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x7EBF;&#x6027;&#x8FED;&#x4EE3;&#x548C;&#x975E;&#x7EBF;&#x6027;&#x8FED;&#x4EE3;&#x7684;&#x7CBE;&#x5EA6;&#x3001;&#x8FED;&#x4EE3;&#x6B65;&#x6570;&#x7B49;&#xFF1A;</p>
<pre><code class="lang-cpp">
<span class="hljs-comment">// solver params</span>
EquationSystems &amp; es = _fe_problem.es();
es.parameters.<span class="hljs-built_in">set</span>&lt;Real&gt; (<span class="hljs-string">&quot;linear solver tolerance&quot;</span>)
= getParam&lt;Real&gt;(<span class="hljs-string">&quot;l_tol&quot;</span>);

es.parameters.<span class="hljs-built_in">set</span>&lt;Real&gt; (<span class="hljs-string">&quot;linear solver absolute step tolerance&quot;</span>)
= getParam&lt;Real&gt;(<span class="hljs-string">&quot;l_abs_step_tol&quot;</span>);

es.parameters.<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>&gt; (<span class="hljs-string">&quot;nonlinear solver maximum iterations&quot;</span>)
= getParam&lt;<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>&gt;(<span class="hljs-string">&quot;nl_max_its&quot;</span>);
<span class="hljs-comment">// ...more...</span>
</code></pre>
<h4 id="&#x521D;&#x59CB;&#x5316;"><a name="&#x521D;&#x59CB;&#x5316;" class="anchor-navigation-ex-anchor" href="#&#x521D;&#x59CB;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521D;&#x59CB;&#x5316;</h4>
<p>/home/lee/projects/moose/framework/src/executioners/Steady.C</p>
<p>/home/lee/projects/moose/framework/src/executioners/Transient.C</p>
<p>&#x7A33;&#x6001;&#x521D;&#x59CB;&#x5316;&#x5982;&#x4E0B;&#xFF0C;&#x77AC;&#x6001;&#x8F83;&#x590D;&#x6742;&#x3002;&#x4E3B;&#x8981;&#x662F;&#x521D;&#x59CB;&#x5316;&#xFF08;&#x5F85;&#x6269;&#x5145;&#xFF1F;&#xFF09;&#x548C;&#x6253;&#x5370;Framework&#x3001;Mesh&#x3001;Nonlinear&#x7B49;&#x4FE1;&#x606F;&#x3002;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
Steady::init()
{
  checkIntegrity(); <span class="hljs-comment">// &#x68C0;&#x67E5;&#x6CA1;&#x6709;&#x77AC;&#x6001;kernel</span>
  _problem.execute(EXEC_PRE_MULTIAPP_SETUP); <span class="hljs-comment">// &#x8F93;&#x51FA;Framework&#x3001;Mesh&#x7B49;&#x4FE1;&#x606F;</span>
  _problem.initialSetup();
}
</code></pre>
<p>&#x8F93;&#x51FA;&#xFF0C;&#x8C03;&#x7528;Console&#x7684;<code>outputSystemInformation</code>&#x51FD;&#x6570;&#xFF0C;&#x8F93;&#x51FA;&#x6C42;&#x89E3;&#x95EE;&#x9898;&#x7684;&#x5404;&#x79CD;&#x4FE1;&#x606F;&#x3002;&#x8FD8;&#x6709;<code>FEProblemBase::initialSetup</code>&#x51FD;&#x6570;&#x3002;<code>_app.getOutputWarehouse().mooseConsole();</code>&#x51FD;&#x6570;&#x628A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x548C;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8F93;&#x51FA;flush&#x5230;&#x7EC8;&#x7AEF;&#x3002;</p>
<p>&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x4EA7;&#x751F;&#x5982;&#x4E0B;&#x7684;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre><code>Framework Information:
MOOSE Version:           git commit c39379d4fe on 2023-04-10
LibMesh Version:         3f05f40f4a45060c1fd07281f8869a4667086291
PETSc Version:           3.16.6
SLEPc Version:           3.16.2
Current Time:            Tue Apr 18 11:30:24 2023
Executable Timestamp:    Mon Apr 17 19:24:02 2023

Parallelism:
  Num Processors:          1
  Num Threads:             1

Mesh:
  Parallel Type:           replicated
  Mesh Dimension:          3
  Spatial Dimension:       3
  Nodes:                   3774
  Elems:                   2476
  Num Subdomains:          1

Nonlinear System:
  Num DOFs:                3774
  Num Local DOFs:          3774
  Variables:               &quot;diffused&quot;
  Finite Element Types:    &quot;LAGRANGE&quot;
  Approximation Orders:    &quot;FIRST&quot;

Execution Information:
  Executioner:             Steady
  Solver Mode:             Preconditioned JFNK
</code></pre><h4 id="&#x6C42;&#x89E3;&#xFF0C;steadyexecute&#xFF0C;transientexecute"><a name="&#x6C42;&#x89E3;&#xFF0C;steadyexecute&#xFF0C;transientexecute" class="anchor-navigation-ex-anchor" href="#&#x6C42;&#x89E3;&#xFF0C;steadyexecute&#xFF0C;transientexecute"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6C42;&#x89E3;&#xFF0C;Steady::execute()&#xFF0C;Transient::execute()</h4>
<p>&#x7A33;&#x6001;&#x7684;<code>execute</code>&#x51FD;&#x6570;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x51FD;&#x6570;&#x3002;</p>
<pre><code class="lang-cpp">
preExecute(); <span class="hljs-comment">// &#x5728;&#x771F;&#x6B63;&#x8BA1;&#x7B97;&#x4E4B;&#x524D;&#x8981;&#x505A;&#x4E00;&#x4E9B;&#x63D0;&#x524D;&#x8BA1;&#x7B97;&#xFF0C;&#x5BF9;&#x4E8E;Steady&#x95EE;&#x9898;&#x6CA1;&#x6709;&#x8981;&#x505A;&#x7684;</span>
_problem.advanceState(); <span class="hljs-comment">// &#x83B7;&#x5F97;&#x4E0A;&#x4E00;&#x65F6;&#x95F4;&#x6B65;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4ECE;&#x800C;&#x4E3A;&#x8FDB;&#x5165;&#x4E0B;&#x4E00;&#x65F6;&#x95F4;&#x6B65;&#x505A;&#x597D;&#x51C6;&#x5907;</span>
preSolve(); <span class="hljs-comment">// &#x5728;Solve&#x4E4B;&#x524D;&#x8981;&#x505A;&#x7684;&#x4E8B;&#xFF0C;&#x5BF9;&#x4E8E;Steady&#x95EE;&#x9898;&#x6CA1;&#x6709;&#x8981;&#x505A;&#x7684;</span>
_nl-&gt;solve(); <span class="hljs-comment">// &#x5F00;&#x59CB;&#x6C42;&#x89E3;!</span>
</code></pre>
<p><a href="https://mooseframework.inl.gov/docs/doxygen/moose/Steady_8C_source.html" target="_blank">Steady</a></p>
<p><a href="https://mooseframework.inl.gov/docs/doxygen/moose/Transient_8C_source.html" target="_blank">Transient</a></p>
<h1 id="&#x8BE6;&#x89E3;&#x7A33;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;steadyexecute"><a name="&#x8BE6;&#x89E3;&#x7A33;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;steadyexecute" class="anchor-navigation-ex-anchor" href="#&#x8BE6;&#x89E3;&#x7A33;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;steadyexecute"><i class="fa fa-link" aria-hidden="true"></i></a>5. &#x8BE6;&#x89E3;&#x7A33;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;Steady::execute()</h1>
<h2 id="&#x6982;&#x8FF0;_3"><a name="&#x6982;&#x8FF0;_3" class="anchor-navigation-ex-anchor" href="#&#x6982;&#x8FF0;_3"><i class="fa fa-link" aria-hidden="true"></i></a>5.1. &#x6982;&#x8FF0;</h2>
<p>/home/lee/projects/moose/framework/src/executioners/Steady.C</p>
<p>&#x4E3B;&#x8981;&#x51FD;&#x6570;&#x6709;&#x9884;&#x5904;&#x7406;&#x3001;&#x66F4;&#x65B0;&#x72B6;&#x6001;&#x3001;&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x6B65;&#x3001;&#x6709;&#x9650;&#x5143;&#x6C42;&#x89E3;&#x3001;&#x591A;&#x7A0B;&#x5E8F;&#x8026;&#x5408;&#x3001;&#x540E;&#x5904;&#x7406;&#x3002;</p>
<pre><code class="lang-cpp">
preExecute(); <span class="hljs-comment">// &#x9884;&#x5904;&#x7406;&#x3002;&#x5BF9;&#x4E8E;Steady&#x95EE;&#x9898;&#x6216;&#x8005;&#x8FD9;&#x4E2A;&#x7B80;&#x5355;&#x4F8B;&#x5B50;&#xFF0C;&#x65E0;&#x4E8B;&#x53EF;&#x505A;</span>
_problem.advanceState(); <span class="hljs-comment">// &#x66F4;&#x65B0;&#x72B6;&#x6001;&#x3002;&#x83B7;&#x5F97;&#x4E0A;&#x4E00;&#x65F6;&#x95F4;&#x6B65;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4ECE;&#x800C;&#x4E3A;&#x8FDB;&#x5165;&#x4E0B;&#x4E00;&#x65F6;&#x95F4;&#x6B65;&#x505A;&#x597D;&#x51C6;&#x5907;</span>
_problem.timestepSetup(); <span class="hljs-comment">// &#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x6B65;&#xFF1F;&#x8FD8;&#x662F;&#x4E0D;&#x77E5;&#x9053;&#x5565;&#x610F;&#x601D;&#xFF1F;</span>
_last_solve_converged = _fixed_point_solve-&gt;solve(); <span class="hljs-comment">// &#x6709;&#x9650;&#x5143;&#x6C42;&#x89E3;!FixedPointSolve::solve()</span>
_problem.execMultiApps(EXEC_FINAL); <span class="hljs-comment">// &#x591A;&#x7A0B;&#x5E8F;&#x8026;&#x5408;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x51FD;&#x6570;</span>
postExecute(); <span class="hljs-comment">// &#x540E;&#x5904;&#x7406;&#x3002;&#x5BF9;&#x4E8E;Steady&#x95EE;&#x9898;&#x6216;&#x8005;&#x8FD9;&#x4E2A;&#x7B80;&#x5355;&#x4F8B;&#x5B50;&#xFF0C;&#x65E0;&#x4E8B;&#x53EF;&#x505A;</span>
</code></pre>
<h2 id="&#x66F4;&#x65B0;&#x72B6;&#x6001;advancestate"><a name="&#x66F4;&#x65B0;&#x72B6;&#x6001;advancestate" class="anchor-navigation-ex-anchor" href="#&#x66F4;&#x65B0;&#x72B6;&#x6001;advancestate"><i class="fa fa-link" aria-hidden="true"></i></a>5.2. &#x66F4;&#x65B0;&#x72B6;&#x6001;advanceState</h2>
<p>/home/lee/projects/moose/framework/src/problems/FEProblemBase.C</p>
<p>FEProblemBase::<code>advanceState</code>&#x51FD;&#x6570;</p>
<ol>
<li><p><code>nl-&gt;copyOldSolutions();</code>&#x904D;&#x5386;<code>_nl</code>&#x590D;&#x5236;&#x975E;&#x7EBF;&#x6027;&#x7CFB;&#x7EDF;&#x7684;&#x65E7;&#x503C;&#xFF0C;_nl&#x662F;&#x4E00;&#x4E2A;&#x5B58;&#x653E;&#x6240;&#x6709;&#x975E;&#x7EBF;&#x6027;&#x7CFB;&#x7EDF;&#x7684;verctor&#x3002;&#x5B9E;&#x5219;&#x8C03;&#x7528;<code>SystemBase::copyOldSolutions</code>&#x51FD;&#x6570;&#xFF0C;&#x5C06;<code>NonlinearSystemBase.h</code>&#x6587;&#x4EF6;&#x4E2D;&#x7684;<code>solutionUDot</code>&#x51FD;&#x6570;&#x3001;<code>solutionUDotDot</code>&#x51FD;&#x6570;&#x3001;<code>currentSolution</code>&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;_u_dot&#x3001;_u_dotdot&#x3001;Moose::PREVIOUS_NL_SOLUTION_TAG&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A;&#x65E7;&#x503C;&#x3002;(@param udotdot transient term)</p>
</li>
<li><p><code>_aux-&gt;copyOldSolutions();</code>&#x540C;&#x7406;&#xFF0C;&#x53CA;&#x65F6;&#x5411;&#x540E;Shift&#x8F6C;&#x79FB;&#x6C42;&#x89E3;&#x7ED3;&#x679C;&#x3002;</p>
</li>
<li><p>&#x5BF9;<code>_displaced_problem</code>&#x95EE;&#x9898;&#x4E5F;&#x8FDB;&#x884C;&#x7279;&#x6B8A;&#x7684;&#x4E0A;&#x8FF0;&#x4FEE;&#x6539;&#x3002;</p>
</li>
<li><p><code>_reporter_data.copyValuesBack();</code>&#x8C03;&#x7528;<code>ReporterData::copyValuesBack()</code>&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x5E2E;&#x52A9;&#x7BA1;&#x7406;&#x5B58;&#x50A8;&#x7684;&#x5DF2;&#x58F0;&#x660E;&#x7684;Reporter object values&#x3002;This design of the system is a generalization of the VectorPostprocessor system that the Reporter objects replaced.</p>
</li>
<li><p>&#x6750;&#x6599;&#x5C5E;&#x6027;&#x4E5F;&#x8981;&#x66F4;&#x65B0;&#xFF0C;<code>_material_props.shift();</code>&#xFF0C; <code>_bnd_material_props.shift();</code>&#xFF0C; <code>_neighbor_material_props.shift();</code></p>
</li>
</ol>
<h2 id="adaptivity&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x5224;&#x65AD;"><a name="adaptivity&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x5224;&#x65AD;" class="anchor-navigation-ex-anchor" href="#adaptivity&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x5224;&#x65AD;"><i class="fa fa-link" aria-hidden="true"></i></a>5.3. Adaptivity&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x5224;&#x65AD;</h2>
<p>&#x904D;&#x5386;&#x901A;&#x8FC7;<code>_problem.adaptivity().getSteps()</code>&#x83B7;&#x5F97;&#x7684;&#x9700;&#x8981;&#x5F00;&#x59CB;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x4F18;&#x5316;&#x7684;&#x6B65;&#x6570;steps&#x3002;&#x53EF;&#x53C2;&#x8003;<a href="https://mooseframework.inl.gov/moose/syntax/Adaptivity/" target="_blank">Adaptivity&#x7CFB;&#x7EDF;</a>&#x3002;</p>
<p>gdb &#x8C03;&#x8BD5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7C7B;&#x4F3C;<code>p _problem.adaptivity()</code>&#x548C;<code>p _problem</code>&#x7684;&#x547D;&#x4EE4;&#x8F93;&#x51FA;&#x5F88;&#x591A;&#x4E1C;&#x897F;&#x3002;&#x4F8B;&#x5982;&#xFF0C;<code>adaptivity</code>&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x8BE5;&#x7CFB;&#x7EDF;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;&#x3002;</p>
<p>&#xFF08;<code>Steady.C</code>&#x6587;&#x4EF6;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x5F88;&#x591A;<code>#ifdef LIBMESH_ENABLE_AMR</code>&#x548C;<code>#endif</code>&#xFF0C;&#x5176;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x662F;&#x4F1A;&#x8FD0;&#x884C;&#x5230;&#x7684;&#x3002;&#x56E0;&#x4E3A;moose&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#x4E86;libmesh &#x5E93;&#x7684;&#x52A8;&#x6001;&#x7F51;&#x683C;&#x4F18;&#x5316;&#x529F;&#x80FD;adaptive mesh refinement (AMR)&#x3002;&#xFF09;</p>
<h2 id="&#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;timestepsetup"><a name="&#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;timestepsetup" class="anchor-navigation-ex-anchor" href="#&#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;timestepsetup"><i class="fa fa-link" aria-hidden="true"></i></a>5.4. &#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;timestepSetup</h2>
<p>&#x901A;&#x8FC7;&#x8C03;&#x7528;<code>FEProblemBase::timestepSetup()</code>&#x51FD;&#x6570;&#xFF0C;&#x65F6;&#x95F4;&#x6B65;&#x8BBE;&#x7F6E;&#x5904;&#x7406;&#x5305;&#x62EC;&#x5F88;&#x591A;&#x5185;&#x5BB9;&#xFF1A;&#x77AC;&#x6001;&#x3001;&#x4F4D;&#x79FB;&#x7F51;&#x683C;&#x3001;&#x7EBF;&#x6027;&#x641C;&#x7D22;&#x3001;&#x6750;&#x6599;&#x3001;&#x51FD;&#x6570;&#x3001;aux&#x8F85;&#x52A9;&#x7CFB;&#x7EDF;&#x3001;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#x3001;&#x8F93;&#x51FA;&#x5BF9;&#x8C61;&#x3001;&#x8026;&#x5408;&#x7B49;&#xFF0C;&#x90FD;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x5F62;&#x5982;<code>SubProblem::timestepSetup()</code>&#x3002;( SubProblem&#x662F;&#x6C42;&#x89E3;&#x77AC;&#x6001;&#x975E;&#x7EBF;&#x6027;&#x95EE;&#x9898;&#x7684;&#x901A;&#x7528;&#x7C7B;&#x3002;)</p>
<h2 id="&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x771F;&#x6B63;&#x6C42;&#x89E3;&#xFF0C;fixedpointsolvesolve"><a name="&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x771F;&#x6B63;&#x6C42;&#x89E3;&#xFF0C;fixedpointsolvesolve" class="anchor-navigation-ex-anchor" href="#&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x771F;&#x6B63;&#x6C42;&#x89E3;&#xFF0C;fixedpointsolvesolve"><i class="fa fa-link" aria-hidden="true"></i></a>5.5. &#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x771F;&#x6B63;&#x6C42;&#x89E3;&#xFF0C;FixedPointSolve::solve()</h2>
<p>/home/lee/projects/moose/framework/src/executioners/FixedPointSolve.C</p>
<h3 id="&#x6982;&#x8FF0;_4"><a name="&#x6982;&#x8FF0;_4" class="anchor-navigation-ex-anchor" href="#&#x6982;&#x8FF0;_4"><i class="fa fa-link" aria-hidden="true"></i></a>5.5.1. &#x6982;&#x8FF0;</h3>
<p>&#x771F;&#x6B63;&#x7684;&#x6C42;&#x89E3;&#xFF0C;&#x5373;<a href="https://en.wikipedia.org/wiki/Fixed-point_iteration" target="_blank">&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x6CD5;</a>&#xFF08;&#x4E0D;&#x52A8;&#x70B9;&#x8FED;&#x4EE3;&#x6CD5;&#x3001;&#x56FA;&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x6CD5;&#xFF09;&#x3002;&#x8C03;&#x7528; <code>FixedPointSolve::solve()</code> &#x51FD;&#x6570;&#x7684;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p>
<ol>
<li>&#x91CD;&#x7F6E;&#x6B8B;&#x5DEE;&#x5386;&#x53F2;&#x503C;&#x3002;</li>
<li>&#x5907;&#x4EFD;&#x591A;&#x7A0B;&#x5E8F;&#x4EE5;&#x4FBF;&#x6C42;&#x89E3;&#x5931;&#x8D25;&#x540E;&#x6062;&#x590D;&#x3002;</li>
<li>&#x4F5C;&#x4E3A;&#x4E3B;&#x7A0B;&#x5E8F;&#x548C;&#x5B50;&#x7A0B;&#x5E8F;&#x505A;&#x597D;&#x677E;&#x5F1B;&#x53D8;&#x91CF;&#x524D;&#x7684;&#x51C6;&#x5907;&#x3002;</li>
<li>&#x771F;&#x6B63;&#x7684;&#x6C42;&#x89E3;&#xFF0C;&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;&#xFF0C;&#x8F93;&#x51FA;&#x6B8B;&#x5DEE;&#x3002;(<code>_has_fixed_point_its</code>&#x4E00;&#x76F4;&#x662F;<code>false</code>)</li>
<li>&#x4FDD;&#x5B58;&#x6C42;&#x89E3;&#x548C;&#x65F6;&#x95F4;&#x6B65;&#x7ED3;&#x675F;&#x540E;&#x7684;&#x540E;&#x5904;&#x7406;&#x5668;&#x7684;&#x503C;&#xFF0C;&#x4EE5;&#x514D;&#x5728;&#x65F6;&#x95F4;&#x6B65;&#x5F00;&#x59CB;&#x65F6;&#x88AB;&#x8986;&#x76D6;&#x3002;<a href="https://mooseframework.inl.gov/syntax/Postprocessors/index.html" target="_blank">postprocessors&#x7CFB;&#x7EDF;</a></li>
<li>&#x5982;&#x679C;&#x6536;&#x655B;&#xFF0C;&#x4F7F;&#x7528;&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x6CD5;&#x4F20;&#x8F93;&#x53D8;&#x91CF;&#x6765;&#x66F4;&#x65B0;&#x5B50;&#x7A0B;&#x5E8F;&#x3002;</li>
<li>&#x6253;&#x5370;<code>fixed point convergence</code>&#x6536;&#x655B;&#x539F;&#x56E0;&#x3002;&#xFF08;&#x8DF3;&#x8FC7;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x7406;&#x89E3;&#x7684;&#x8FED;&#x4EE3;&#x53CA;&#x8F93;&#x51FA;&#x641C;&#x5728;&#x7B2C;&#x56DB;&#x6B65;&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;&#x4E2D;&#x7684;<code>solveStep</code>&#x51FD;&#x6570;&#x91CC;&#xFF09;</li>
<li>&#x8FD4;&#x56DE;<code>converged</code>&#x5E03;&#x5C14;&#x503C;&#x7ED9;<code>Steady.C</code> &#x7684;<code>_last_solve_converged</code>&#x3002;</li>
</ol>
<p>&#x53EF;&#x4EE5;&#x8F93;&#x51FA;&#x6B8B;&#x5DEE;&#x8BA1;&#x7B97;&#x3001;&#x662F;&#x5426;&#x6536;&#x655B;&#x7B49;&#x5185;&#x5BB9;&#x3002;</p>
<pre><code class="lang-bash">0 Nonlinear |R| = 6.105359e+00
      0 Linear |R| = 6.105359e+00
...more
2 Nonlinear |R| = 3.802911e-10
 Solve Converged!
  Finished Solving                                                                       [ 16.32 s] [   37 MB]
</code></pre>
<h3 id="&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;"><a name="&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;" class="anchor-navigation-ex-anchor" href="#&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;"><i class="fa fa-link" aria-hidden="true"></i></a>5.5.2. &#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;</h3>
<p><code>for (_fixed_point_it = 0; _fixed_point_it &lt; _max_fixed_point_its; ++_fixed_point_it)</code></p>
<ol>
<li>&#x4FDD;&#x5B58;&#x4E0A;&#x6B21;&#x7684;&#x540E;&#x5904;&#x7406;&#x503C;&#x4F5C;&#x4E3A;&#x6C42;&#x89E3;&#x524D;&#x7684;&#x503C;&#x3002;</li>
<li><code>solveStep</code>&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x4E2A;&#x65F6;&#x95F4;&#x6B65;&#x6C42;&#x89E3;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x3002;<ul>
<li><code>autoAdvance</code>&#x51FD;&#x6570;</li>
<li>_executioner.<code>preSolve</code>&#x51FD;&#x6570;
*</li>
</ul>
</li>
<li>&#x8BA1;&#x7B97;&#x5E76;&#x6253;&#x5370;user-specified postprocessor assessing convergence</li>
<li>&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#x6B65;<code>_problem.dt() = current_dt;</code></li>
</ol>
<h3 id="fixedpointsolvesolvestep----feproblemsolvesolve"><a name="fixedpointsolvesolvestep----feproblemsolvesolve" class="anchor-navigation-ex-anchor" href="#fixedpointsolvesolvestep----feproblemsolvesolve"><i class="fa fa-link" aria-hidden="true"></i></a>5.5.3. FixedPointSolve::solveStep() --&gt; FEProblemSolve::solve()</h3>
<pre><code class="lang-cpp"><span class="hljs-keyword">bool</span> FixedPointSolve::solveStep(Real &amp; begin_norm, Real &amp; end_norm,
                                <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">set</span>&lt;dof_id_type&gt; &amp; transformed_dofs)
{
  <span class="hljs-keyword">bool</span> auto_advance = autoAdvance();
  <span class="hljs-comment">// &#x662F;&#x5426;&#x81EA;&#x52A8;&#x6B65;&#x8FDB;&#x3002;`autoAdvance`&#x51FD;&#x6570;&#x6839;&#x636E;&#x662F;&#x5426;&#x77AC;&#x6001;&#x548C;&#x662F;&#x5426;&#x6709;&#x5B9A;&#x70B9;&#x8FED;&#x4EE3;&#x3002;</span>
  <span class="hljs-comment">// &#x6B64;&#x4F8B;&#x7686;&#x4E3A;&#x5426;&#xFF0C;&#x56E0;&#x6B64;&#x7ED3;&#x679C;&#x4E3A;&#x662F;&#x3002;!(_has_fixed_point_its &amp;&amp; _problem.isTransient());</span>

  Real begin_norm_old = (...code...); <span class="hljs-comment">// &#x8BA1;&#x7B97;&#x4E4B;&#x524D;&#x7684;&#x8303;&#x6570;&#x6765;&#x7ED9;&#x8F93;&#x51FA;&#x7684;&#x8303;&#x6570;&#x7740;&#x8272;&#x3002;&#x8FD8;&#x6709;end_norm_old&#x3002;</span>
  _executioner.preSolve(); <span class="hljs-comment">//</span>
  _problem.execTransfers(EXEC_TIMESTEP_BEGIN); <span class="hljs-comment">//</span>
  _problem.updateMeshXFEM(); <span class="hljs-comment">//</span>
  _problem.execute(EXEC_TIMESTEP_BEGIN); <span class="hljs-comment">//</span>

  transformPostprocessors(<span class="hljs-literal">true</span>); <span class="hljs-comment">// &#x4F20;&#x9012;&#x5B9A;&#x70B9;&#x540E;&#x5904;&#x7406;&#x503C;ixed point postprocessors&#xFF0C;&#x8981;&#x5728;(&#x6C42;&#x89E3;&#x524D; &amp;&amp; &#x65F6;&#x95F4;&#x6B65;&#x521D;&#x59CB;&#x7684;&#x4F20;&#x8F93;&#x88AB;&#x63A5;&#x53D7;&#x540E;)</span>

  begin_norm = _problem.computeResidualL2Norm(); <span class="hljs-comment">// &#x8BA1;&#x7B97;L2&#x8303;&#x6570;&#xFF0C;&#x7740;&#x8272;</span>

  _problem.outputStep(EXEC_TIMESTEP_BEGIN);

  _problem.updateActiveObjects(); <span class="hljs-comment">// &#x66F4;&#x65B0;&#x4ED3;&#x5E93;&#x5DF2;&#x7ECF;&#x6FC0;&#x6D3B;&#x7684;&#x5BF9;&#x8C61;objects</span>

  saveAllValues(<span class="hljs-literal">true</span>); <span class="hljs-comment">// &#x5728;&#x6C42;&#x89E3;&#x524D;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x53D8;&#x91CF;&#x548C;&#x540E;&#x5904;&#x7406;&#x5668;&#x7684;&#x503C;</span>

  <span class="hljs-keyword">if</span> (!_inner_solve-&gt;solve()){...code...}
  <span class="hljs-comment">// &#x662F;&#x8C03;&#x7528;FEProblemSolve::`solve`&#x51FD;&#x6570;&#x3002;</span>
  <span class="hljs-comment">// 1._problem.`solve`&#x51FD;&#x6570;&#x662F;&#x771F;&#x6B63;&#x771F;&#x6B63;&#x771F;&#x6B63;&#x7684;&#x6C42;&#x89E3;,&#x8C03;&#x7528;FEProblemBase::`solve`&#x51FD;&#x6570;&#x3002;</span>
  <span class="hljs-comment">// 2.&#x6253;&#x5370;&#x662F;&#x5426;&#x6536;&#x655B;&#x548C;&#x8DF3;&#x8FC7;&#x6C42;&#x89E3;&#xFF0C;&#x8FD4;&#x56DE;&#x662F;&#x5426;&#x6536;&#x655B;&#x3002;</span>
}
</code></pre>
<h4 id="feproblembasesolve"><a name="feproblembasesolve" class="anchor-navigation-ex-anchor" href="#feproblembasesolve"><i class="fa fa-link" aria-hidden="true"></i></a>FEProblemBase::solve()</h4>
<p>/home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5350</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
FEProblemBase::solve(<span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> nl_sys_num)
{
  setCurrentNonlinearSystem(nl_sys_num); <span class="hljs-comment">// &#x83B7;&#x53D6;&#x5E76;&#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x7684;&#x975E;&#x7EBF;&#x6027;&#x7CFB;&#x7EDF;&#xFF0C;_current_nl_sys = _nl[nl_sys_num].get();</span>

  clearAllDofIndices(); <span class="hljs-comment">// &#x6E05;&#x7406;&#x8FC7;&#x65F6;&#x7684;Dof&#x7D22;&#x5F15;&#xFF0C;&#x7F51;&#x683C;&#x81EA;&#x9002;&#x5E94;&#x4F1A;&#x5F15;&#x8D77;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</span>

  Moose::PetscSupport::petscSetOptions(*<span class="hljs-keyword">this</span>); <span class="hljs-comment">// &#x8BBE;&#x7F6E;PETSc&#x9009;&#x9879;</span>

  Moose::setSolverDefaults(*<span class="hljs-keyword">this</span>);

  initPetscOutput(); <span class="hljs-comment">// &#x8BBE;&#x7F6E;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF;&#x6253;&#x5370;&#x8FED;&#x4EE3;&#x4FE1;&#x606F;</span>

  possiblyRebuildGeomSearchPatches();

  _current_nl_sys-&gt;solve(); <span class="hljs-comment">// NonlinearSystem::solve&#x51FD;&#x6570;&#xFF0C;&#x4F4D;&#x7F6E;/home/lee/projects/moose/framework/src/systems/NonlinearSystem.C</span>

  _current_nl_sys-&gt;update();

  <span class="hljs-comment">// sync solutions in displaced problem</span>
  <span class="hljs-keyword">if</span> (_displaced_problem)
    _displaced_problem-&gt;syncSolutions();

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> !PETSC_RELEASE_LESS_THAN(3, 12, 0)</span>
  <span class="hljs-keyword">if</span> (!_app.isUltimateMaster())
    PetscOptionsPop();
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
}
</code></pre>
<h5 id="nonlinearsystemsolve"><a name="nonlinearsystemsolve" class="anchor-navigation-ex-anchor" href="#nonlinearsystemsolve"><i class="fa fa-link" aria-hidden="true"></i></a>NonlinearSystem::solve()</h5>
<p>FEProblemBase::computeResidualSys()</p>
<p>FEProblemBase::computeResidual()</p>
<p>/home/lee/projects/moose/framework/src/systems/NonlinearSystem.C:131</p>
<pre><code class="lang-cpp">
<span class="hljs-keyword">void</span> NonlinearSystem::solve()
{
  _nl_implicit_sys.nonlinear_solver-&gt;postcheck = Moose::compute_postcheck; <span class="hljs-comment">// &#x8FDE;&#x63A5;postcheck&#x51FD;&#x6570;&#x4E0E;&#x6C42;&#x89E3;&#x5668;&#xFF08;&#x5982;&#x679C;&#x6709;damper&#x6216;&#x8005;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x89E3;&#x65F6;&#xFF09;</span>

  <span class="hljs-keyword">if</span> (_fe_problem.solverParams()._type != Moose::ST_LINEAR) <span class="hljs-comment">// &#x786E;&#x5B9A;&#x4E0D;&#x662F;&#x7EBF;&#x6027;&#x95EE;&#x9898;&#x540E;&#xFF0C;&#x8BA1;&#x7B97;&#x521D;&#x59CB;&#x6B8B;&#x5DEE;&#x7528;&#x4E8E;&#x5224;&#x65AD;&#x6536;&#x655B;</span>
  {
    _fe_problem.computeResidualSys(_nl_implicit_sys, *_current_solution, *_nl_implicit_sys.rhs);
    <span class="hljs-comment">// FEProblemBase::computeResidualSys&#x51FD;&#x6570; --&gt; FEProblemBase::computeResidual&#x51FD;&#x6570; --&gt; FEProblemBase::computeResidualInternal&#x51FD;&#x6570; --&gt; NonlinearSystemBase::setSolution&#x51FD;&#x6570; --&gt; _current_solution = &amp;soln;</span>

    _nl_implicit_sys.rhs-&gt;close();

    _initial_residual_before_preset_bcs = _nl_implicit_sys.rhs-&gt;l2_norm();

    <span class="hljs-keyword">if</span> (_compute_initial_residual_before_preset_bcs)
      _console &lt;&lt; <span class="hljs-string">&quot;Initial residual before setting preset BCs: &quot;</span>
               &lt;&lt; _initial_residual_before_preset_bcs &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
  }

  <span class="hljs-comment">// Initialize the solution vector using a predictor and known values from nodal bcs</span>
  setInitialSolution();

  <span class="hljs-comment">// evaluate &#x6C42;&#x6B8B;&#x5DEE;&#x503C;&#x6765;&#x51B3;&#x5B9A;&#x53D8;&#x91CF;&#x7F29;&#x653E;&#x56E0;&#x5B50;</span>
  computeScaling();

  assembleScalingVector();

  PetscNonlinearSolver&lt;Real&gt; &amp; solver =
      <span class="hljs-keyword">static_cast</span>&lt;PetscNonlinearSolver&lt;Real&gt; &amp;&gt;(*_nl_implicit_sys.nonlinear_solver);

  <span class="hljs-keyword">if</span> (_time_integrator) { } <span class="hljs-comment">// (&#x65F6;&#x95F4;&#x79EF;&#x5206;&#x65B9;&#x6CD5;&#x6C42;&#x89E3;](https://mooseframework.inl.gov/syntax/Executioner/TimeIntegrator/)</span>
  <span class="hljs-keyword">else</span>
  {
    system().solve();
    <span class="hljs-comment">// 1.&#x8BBE;&#x7F6E;&#x2014;&#x2014;NonlinearImplicitSystem::solve() --&gt; NonlinearImplicitSystem::set_solver_parameters()&#xFF0C;&#x8BBE;&#x7F6E;&#x6700;&#x5927;&#x8FED;&#x4EE3;&#x6B65;&#x6570;&#x3001;&#x6B8B;&#x5DEE;&#x5BB9;&#x5DEE;tolerance&#x7B49;</span>
    <span class="hljs-comment">// 2.&#x521D;&#x59CB;&#x5316;&#x2014;&#x2014;NonlinearImplicitSystem::solve() --&gt; PetscNonlinearSolver&lt;T&gt;::init</span>
    <span class="hljs-comment">// 3.&#x6C42;&#x89E3;&#x2014;&#x2014;NonlinearImplicitSystem::solve() --&gt; nonlinear_solver-&gt;solve() --&gt; PetscNonlinearSolver&lt;T&gt;::solve()&#x2014;&#x2014;&#x4F20;&#x53C2;&#x9884;&#x5904;&#x7406;&#x77E9;&#x9635;&#x3001;&#x89E3;&#x7684;vector&#x3001;&#x6B8B;&#x5DEE;vector&#x3001;Krylov&#x5B50;&#x7A7A;&#x95F4;</span>

    _n_iters = _nl_implicit_sys.n_nonlinear_iterations();
    _n_linear_iters = solver.get_total_linear_iterations();
  }

  <span class="hljs-comment">// store info about the solve</span>
  _final_residual = _nl_implicit_sys.final_nonlinear_residual();

  <span class="hljs-keyword">if</span> (_use_coloring_finite_difference)
    MatFDColoringDestroy(&amp;_fdcoloring);
}
</code></pre>
<h1 id="&#x8BE6;&#x89E3;&#x77AC;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;transientexecute"><a name="&#x8BE6;&#x89E3;&#x77AC;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;transientexecute" class="anchor-navigation-ex-anchor" href="#&#x8BE6;&#x89E3;&#x77AC;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;transientexecute"><i class="fa fa-link" aria-hidden="true"></i></a>6. &#x8BE6;&#x89E3;&#x77AC;&#x6001;&#x6C42;&#x89E3;&#x8FC7;&#x7A0B;Transient::execute()</h1>
<p><a href="https://mooseframework.inl.gov/docs/doxygen/moose/Transient_8C_source.html" target="_blank">Transient</a></p>
<h4 id="&#x521D;&#x59CB;&#x5316;-init"><a name="&#x521D;&#x59CB;&#x5316;-init" class="anchor-navigation-ex-anchor" href="#&#x521D;&#x59CB;&#x5316;-init"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521D;&#x59CB;&#x5316; init()</h4>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
Transient::init()
{
  <span class="hljs-keyword">if</span> (!_time_stepper.get())
  {
    InputParameters pars = _app.getFactory().getValidParams(<span class="hljs-string">&quot;ConstantDT&quot;</span>);
    pars.<span class="hljs-built_in">set</span>&lt;SubProblem *&gt;(<span class="hljs-string">&quot;_subproblem&quot;</span>) = &amp;_problem;
    pars.<span class="hljs-built_in">set</span>&lt;Transient *&gt;(<span class="hljs-string">&quot;_executioner&quot;</span>) = <span class="hljs-keyword">this</span>;

    <span class="hljs-comment">// calculate &quot;dt&quot; properly.</span>
    <span class="hljs-keyword">if</span> (!_pars.isParamSetByAddParam(<span class="hljs-string">&quot;end_time&quot;</span>) &amp;&amp; !_pars.isParamSetByAddParam(<span class="hljs-string">&quot;num_steps&quot;</span>) &amp;&amp;
        _pars.isParamSetByAddParam(<span class="hljs-string">&quot;dt&quot;</span>))
      pars.<span class="hljs-built_in">set</span>&lt;Real&gt;(<span class="hljs-string">&quot;dt&quot;</span>) = (getParam&lt;Real&gt;(<span class="hljs-string">&quot;end_time&quot;</span>) - getParam&lt;Real&gt;(<span class="hljs-string">&quot;start_time&quot;</span>)) /
                             <span class="hljs-keyword">static_cast</span>&lt;Real&gt;(getParam&lt;<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>&gt;(<span class="hljs-string">&quot;num_steps&quot;</span>));
    <span class="hljs-keyword">else</span>
      pars.<span class="hljs-built_in">set</span>&lt;Real&gt;(<span class="hljs-string">&quot;dt&quot;</span>) = getParam&lt;Real&gt;(<span class="hljs-string">&quot;dt&quot;</span>);

    pars.<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">bool</span>&gt;(<span class="hljs-string">&quot;reset_dt&quot;</span>) = getParam&lt;<span class="hljs-keyword">bool</span>&gt;(<span class="hljs-string">&quot;reset_dt&quot;</span>);
    _time_stepper = _app.getFactory().create&lt;TimeStepper&gt;(<span class="hljs-string">&quot;ConstantDT&quot;</span>, <span class="hljs-string">&quot;TimeStepper&quot;</span>, pars);
  }

  _problem.execute(EXEC_PRE_MULTIAPP_SETUP);
  _problem.initialSetup();

  <span class="hljs-comment">// for restart run to override the start time,</span>
  <span class="hljs-keyword">if</span> (_app.isRestarting())
  {
    <span class="hljs-keyword">if</span> (_app.hasStartTime())
      _time = _time_old = _app.getStartTime();
    <span class="hljs-keyword">else</span>
      _time_old = _time;
  }

  _time_stepper-&gt;init();

  <span class="hljs-keyword">if</span> (_app.isRecovering()) <span class="hljs-comment">// Recover case</span>
  {
    <span class="hljs-keyword">if</span> (_t_step == <span class="hljs-number">0</span>)
      mooseError(<span class="hljs-string">&quot;Internal error in Transient executioner: _t_step is equal to 0 while recovering &quot;</span>
                 <span class="hljs-string">&quot;in init().&quot;</span>);

    _dt_old = _dt;
  }
}
</code></pre>
<h4 id="&#x8FD0;&#x884C;execute"><a name="&#x8FD0;&#x884C;execute" class="anchor-navigation-ex-anchor" href="#&#x8FD0;&#x884C;execute"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8FD0;&#x884C;execute()</h4>
<h5 id="&#x6982;&#x8FF0;_5"><a name="&#x6982;&#x8FF0;_5" class="anchor-navigation-ex-anchor" href="#&#x6982;&#x8FF0;_5"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6982;&#x8FF0;</h5>
<ol>
<li><code>preExecute</code>&#x51FD;&#x6570;</li>
<li><code>keepGoing</code>&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x7EE7;&#x7EED;&#x65F6;&#x95F4;&#x5FAA;&#x73AF;&#x8FED;&#x4EE3;&#x7684;&#x5224;&#x65AD;&#x6761;&#x4EF6;</li>
<li>&#x65F6;&#x95F4;&#x5FAA;&#x73AF;<ol>
<li><code>incrementStepOrReject</code>&#x51FD;&#x6570;&#x6C42;&#x89E3;&#x6B65;&#x662F;&#x5426;&#x66F4;&#x65B0;</li>
<li><code>preStep</code>&#x51FD;&#x6570;&#xFF0C;<code>preStep</code>&#x51FD;&#x6570;</li>
<li><code>computeDT</code>&#x51FD;&#x6570;&#xFF0C;&#x8BA1;&#x7B97;&#x65F6;&#x95F4;&#x6B65;&#x957F;</li>
<li><code>takeStep</code>&#x51FD;&#x6570;&#xFF0C;&#x4E00;&#x5806;&#x51FD;&#x6570;&#xFF0C;&#x8BA1;&#x7B97;dt&#x53CA;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF0C;<code>preSolve</code>&#x51FD;&#x6570;&#xFF0C;<code>step</code>&#x51FD;&#x6570;&#xFF0C;<code>post</code>&#x51FD;&#x6570;</li>
<li><code>endStep</code>&#x51FD;&#x6570;&#xFF0C;&#x8BA1;&#x7B97;&#x8BEF;&#x5DEE;Indicators &#x548C; Markers&#xFF0C;&#x8F93;&#x51FA;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x6B65;&#x7684;&#x8F93;&#x51FA;</li>
<li><code>postStep</code>&#x51FD;&#x6570;&#xFF0C;<code>postStep</code>&#x51FD;&#x6570;</li>
</ol>
</li>
</ol>
<pre><code class="lang-cpp">
<span class="hljs-keyword">void</span>
Transient::execute()
{
  preExecute();

  <span class="hljs-comment">// Start time loop...</span>
  <span class="hljs-keyword">while</span> (keepGoing())
  {
    incrementStepOrReject();
    preStep();
    computeDT();
    takeStep();
    endStep();
    postStep();
  }

  <span class="hljs-keyword">if</span> (lastSolveConverged())
  {
    _t_step++;
    <span class="hljs-keyword">if</span> (!_fixed_point_solve-&gt;autoAdvance())
    {
      _problem.finishMultiAppStep(EXEC_TIMESTEP_BEGIN, <span class="hljs-comment">/*recurse_through_multiapp_levels=*/</span><span class="hljs-literal">true</span>);
      _problem.finishMultiAppStep(EXEC_TIMESTEP_END, <span class="hljs-comment">/*recurse_through_multiapp_levels=*/</span><span class="hljs-literal">true</span>);
    }
  }

  <span class="hljs-keyword">if</span> (!_app.halfTransient()){...}

  <span class="hljs-comment">// This method is to finalize anything else we want to do on the problem side.</span>
  _problem.postExecute();

  <span class="hljs-comment">// This method can be overridden for user defined activities in the Executioner.</span>
  postExecute();
}
</code></pre>
<h4 id="">#</h4>
<h1 id="&#x4ECE;kernel&#x7684;computeqpresidual&#x51FD;&#x6570;&#x5F00;&#x59CB;"><a name="&#x4ECE;kernel&#x7684;computeqpresidual&#x51FD;&#x6570;&#x5F00;&#x59CB;" class="anchor-navigation-ex-anchor" href="#&#x4ECE;kernel&#x7684;computeqpresidual&#x51FD;&#x6570;&#x5F00;&#x59CB;"><i class="fa fa-link" aria-hidden="true"></i></a>7. &#x4ECE;kernel&#x7684;computeQpResidual&#x51FD;&#x6570;&#x5F00;&#x59CB;</h1>
<p>main(int argc, char * argv[])</p>
<pre><code class="lang-cpp"><span class="hljs-comment">// Begin the main program.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span>
<span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> * argv[])</span>
</span>{
  <span class="hljs-comment">// Initialize MPI, solvers and MOOSE</span>
  <span class="hljs-function">MooseInit <span class="hljs-title">init</span><span class="hljs-params">(argc, argv)</span></span>;

  <span class="hljs-comment">// Register this application&apos;s MooseApp and any it depends on</span>
  ExampleApp::registerApps();

  <span class="hljs-comment">// Create an instance of the application and store it in a smart pointer for easy cleanup</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">shared_ptr</span>&lt;MooseApp&gt; app = AppFactory::createAppShared(<span class="hljs-string">&quot;ExampleApp&quot;</span>, argc, argv);

  <span class="hljs-comment">// Execute the application</span>
  app-&gt;run();

  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>MooseApp::run()</p>
<pre><code class="lang-cpp">void
MooseApp::run()
{
  TIME_SECTION(&quot;run&quot;, 3);
  if (isParamValid(&quot;show_docs&quot;) &amp;&amp; getParam&lt;bool&gt;(&quot;show_docs&quot;))
  {
    auto binname = appBinaryName();
    if (binname == &quot;&quot;)
      mooseError(&quot;could not locate installed tests to run (unresolved binary/app name)&quot;);
    auto docspath = MooseUtils::docsDir(binname);
    if (docspath == &quot;&quot;)
      mooseError(&quot;no installed documentation found&quot;);

    auto docmsgfile = MooseUtils::pathjoin(docspath, &quot;docmsg.txt&quot;);
    std::string docmsg = &quot;file://&quot; + MooseUtils::realpath(docspath) + &quot;/index.html&quot;;
    if (MooseUtils::pathExists(docmsgfile) &amp;&amp; MooseUtils::checkFileReadable(docmsgfile))
    {
      std::ifstream ifs(docmsgfile);
      std::string content((std::istreambuf_iterator&lt;char&gt;(ifs)),
                          (std::istreambuf_iterator&lt;char&gt;()));
      content.replace(content.find(&quot;$LOCAL_SITE_HOME&quot;), content.length(), docmsg);
      docmsg = content;
    }

    Moose::out &lt;&lt; docmsg &lt;&lt; &quot;\n&quot;;
    _ready_to_exit = true;
    return;
  }

  if (showInputs() || copyInputs() || runInputs())
  {
    _ready_to_exit = true;
    return;
  }

  try
  {
    TIME_SECTION(&quot;setup&quot;, 2, &quot;Setting Up&quot;);
    setupOptions();
    runInputFile();
  }
  catch (std::exception &amp; err)
  {
    mooseError(err.what());
  }

  if (!_check_input)
  {
    TIME_SECTION(&quot;execute&quot;, 2, &quot;Executing&quot;);
    executeExecutioner();
  }
  else
  {
    errorCheck();
    // Output to stderr, so it is easier for peacock to get the result
    Moose::err &lt;&lt; &quot;Syntax OK&quot; &lt;&lt; std::endl;
  }
}
</code></pre>
<p>MooseApp::executeExecutioner()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
MooseApp::executeExecutioner()
{
  TIME_SECTION(<span class="hljs-string">&quot;executeExecutioner&quot;</span>, <span class="hljs-number">3</span>);

  <span class="hljs-comment">// If ready to exit has been set, then just return</span>
  <span class="hljs-keyword">if</span> (_ready_to_exit)
    <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// run the simulation</span>
  <span class="hljs-keyword">if</span> (_use_executor &amp;&amp; _executor)
  {
    Moose::PetscSupport::petscSetupOutput(_command_line.get());

    _executor-&gt;init();
    errorCheck();
    <span class="hljs-keyword">auto</span> result = _executor-&gt;exec();
    <span class="hljs-keyword">if</span> (!result.convergedAll())
      mooseError(result.str());
  }
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (_executioner)
  {
    Moose::PetscSupport::petscSetupOutput(_command_line.get());
    _executioner-&gt;init();
    errorCheck();
    _executioner-&gt;execute();
  }
  <span class="hljs-keyword">else</span>
    mooseError(<span class="hljs-string">&quot;No executioner was specified (go fix your input file)&quot;</span>);
}
</code></pre>
<p>Steady::execute()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
Steady::execute()
{
  <span class="hljs-keyword">if</span> (_app.isRecovering())
  {
    _console &lt;&lt; <span class="hljs-string">&quot;\nCannot recover steady solves!\nExiting...\n&quot;</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
    <span class="hljs-keyword">return</span>;
  }

  _time_step = <span class="hljs-number">0</span>;
  _time = _time_step;
  _problem.outputStep(EXEC_INITIAL);
  _time = _system_time;

  preExecute();

  _problem.advanceState();

  <span class="hljs-comment">// first step in any steady state solve is always 1 (preserving backwards compatibility)</span>
  _time_step = <span class="hljs-number">1</span>;

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> LIBMESH_ENABLE_AMR</span>

  <span class="hljs-comment">// Define the refinement loop</span>
  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> steps = _problem.adaptivity().getSteps();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> r_step = <span class="hljs-number">0</span>; r_step &lt;= steps; r_step++)
  {
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span> <span class="hljs-comment">// LIBMESH_ENABLE_AMR</span></span>
    _problem.timestepSetup();

    _last_solve_converged = _fixed_point_solve-&gt;solve(); <span class="hljs-comment">// FixedPointSolve::solve()</span>

    <span class="hljs-keyword">if</span> (!lastSolveConverged())
    {
      _console &lt;&lt; <span class="hljs-string">&quot;Aborting as solve did not converge&quot;</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
      <span class="hljs-keyword">break</span>;
    }

    _problem.computeIndicators();
    _problem.computeMarkers();

    <span class="hljs-comment">// need to keep _time in sync with _time_step to get correct output</span>
    _time = _time_step;
    _problem.outputStep(EXEC_TIMESTEP_END);
    _time = _system_time;

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> LIBMESH_ENABLE_AMR</span>
    <span class="hljs-keyword">if</span> (r_step != steps)
    {
      _problem.adaptMesh();
    }

    _time_step++;
  }
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

  {
    TIME_SECTION(<span class="hljs-string">&quot;final&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;Executing Final Objects&quot;</span>)
    _problem.execMultiApps(EXEC_FINAL);
    _problem.finalizeMultiApps();
    _problem.postExecute();
    _problem.execute(EXEC_FINAL);
    _time = _time_step;
    _problem.outputStep(EXEC_FINAL);
    _time = _system_time;
  }

  postExecute();
}
</code></pre>
<p>FixedPointSolve::solve()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">bool</span>
FixedPointSolve::solve()
{
  TIME_SECTION(<span class="hljs-string">&quot;PicardSolve&quot;</span>, <span class="hljs-number">1</span>);

  Real current_dt = _problem.dt();

  _fixed_point_timestep_begin_norm.clear();
  _fixed_point_timestep_end_norm.clear();
  _fixed_point_timestep_begin_norm.resize(_max_fixed_point_its);
  _fixed_point_timestep_end_norm.resize(_max_fixed_point_its);

  <span class="hljs-keyword">bool</span> converged = <span class="hljs-literal">true</span>;

  <span class="hljs-comment">// need to back up multi-apps even when not doing fixed point iteration for recovering from failed</span>
  <span class="hljs-comment">// multiapp solve</span>
  _problem.backupMultiApps(EXEC_TIMESTEP_BEGIN);
  _problem.backupMultiApps(EXEC_TIMESTEP_END);

  <span class="hljs-comment">// Prepare to relax variables as a main app</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">set</span>&lt;dof_id_type&gt; transformed_dofs;
  <span class="hljs-keyword">if</span> ((_relax_factor != <span class="hljs-number">1.0</span> || !<span class="hljs-keyword">dynamic_cast</span>&lt;PicardSolve *&gt;(<span class="hljs-keyword">this</span>)) &amp;&amp; _transformed_vars.size() &gt; <span class="hljs-number">0</span>)
  {
    <span class="hljs-comment">// Snag all of the local dof indices for all of these variables</span>
    <span class="hljs-function">AllLocalDofIndicesThread <span class="hljs-title">aldit</span><span class="hljs-params">(_problem, _transformed_vars)</span></span>;
    ConstElemRange &amp; elem_range = *_problem.mesh().getActiveLocalElementRange();
    Threads::parallel_reduce(elem_range, aldit);

    transformed_dofs = aldit.getDofIndices();
  }

  <span class="hljs-comment">// Prepare to relax variables as a subapp</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">set</span>&lt;dof_id_type&gt; secondary_transformed_dofs;
  <span class="hljs-keyword">if</span> (_secondary_relaxation_factor != <span class="hljs-number">1.0</span> || !<span class="hljs-keyword">dynamic_cast</span>&lt;PicardSolve *&gt;(<span class="hljs-keyword">this</span>))
  {
    <span class="hljs-keyword">if</span> (_secondary_transformed_variables.size() &gt; <span class="hljs-number">0</span>)
    {
      <span class="hljs-comment">// Snag all of the local dof indices for all of these variables</span>
      <span class="hljs-function">AllLocalDofIndicesThread <span class="hljs-title">aldit</span><span class="hljs-params">(_problem, _secondary_transformed_variables)</span></span>;
      ConstElemRange &amp; elem_range = *_problem.mesh().getActiveLocalElementRange();
      Threads::parallel_reduce(elem_range, aldit);

      secondary_transformed_dofs = aldit.getDofIndices();
    }

    <span class="hljs-comment">// To detect a new time step</span>
    <span class="hljs-keyword">if</span> (_old_entering_time == _problem.time())
    {
      <span class="hljs-comment">// Keep track of the iteration number of the main app</span>
      _main_fixed_point_it++;

      <span class="hljs-comment">// Save variable values before the solve. Solving will provide new values</span>
      saveVariableValues(<span class="hljs-literal">false</span>);
    }
    <span class="hljs-keyword">else</span>
      _main_fixed_point_it = <span class="hljs-number">0</span>;
  }

  <span class="hljs-keyword">for</span> (_fixed_point_it = <span class="hljs-number">0</span>; _fixed_point_it &lt; _max_fixed_point_its; ++_fixed_point_it)
  {
    <span class="hljs-keyword">if</span> (_has_fixed_point_its)
    {
      <span class="hljs-keyword">if</span> (_fixed_point_it == <span class="hljs-number">0</span>)
      {
        <span class="hljs-keyword">if</span> (_has_fixed_point_norm)
        {
          <span class="hljs-comment">// First fixed point iteration - need to save off the initial nonlinear residual</span>
          _fixed_point_initial_norm = _problem.computeResidualL2Norm();
          _console &lt;&lt; COLOR_MAGENTA &lt;&lt; <span class="hljs-string">&quot;Initial fixed point residual norm: &quot;</span> &lt;&lt; COLOR_DEFAULT;
          <span class="hljs-keyword">if</span> (_fixed_point_initial_norm == <span class="hljs-built_in">std</span>::numeric_limits&lt;Real&gt;::max())
            _console &lt;&lt; <span class="hljs-string">&quot; MAX &quot;</span>;
          <span class="hljs-keyword">else</span>
            _console &lt;&lt; <span class="hljs-built_in">std</span>::scientific &lt;&lt; _fixed_point_initial_norm;
          _console &lt;&lt; COLOR_DEFAULT &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
        }
      }
      <span class="hljs-keyword">else</span>
      {
        <span class="hljs-comment">// For every iteration other than the first, we need to restore the state of the MultiApps</span>
        _problem.restoreMultiApps(EXEC_TIMESTEP_BEGIN);
        _problem.restoreMultiApps(EXEC_TIMESTEP_END);
      }

      _console &lt;&lt; COLOR_MAGENTA &lt;&lt; <span class="hljs-string">&quot;Beginning fixed point iteration &quot;</span> &lt;&lt; _fixed_point_it
               &lt;&lt; COLOR_DEFAULT &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>
               &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
    }

    <span class="hljs-comment">// Save last postprocessor value as value before solve</span>
    <span class="hljs-keyword">if</span> (_fixed_point_custom_pp &amp;&amp; _fixed_point_it &gt; <span class="hljs-number">0</span> &amp;&amp; !getParam&lt;<span class="hljs-keyword">bool</span>&gt;(<span class="hljs-string">&quot;direct_pp_value&quot;</span>))
      _pp_old = *_fixed_point_custom_pp;

    <span class="hljs-comment">// Solve a single application for one time step</span>
    <span class="hljs-keyword">bool</span> solve_converged = solveStep(_fixed_point_timestep_begin_norm[_fixed_point_it],
                                     _fixed_point_timestep_end_norm[_fixed_point_it],
                                     transformed_dofs); <span class="hljs-comment">// FixedPointSolve::solveStep()</span>

    <span class="hljs-comment">// Get new value and print history for the custom postprocessor convergence criterion</span>
    <span class="hljs-keyword">if</span> (_fixed_point_custom_pp)
      computeCustomConvergencePostprocessor();

    <span class="hljs-keyword">if</span> (solve_converged)
    {
      <span class="hljs-keyword">if</span> (_has_fixed_point_its)
      {
        <span class="hljs-keyword">if</span> (_has_fixed_point_norm)
          <span class="hljs-comment">// Print the evolution of the main app residual over the fixed point iterations</span>
          printFixedPointConvergenceHistory();

        <span class="hljs-comment">// Examine convergence metrics &amp; properties and set the convergence reason</span>
        <span class="hljs-keyword">bool</span> break_out = examineFixedPointConvergence(converged);
        <span class="hljs-keyword">if</span> (break_out)
          <span class="hljs-keyword">break</span>;
      }
    }
    <span class="hljs-keyword">else</span>
    {
      <span class="hljs-comment">// If the last solve didn&apos;t converge then we need to exit this step completely (even in the</span>
      <span class="hljs-comment">// case of coupling). So we can retry...</span>
      converged = <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">break</span>;
    }

    _problem.dt() =
        current_dt; <span class="hljs-comment">// _dt might be smaller than this at this point for multistep methods</span>
  }

  <span class="hljs-comment">// Save postprocessors after the solve and their potential timestep_end execution</span>
  <span class="hljs-comment">// The postprocessors could be overwritten at timestep_begin, which is why they are saved</span>
  <span class="hljs-comment">// after the solve. They could also be saved right after the transfers.</span>
  <span class="hljs-keyword">if</span> (_old_entering_time == _problem.time())
    savePostprocessorValues(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">if</span> (converged)
  {
    <span class="hljs-comment">// Update the subapp using the fixed point algorithm</span>
    <span class="hljs-keyword">if</span> (_secondary_transformed_variables.size() &gt; <span class="hljs-number">0</span> &amp;&amp;
        useFixedPointAlgorithmUpdateInsteadOfPicard(<span class="hljs-literal">false</span>) &amp;&amp; _old_entering_time == _problem.time())
      transformVariables(secondary_transformed_dofs, <span class="hljs-literal">false</span>);

    <span class="hljs-comment">// Update the entering time, used to detect failed solves</span>
    _old_entering_time = _problem.time();
  }

  <span class="hljs-keyword">if</span> (_has_fixed_point_its)
    printFixedPointConvergenceReason();

  <span class="hljs-comment">// clear history to avoid displaying it again on next solve that can happen for example during</span>
  <span class="hljs-comment">// transient</span>
  _pp_history.str(<span class="hljs-string">&quot;&quot;</span>);

  <span class="hljs-keyword">return</span> converged;
}
</code></pre>
<p>FixedPointSolve::solveStep()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">bool</span>
FixedPointSolve::solveStep(Real &amp; begin_norm,
                           Real &amp; end_norm,
                           <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">set</span>&lt;dof_id_type&gt; &amp; transformed_dofs)
{
  <span class="hljs-keyword">bool</span> auto_advance = autoAdvance();

  <span class="hljs-comment">// Compute previous norms for coloring the norm output</span>
  Real begin_norm_old = (_fixed_point_it &gt; <span class="hljs-number">0</span> ? _fixed_point_timestep_begin_norm[_fixed_point_it - <span class="hljs-number">1</span>]
                                             : <span class="hljs-built_in">std</span>::numeric_limits&lt;Real&gt;::max());
  Real end_norm_old = (_fixed_point_it &gt; <span class="hljs-number">0</span> ? _fixed_point_timestep_end_norm[_fixed_point_it - <span class="hljs-number">1</span>]
                                           : <span class="hljs-built_in">std</span>::numeric_limits&lt;Real&gt;::max());

  _executioner.preSolve();

  _problem.execTransfers(EXEC_TIMESTEP_BEGIN);
  <span class="hljs-keyword">if</span> (!_problem.execMultiApps(EXEC_TIMESTEP_BEGIN, auto_advance))
  {
    _fixed_point_status = MooseFixedPointConvergenceReason::DIVERGED_FAILED_MULTIAPP;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  <span class="hljs-keyword">if</span> (_problem.haveXFEM() &amp;&amp; _update_xfem_at_timestep_begin)
    _problem.updateMeshXFEM();

  _problem.execute(EXEC_TIMESTEP_BEGIN);

  <span class="hljs-comment">// Transform the fixed point postprocessors before solving, but after the timestep_begin transfers</span>
  <span class="hljs-comment">// have been received</span>
  <span class="hljs-keyword">if</span> (_transformed_pps.size() &gt; <span class="hljs-number">0</span> &amp;&amp; useFixedPointAlgorithmUpdateInsteadOfPicard(<span class="hljs-literal">true</span>))
    transformPostprocessors(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">if</span> (_secondary_transformed_pps.size() &gt; <span class="hljs-number">0</span> &amp;&amp; useFixedPointAlgorithmUpdateInsteadOfPicard(<span class="hljs-literal">false</span>) &amp;&amp;
      _problem.time() == _old_entering_time)
    transformPostprocessors(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">if</span> (_has_fixed_point_its &amp;&amp; _has_fixed_point_norm)
    <span class="hljs-keyword">if</span> (_problem.hasMultiApps(EXEC_TIMESTEP_BEGIN) || _fixed_point_force_norms)
    {
      begin_norm = _problem.computeResidualL2Norm();

      _console &lt;&lt; COLOR_MAGENTA &lt;&lt; <span class="hljs-string">&quot;Fixed point residual norm after TIMESTEP_BEGIN MultiApps: &quot;</span>
               &lt;&lt; Console::outputNorm(begin_norm_old, begin_norm) &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
    }

  <span class="hljs-comment">// Perform output for timestep begin</span>
  _problem.outputStep(EXEC_TIMESTEP_BEGIN);

  <span class="hljs-comment">// Update warehouse active objects</span>
  _problem.updateActiveObjects();

  <span class="hljs-comment">// Save the current values of variables and postprocessors, before the solve</span>
  saveAllValues(<span class="hljs-literal">true</span>);

  <span class="hljs-keyword">if</span> (_has_fixed_point_its)
    _console &lt;&lt; COLOR_MAGENTA &lt;&lt; <span class="hljs-string">&quot;\nMain app solve:&quot;</span> &lt;&lt; COLOR_DEFAULT &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
  <span class="hljs-keyword">if</span> (!_inner_solve-&gt;solve()) <span class="hljs-comment">// FEProblemSolve::solve()</span>
  {
    _fixed_point_status = MooseFixedPointConvergenceReason::DIVERGED_NONLINEAR;

    <span class="hljs-comment">// Perform the output of the current, failed time step (this only occurs if desired)</span>
    _problem.outputStep(EXEC_FAILED);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">else</span>
    _fixed_point_status = MooseFixedPointConvergenceReason::CONVERGED_NONLINEAR;

  <span class="hljs-comment">// Use the fixed point algorithm if the conditions (availability of values, etc) are met</span>
  <span class="hljs-keyword">if</span> (_transformed_vars.size() &gt; <span class="hljs-number">0</span> &amp;&amp; useFixedPointAlgorithmUpdateInsteadOfPicard(<span class="hljs-literal">true</span>))
    transformVariables(transformed_dofs, <span class="hljs-literal">true</span>);

  <span class="hljs-keyword">if</span> (_problem.haveXFEM() &amp;&amp; (_xfem_update_count &lt; _max_xfem_update) &amp;&amp; _problem.updateMeshXFEM())
  {
    _console &lt;&lt; <span class="hljs-string">&quot;\nXFEM modified mesh, repeating step&quot;</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
    _xfem_repeat_step = <span class="hljs-literal">true</span>;
    ++_xfem_update_count;
  }
  <span class="hljs-keyword">else</span>
  {
    <span class="hljs-keyword">if</span> (_problem.haveXFEM())
    {
      _xfem_repeat_step = <span class="hljs-literal">false</span>;
      _xfem_update_count = <span class="hljs-number">0</span>;
      _console &lt;&lt; <span class="hljs-string">&quot;\nXFEM did not modify mesh, continuing&quot;</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
    }

    _problem.onTimestepEnd();
    _problem.execute(EXEC_TIMESTEP_END);

    _problem.execTransfers(EXEC_TIMESTEP_END);
    <span class="hljs-keyword">if</span> (!_problem.execMultiApps(EXEC_TIMESTEP_END, auto_advance))
    {
      _fixed_point_status = MooseFixedPointConvergenceReason::DIVERGED_FAILED_MULTIAPP;
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  }

  <span class="hljs-keyword">if</span> (_fail_step)
  {
    _fail_step = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  _executioner.postSolve();

  <span class="hljs-keyword">if</span> (_has_fixed_point_its &amp;&amp; _has_fixed_point_norm)
    <span class="hljs-keyword">if</span> (_problem.hasMultiApps(EXEC_TIMESTEP_END) || _fixed_point_force_norms)
    {
      end_norm = _problem.computeResidualL2Norm();

      _console &lt;&lt; COLOR_MAGENTA &lt;&lt; <span class="hljs-string">&quot;Fixed point residual norm after TIMESTEP_END MultiApps: &quot;</span>
               &lt;&lt; Console::outputNorm(end_norm_old, end_norm) &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
    }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<p>FEProblemSolve::solve()</p>
<pre><code class="lang-cpp">
<span class="hljs-keyword">bool</span>
FEProblemSolve::solve()
{
  <span class="hljs-comment">// This loop is for nonlinear multigrids (developed by Alex)</span>
  <span class="hljs-keyword">for</span> (MooseIndex(_num_grid_steps) grid_step = <span class="hljs-number">0</span>; grid_step &lt;= _num_grid_steps; ++grid_step)
  {
    _problem.solve(); <span class="hljs-comment">// FEProblemBase::solve(const unsigned int nl_sys_num)</span>

    <span class="hljs-keyword">if</span> (_problem.shouldSolve())
    {
      <span class="hljs-keyword">if</span> (_problem.converged())
        _console &lt;&lt; COLOR_GREEN &lt;&lt; <span class="hljs-string">&quot; Solve Converged!&quot;</span> &lt;&lt; COLOR_DEFAULT &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
      <span class="hljs-keyword">else</span>
      {
        _console &lt;&lt; COLOR_RED &lt;&lt; <span class="hljs-string">&quot; Solve Did NOT Converge!&quot;</span> &lt;&lt; COLOR_DEFAULT &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
    }
    <span class="hljs-keyword">else</span>
      _console &lt;&lt; COLOR_GREEN &lt;&lt; <span class="hljs-string">&quot; Solve Skipped!&quot;</span> &lt;&lt; COLOR_DEFAULT &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;

    <span class="hljs-keyword">if</span> (grid_step != _num_grid_steps)
      _problem.uniformRefine();
  }
  <span class="hljs-keyword">return</span> _problem.converged();
}
</code></pre>
<p>FEProblemBase::solve(const unsigned int nl_sys_num)</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
FEProblemBase::solve(<span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> nl_sys_num)
{
  TIME_SECTION(<span class="hljs-string">&quot;solve&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;Solving&quot;</span>, <span class="hljs-literal">false</span>);

  setCurrentNonlinearSystem(nl_sys_num);

  <span class="hljs-comment">// This prevents stale dof indices from lingering around and possibly leading to invalid reads and</span>
  <span class="hljs-comment">// writes. Dof indices may be made stale through operations like mesh adaptivity</span>
  clearAllDofIndices();
  <span class="hljs-keyword">if</span> (_displaced_problem)
    _displaced_problem-&gt;clearAllDofIndices();

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> PETSC_RELEASE_LESS_THAN(3, 12, 0)</span>
  Moose::PetscSupport::petscSetOptions(*<span class="hljs-keyword">this</span>); <span class="hljs-comment">// Make sure the PETSc options are setup for this app</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
  <span class="hljs-comment">// Now this database will be the default</span>
  <span class="hljs-comment">// Each app should have only one database</span>
  <span class="hljs-keyword">if</span> (!_app.isUltimateMaster())
    PetscOptionsPush(_petsc_option_data_base);
  <span class="hljs-comment">// We did not add PETSc options to database yet</span>
  <span class="hljs-keyword">if</span> (!_is_petsc_options_inserted)
  {
    Moose::PetscSupport::petscSetOptions(*<span class="hljs-keyword">this</span>);
    _is_petsc_options_inserted = <span class="hljs-literal">true</span>;
  }
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
  <span class="hljs-comment">// set up DM which is required if use a field split preconditioner</span>
  <span class="hljs-comment">// We need to setup DM every &quot;solve()&quot; because libMesh destroy SNES after solve()</span>
  <span class="hljs-comment">// Do not worry, DM setup is very cheap</span>
  <span class="hljs-keyword">if</span> (_current_nl_sys-&gt;haveFieldSplitPreconditioner())
    Moose::PetscSupport::petscSetupDM(*_current_nl_sys);

  Moose::setSolverDefaults(*<span class="hljs-keyword">this</span>);

  <span class="hljs-comment">// Setup the output system for printing linear/nonlinear iteration information</span>
  initPetscOutput();

  possiblyRebuildGeomSearchPatches();

  <span class="hljs-comment">// reset flag so that linear solver does not use</span>
  <span class="hljs-comment">// the old converged reason &quot;DIVERGED_NANORINF&quot;, when</span>
  <span class="hljs-comment">// we throw  an exception and stop solve</span>
  _fail_next_linear_convergence_check = <span class="hljs-literal">false</span>;

  <span class="hljs-keyword">if</span> (_solve)
    _current_nl_sys-&gt;solve(); <span class="hljs-comment">// NonlinearSystem::solve()</span>

  <span class="hljs-keyword">if</span> (_solve)
    _current_nl_sys-&gt;update();

  <span class="hljs-comment">// sync solutions in displaced problem</span>
  <span class="hljs-keyword">if</span> (_displaced_problem)
    _displaced_problem-&gt;syncSolutions();

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> !PETSC_RELEASE_LESS_THAN(3, 12, 0)</span>
  <span class="hljs-keyword">if</span> (!_app.isUltimateMaster())
    PetscOptionsPop();
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
}
</code></pre>
<p>NonlinearSystem::solve()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
NonlinearSystem::solve()
{
  <span class="hljs-comment">// Only attach the postcheck function to the solver if we actually</span>
  <span class="hljs-comment">// have dampers or if the FEProblemBase needs to update the solution,</span>
  <span class="hljs-comment">// which is also done during the linesearch postcheck.  It doesn&apos;t</span>
  <span class="hljs-comment">// hurt to do this multiple times, it is just setting a pointer.</span>
  <span class="hljs-keyword">if</span> (_fe_problem.hasDampers() || _fe_problem.shouldUpdateSolution() ||
      _fe_problem.needsPreviousNewtonIteration())
    _nl_implicit_sys.nonlinear_solver-&gt;postcheck = Moose::compute_postcheck;

  <span class="hljs-keyword">if</span> (_fe_problem.solverParams()._type != Moose::ST_LINEAR)
  {
    TIME_SECTION(<span class="hljs-string">&quot;nlInitialResidual&quot;</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;Computing Initial Residual&quot;</span>);
    <span class="hljs-comment">// Calculate the initial residual for use in the convergence criterion.</span>
    _computing_initial_residual = <span class="hljs-literal">true</span>;
    _fe_problem.computeResidualSys(_nl_implicit_sys, *_current_solution, *_nl_implicit_sys.rhs); <span class="hljs-comment">// FEProblemBase::computeResidualSys()</span>
    _computing_initial_residual = <span class="hljs-literal">false</span>;
    _nl_implicit_sys.rhs-&gt;close();
    _initial_residual_before_preset_bcs = _nl_implicit_sys.rhs-&gt;l2_norm();
    <span class="hljs-keyword">if</span> (_compute_initial_residual_before_preset_bcs)
      _console &lt;&lt; <span class="hljs-string">&quot;Initial residual before setting preset BCs: &quot;</span>
               &lt;&lt; _initial_residual_before_preset_bcs &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
  }

  <span class="hljs-comment">// Clear the iteration counters</span>
  _current_l_its.clear();
  _current_nl_its = <span class="hljs-number">0</span>;

  <span class="hljs-comment">// Initialize the solution vector using a predictor and known values from nodal bcs</span>
  setInitialSolution();

  <span class="hljs-comment">// Now that the initial solution has ben set, potentially perform a residual/Jacobian evaluation</span>
  <span class="hljs-comment">// to determine variable scaling factors</span>
  <span class="hljs-keyword">if</span> (_automatic_scaling)
  {
    <span class="hljs-keyword">if</span> (_compute_scaling_once)
    {
      <span class="hljs-keyword">if</span> (!_computed_scaling)
      {
        computeScaling();
        _computed_scaling = <span class="hljs-literal">true</span>;
      }
    }
    <span class="hljs-keyword">else</span>
      computeScaling();
  }
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> MOOSE_GLOBAL_AD_INDEXING</span>
  <span class="hljs-comment">// We do not know a priori what variable a global degree of freedom corresponds to, so we need a</span>
  <span class="hljs-comment">// map from global dof to scaling factor. We just use a ghosted NumericVector for that mapping</span>
  assembleScalingVector();
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

  <span class="hljs-keyword">if</span> (_use_finite_differenced_preconditioner)
  {
    _nl_implicit_sys.nonlinear_solver-&gt;fd_residual_object = &amp;_fd_residual_functor;
    setupFiniteDifferencedPreconditioner();
  }

  PetscNonlinearSolver&lt;Real&gt; &amp; solver =
      <span class="hljs-keyword">static_cast</span>&lt;PetscNonlinearSolver&lt;Real&gt; &amp;&gt;(*_nl_implicit_sys.nonlinear_solver);
  solver.mffd_residual_object = &amp;_fd_residual_functor;

  solver.set_snesmf_reuse_base(_fe_problem.useSNESMFReuseBase());

  <span class="hljs-keyword">if</span> (_time_integrator)
  {
    _time_integrator-&gt;solve();
    _time_integrator-&gt;postSolve();
    _n_iters = _time_integrator-&gt;getNumNonlinearIterations();
    _n_linear_iters = _time_integrator-&gt;getNumLinearIterations();
  }
  <span class="hljs-keyword">else</span>
  {
    system().solve();
    _n_iters = _nl_implicit_sys.n_nonlinear_iterations();
    _n_linear_iters = solver.get_total_linear_iterations();
  }

  <span class="hljs-comment">// store info about the solve</span>
  _final_residual = _nl_implicit_sys.final_nonlinear_residual();

  <span class="hljs-keyword">if</span> (_use_coloring_finite_difference)
    MatFDColoringDestroy(&amp;_fdcoloring);
}
</code></pre>
<p>FEProblemBase::computeResidualSys()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
FEProblemBase::computeResidualSys(NonlinearImplicitSystem &amp; sys,
                                  <span class="hljs-keyword">const</span> NumericVector&lt;Number&gt; &amp; soln,
                                  NumericVector&lt;Number&gt; &amp; residual)
{
  TIME_SECTION(<span class="hljs-string">&quot;computeResidualSys&quot;</span>, <span class="hljs-number">5</span>);

  ADReal::do_derivatives = <span class="hljs-literal">false</span>;

  computeResidual(soln, residual, sys.number()); <span class="hljs-comment">// FEProblemBase::computeResidual()</span>

  ADReal::do_derivatives = <span class="hljs-literal">true</span>;
}
</code></pre>
<p>FEProblemBase::computeResidual()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
FEProblemBase::computeResidual(<span class="hljs-keyword">const</span> NumericVector&lt;Number&gt; &amp; soln,
                               NumericVector&lt;Number&gt; &amp; residual,
                               <span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> nl_sys_num)
{
  setCurrentNonlinearSystem(nl_sys_num);
  <span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> &amp; residual_vector_tags = getVectorTags(Moose::VECTOR_TAG_RESIDUAL);

  _fe_vector_tags.clear();

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> &amp; residual_vector_tag : residual_vector_tags)
    _fe_vector_tags.insert(residual_vector_tag._id);

  computeResidualInternal(soln, residual, _fe_vector_tags); <span class="hljs-comment">// FEProblemBase::computeResidualInternal()</span>
}
</code></pre>
<p>FEProblemBase::computeResidualInternal()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
FEProblemBase::computeResidualInternal(<span class="hljs-keyword">const</span> NumericVector&lt;Number&gt; &amp; soln,
                                       NumericVector&lt;Number&gt; &amp; residual,
                                       <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">set</span>&lt;TagID&gt; &amp; tags)
{
  TIME_SECTION(<span class="hljs-string">&quot;computeResidualInternal&quot;</span>, <span class="hljs-number">1</span>);

  <span class="hljs-keyword">try</span>
  {
    _current_nl_sys-&gt;setSolution(soln);

    _current_nl_sys-&gt;associateVectorToTag(residual, _current_nl_sys-&gt;residualVectorTag());

    computeResidualTags(tags); <span class="hljs-comment">// FEProblemBase::computeResidualTags(const std::set&lt;TagID&gt; &amp; tags)</span>

    _current_nl_sys-&gt;disassociateVectorFromTag(residual, _current_nl_sys-&gt;residualVectorTag());
  }
  <span class="hljs-keyword">catch</span> (MooseException &amp; e)
  {
    <span class="hljs-comment">// If a MooseException propagates all the way to here, it means</span>
    <span class="hljs-comment">// that it was thrown from a MOOSE system where we do not</span>
    <span class="hljs-comment">// (currently) properly support the throwing of exceptions, and</span>
    <span class="hljs-comment">// therefore we have no choice but to error out.  It may be</span>
    <span class="hljs-comment">// *possible* to handle exceptions from other systems, but in the</span>
    <span class="hljs-comment">// meantime, we don&apos;t want to silently swallow any unhandled</span>
    <span class="hljs-comment">// exceptions here.</span>
    mooseError(<span class="hljs-string">&quot;An unhandled MooseException was raised during residual computation.  Please &quot;</span>
               <span class="hljs-string">&quot;contact the MOOSE team for assistance.&quot;</span>);
  }
}
</code></pre>
<p>FEProblemBase::computeResidualTags(const std::set<tagid> &amp; tags)</tagid></p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
FEProblemBase::computeResidualTags(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">set</span>&lt;TagID&gt; &amp; tags)
{
  TIME_SECTION(<span class="hljs-string">&quot;computeResidualTags&quot;</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;Computing Residual&quot;</span>);

  _aux-&gt;zeroVariablesForResidual();

  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> n_threads = libMesh::n_threads();

  _current_execute_on_flag = EXEC_LINEAR;

  <span class="hljs-comment">// Random interface objects</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> &amp; it : _random_data_objects)
    it.second-&gt;updateSeeds(EXEC_LINEAR);

  execTransfers(EXEC_LINEAR);

  execMultiApps(EXEC_LINEAR);

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> tid = <span class="hljs-number">0</span>; tid &lt; n_threads; tid++)
    reinitScalars(tid);

  computeUserObjects(EXEC_LINEAR, Moose::PRE_AUX);

  _aux-&gt;residualSetup();

  <span class="hljs-keyword">if</span> (_displaced_problem)
  {
    _aux-&gt;compute(EXEC_PRE_DISPLACE);
    <span class="hljs-keyword">try</span>
    {
      <span class="hljs-keyword">try</span>
      {
        _displaced_problem-&gt;updateMesh();
        <span class="hljs-keyword">if</span> (_mortar_data.hasDisplacedObjects())
          updateMortarMesh();
      }
      <span class="hljs-keyword">catch</span> (libMesh::LogicError &amp; e)
      {
        <span class="hljs-keyword">throw</span> MooseException(<span class="hljs-string">&quot;We caught a libMesh error in FEProblemBase&quot;</span>);
      }
    }
    <span class="hljs-keyword">catch</span> (MooseException &amp; e)
    {
      setException(e.what());
    }
    <span class="hljs-keyword">try</span>
    {
      <span class="hljs-comment">// Propagate the exception to all processes if we had one</span>
      checkExceptionAndStopSolve();
    }
    <span class="hljs-keyword">catch</span> (MooseException &amp;)
    {
      <span class="hljs-comment">// Just end now. We&apos;ve inserted our NaN into the residual vector</span>
      <span class="hljs-keyword">return</span>;
    }
  }

  <span class="hljs-keyword">for</span> (THREAD_ID tid = <span class="hljs-number">0</span>; tid &lt; n_threads; tid++)
  {
    _all_materials.residualSetup(tid);
    _functions.residualSetup(tid);
  }

  <span class="hljs-comment">// Where is the aux system done? Could the non-current nonlinear systems also be done there?</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp; nl : _nl)
    nl-&gt;computeTimeDerivatives();

  <span class="hljs-keyword">try</span>
  {
    _aux-&gt;compute(EXEC_LINEAR);
  }
  <span class="hljs-keyword">catch</span> (MooseException &amp; e)
  {
    _console &lt;&lt; <span class="hljs-string">&quot;\nA MooseException was raised during Auxiliary variable computation.\n&quot;</span>
             &lt;&lt; <span class="hljs-string">&quot;The next solve will fail, the timestep will be reduced, and we will try again.\n&quot;</span>
             &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;

    <span class="hljs-comment">// We know the next solve is going to fail, so there&apos;s no point in</span>
    <span class="hljs-comment">// computing anything else after this.  Plus, using incompletely</span>
    <span class="hljs-comment">// computed AuxVariables in subsequent calculations could lead to</span>
    <span class="hljs-comment">// other errors or unhandled exceptions being thrown.</span>
    <span class="hljs-keyword">return</span>;
  }

  computeUserObjects(EXEC_LINEAR, Moose::POST_AUX);

  executeControls(EXEC_LINEAR);

  _current_execute_on_flag = EXEC_NONE;

  _app.getOutputWarehouse().residualSetup();

  _safe_access_tagged_vectors = <span class="hljs-literal">false</span>;

  _current_nl_sys-&gt;computeResidualTags(tags); <span class="hljs-comment">// NonlinearSystemBase::computeResidualTags(const std::set&lt;TagID&gt; &amp; tags)</span>

  _safe_access_tagged_vectors = <span class="hljs-literal">true</span>;
}
</code></pre>
<p>NonlinearSystemBase::computeResidualTags(const std::set<tagid> &amp; tags)</tagid></p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
NonlinearSystemBase::computeResidualTags(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">set</span>&lt;TagID&gt; &amp; tags)
{
  TIME_SECTION(<span class="hljs-string">&quot;nl::computeResidualTags&quot;</span>, <span class="hljs-number">5</span>);

  _fe_problem.setCurrentNonlinearSystem(number());
  _fe_problem.setCurrentlyComputingResidual(<span class="hljs-literal">true</span>);

  <span class="hljs-keyword">bool</span> required_residual = tags.find(residualVectorTag()) == tags.end() ? <span class="hljs-literal">false</span> : <span class="hljs-literal">true</span>;

  _n_residual_evaluations++;

  <span class="hljs-comment">// not suppose to do anythin on matrix</span>
  deactiveAllMatrixTags();

  <span class="hljs-function">FloatingPointExceptionGuard <span class="hljs-title">fpe_guard</span><span class="hljs-params">(_app)</span></span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> &amp; numeric_vec : _vecs_to_zero_for_residual)
    <span class="hljs-keyword">if</span> (hasVector(numeric_vec))
    {
      NumericVector&lt;Number&gt; &amp; vec = getVector(numeric_vec);
      vec.close();
      vec.zero();
    }

  <span class="hljs-keyword">try</span>
  {
    zeroTaggedVectors(tags);
    computeResidualInternal(tags); <span class="hljs-comment">// NonlinearSystemBase::computeResidualInternal(const std::set&lt;TagID&gt; &amp; tags)</span>
    closeTaggedVectors(tags);

    <span class="hljs-keyword">if</span> (required_residual)
    {
      <span class="hljs-keyword">auto</span> &amp; residual = getVector(residualVectorTag());
      <span class="hljs-keyword">if</span> (_time_integrator)
        _time_integrator-&gt;postResidual(residual);
      <span class="hljs-keyword">else</span>
        residual += *_Re_non_time;
      residual.close();
    }
    <span class="hljs-keyword">if</span> (_fe_problem.computingScalingResidual())
      <span class="hljs-comment">// We don&apos;t want to do nodal bcs or anything else</span>
      <span class="hljs-keyword">return</span>;

    computeNodalBCs(tags);
    closeTaggedVectors(tags);

    <span class="hljs-comment">// If we are debugging residuals we need one more assignment to have the ghosted copy up to</span>
    <span class="hljs-comment">// date</span>
    <span class="hljs-keyword">if</span> (_need_residual_ghosted &amp;&amp; _debugging_residuals &amp;&amp; required_residual)
    {
      <span class="hljs-keyword">auto</span> &amp; residual = getVector(residualVectorTag());

      *_residual_ghosted = residual;
      _residual_ghosted-&gt;close();
    }
    <span class="hljs-comment">// Need to close and update the aux system in case residuals were saved to it.</span>
    <span class="hljs-keyword">if</span> (_has_nodalbc_save_in)
      _fe_problem.getAuxiliarySystem().solution().close();
    <span class="hljs-keyword">if</span> (hasSaveIn())
      _fe_problem.getAuxiliarySystem().update();
  }
  <span class="hljs-keyword">catch</span> (MooseException &amp; e)
  {
    <span class="hljs-comment">// The buck stops here, we have already handled the exception by</span>
    <span class="hljs-comment">// calling stopSolve(), it is now up to PETSc to return a</span>
    <span class="hljs-comment">// &quot;diverged&quot; reason during the next solve.</span>
  }

  <span class="hljs-comment">// not supposed to do anything on matrix</span>
  activeAllMatrixTags();

  _fe_problem.setCurrentlyComputingResidual(<span class="hljs-literal">false</span>);
}
</code></pre>
<p>NonlinearSystemBase::computeResidualInternal(const std::set<tagid> &amp; tags)</tagid></p>
<pre><code class="lang-cpp">void
NonlinearSystemBase::computeResidualInternal(const std::set&lt;TagID&gt; &amp; tags)
{
  TIME_SECTION(&quot;computeResidualInternal&quot;, 3);

  residualSetup();

  // Residual contributions from UOs - for now this is used for ray tracing
  // and ray kernels that contribute to the residual (think line sources)
  std::vector&lt;UserObject *&gt; uos;
  _fe_problem.theWarehouse()
      .query()
      .condition&lt;AttribSystem&gt;(&quot;UserObject&quot;)
      .condition&lt;AttribExecOns&gt;(EXEC_PRE_KERNELS)
      .queryInto(uos);
  for (auto &amp; uo : uos)
    uo-&gt;residualSetup();
  for (auto &amp; uo : uos)
  {
    uo-&gt;initialize();
    uo-&gt;execute();
    uo-&gt;finalize();
  }

  // reinit scalar variables
  for (unsigned int tid = 0; tid &lt; libMesh::n_threads(); tid++)
    _fe_problem.reinitScalars(tid);

  // residual contributions from the domain
  PARALLEL_TRY
  {
    TIME_SECTION(&quot;Kernels&quot;, 3 /*, &quot;Computing Kernels&quot;*/);

    ConstElemRange &amp; elem_range = *_mesh.getActiveLocalElementRange();

    ComputeResidualThread cr(_fe_problem, tags);
    Threads::parallel_reduce(elem_range, cr);

    if (_fe_problem.haveFV())
    {
      using FVRange = StoredRange&lt;std::vector&lt;const FaceInfo *&gt;::const_iterator, const FaceInfo *&gt;;
      ComputeFVFluxResidualThread&lt;FVRange&gt; fvr(_fe_problem, tags);
      FVRange faces(_fe_problem.mesh().faceInfo().begin(), _fe_problem.mesh().faceInfo().end());
      Threads::parallel_reduce(faces, fvr);
    }

    unsigned int n_threads = libMesh::n_threads();
    for (unsigned int i = 0; i &lt; n_threads;
         i++) // Add any cached residuals that might be hanging around
      _fe_problem.addCachedResidual(i);
  }
  PARALLEL_CATCH;

  // residual contributions from the scalar kernels
  PARALLEL_TRY
  {
    // do scalar kernels (not sure how to thread this)
    if (_scalar_kernels.hasActiveObjects())
    {
      TIME_SECTION(&quot;ScalarKernels&quot;, 3 /*, &quot;Computing ScalarKernels&quot;*/);

      MooseObjectWarehouse&lt;ScalarKernelBase&gt; * scalar_kernel_warehouse;
      // This code should be refactored once we can do tags for scalar
      // kernels
      // Should redo this based on Warehouse
      if (!tags.size() || tags.size() == _fe_problem.numVectorTags(Moose::VECTOR_TAG_RESIDUAL))
        scalar_kernel_warehouse = &amp;_scalar_kernels;
      else if (tags.size() == 1)
        scalar_kernel_warehouse =
            &amp;(_scalar_kernels.getVectorTagObjectWarehouse(*(tags.begin()), 0));
      else
        // scalar_kernels is not threading
        scalar_kernel_warehouse = &amp;(_scalar_kernels.getVectorTagsObjectWarehouse(tags, 0));

      bool have_scalar_contributions = false;
      const auto &amp; scalars = scalar_kernel_warehouse-&gt;getActiveObjects();
      for (const auto &amp; scalar_kernel : scalars)
      {
        scalar_kernel-&gt;reinit();
        const std::vector&lt;dof_id_type&gt; &amp; dof_indices = scalar_kernel-&gt;variable().dofIndices();
        const DofMap &amp; dof_map = scalar_kernel-&gt;variable().dofMap();
        const dof_id_type first_dof = dof_map.first_dof();
        const dof_id_type end_dof = dof_map.end_dof();
        for (dof_id_type dof : dof_indices)
        {
          if (dof &gt;= first_dof &amp;&amp; dof &lt; end_dof)
          {
            scalar_kernel-&gt;computeResidual();
            have_scalar_contributions = true;
            break;
          }
        }
      }
      if (have_scalar_contributions)
        _fe_problem.addResidualScalar();
    }
  }
  PARALLEL_CATCH;

  // residual contributions from Block NodalKernels
  PARALLEL_TRY
  {
    if (_nodal_kernels.hasActiveBlockObjects())
    {
      TIME_SECTION(&quot;NodalKernels&quot;, 3 /*, &quot;Computing NodalKernels&quot;*/);

      ComputeNodalKernelsThread cnk(_fe_problem, _nodal_kernels, tags);

      ConstNodeRange &amp; range = *_mesh.getLocalNodeRange();

      if (range.begin() != range.end())
      {
        _fe_problem.reinitNode(*range.begin(), 0);

        Threads::parallel_reduce(range, cnk);

        unsigned int n_threads = libMesh::n_threads();
        for (unsigned int i = 0; i &lt; n_threads;
             i++) // Add any cached residuals that might be hanging around
          _fe_problem.addCachedResidual(i);
      }
    }
  }
  PARALLEL_CATCH;

  if (_fe_problem.computingScalingResidual())
    // We computed the volumetric objects. We can return now before we get into
    // any strongly enforced constraint conditions or penalty-type objects
    // (DGKernels, IntegratedBCs, InterfaceKernels, Constraints)
    return;

  // residual contributions from boundary NodalKernels
  PARALLEL_TRY
  {
    if (_nodal_kernels.hasActiveBoundaryObjects())
    {
      TIME_SECTION(&quot;NodalKernelBCs&quot;, 3 /*, &quot;Computing NodalKernelBCs&quot;*/);

      ComputeNodalKernelBcsThread cnk(_fe_problem, _nodal_kernels, tags);

      ConstBndNodeRange &amp; bnd_node_range = *_mesh.getBoundaryNodeRange();

      Threads::parallel_reduce(bnd_node_range, cnk); // void parallel_reduce (const Range &amp; range, Body &amp; body)

      unsigned int n_threads = libMesh::n_threads();
      for (unsigned int i = 0; i &lt; n_threads;
           i++) // Add any cached residuals that might be hanging around
        _fe_problem.addCachedResidual(i);
    }
  }
  PARALLEL_CATCH;

  mortarConstraints(Moose::ComputeType::Residual);

  if (_need_residual_copy)
  {
    _Re_non_time-&gt;close();
    _Re_non_time-&gt;localize(_residual_copy);
  }

  if (_need_residual_ghosted)
  {
    _Re_non_time-&gt;close();
    *_residual_ghosted = *_Re_non_time;
    _residual_ghosted-&gt;close();
  }

  PARALLEL_TRY { computeDiracContributions(tags, false); }
  PARALLEL_CATCH;

  if (_fe_problem._has_constraints)
  {
    PARALLEL_TRY { enforceNodalConstraintsResidual(*_Re_non_time); }
    PARALLEL_CATCH;
    _Re_non_time-&gt;close();
  }

  // Add in Residual contributions from other Constraints
  if (_fe_problem._has_constraints)
  {
    PARALLEL_TRY
    {
      // Undisplaced Constraints
      constraintResiduals(*_Re_non_time, false);

      // Displaced Constraints
      if (_fe_problem.getDisplacedProblem())
        constraintResiduals(*_Re_non_time, true);

      if (_fe_problem.computingNonlinearResid())
        _constraints.residualEnd();
    }
    PARALLEL_CATCH;
    _Re_non_time-&gt;close();
  }
}
</code></pre>
<p>&#x5224;&#x65AD;&#x662F;&#x5426;&#x5E76;&#x884C;
void parallel_reduce (const Range &amp; range, Body &amp; body)</p>
<pre><code class="lang-cpp"><span class="hljs-comment">/**
 * Execute the provided reduction operation in parallel on the specified
 * range.
 */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Range, <span class="hljs-keyword">typename</span> Body&gt;
<span class="hljs-function"><span class="hljs-keyword">inline</span>
<span class="hljs-keyword">void</span> <span class="hljs-title">parallel_reduce</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> Range &amp; range, Body &amp; body)</span>
</span>{
  Threads::<span class="hljs-function">BoolAcquire <span class="hljs-title">b</span><span class="hljs-params">(Threads::in_threads)</span></span>;

  <span class="hljs-comment">// If we&apos;re running in serial - just run!</span>
  <span class="hljs-keyword">if</span> (libMesh::n_threads() == <span class="hljs-number">1</span>)
  {
    body(range); <span class="hljs-comment">// ThreadedElementLoopBase&lt;RangeType&gt;::operator()&#xFF0C;&#x904D;&#x5386;&#x6240;&#x6709;&#x5355;&#x5143;&#x7684;&#x6B8B;&#x5DEE;&#x3002;</span>
    <span class="hljs-keyword">return</span>;
  }

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> LIBMESH_ENABLE_PERFORMANCE_LOGGING</span>
  <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> logging_was_enabled = libMesh::perflog.logging_enabled();

  <span class="hljs-keyword">if</span> (libMesh::n_threads() &gt; <span class="hljs-number">1</span>)
    libMesh::perflog.disable_logging();
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> n_threads = num_pthreads(range);

  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;Range *&gt; ranges(n_threads);
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;Body *&gt; bodies(n_threads);
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;RangeBody&lt;Range, Body&gt;&gt; range_bodies(n_threads);

  <span class="hljs-comment">// Create copies of the body for each thread</span>
  bodies[<span class="hljs-number">0</span>] = &amp;body; <span class="hljs-comment">// Use the original body for the first one</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;n_threads; i++)
    bodies[i] = <span class="hljs-keyword">new</span> Body(body, Threads::split());

  <span class="hljs-comment">// Create the ranges for each thread</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> range_size = range.size() / n_threads;

  <span class="hljs-keyword">typename</span> Range::const_iterator current_beginning = range.begin();

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;n_threads; i++)
    {
      <span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> this_range_size = range_size;

      <span class="hljs-keyword">if</span> (i+<span class="hljs-number">1</span> == n_threads)
        this_range_size += range.size() % n_threads; <span class="hljs-comment">// Give the last one the remaining work to do</span>

      ranges[i] = <span class="hljs-keyword">new</span> Range(range, current_beginning, current_beginning + this_range_size);

      current_beginning = current_beginning + this_range_size;
    }

  <span class="hljs-comment">// Create the RangeBody arguments</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;n_threads; i++)
    {
      range_bodies[i].range = ranges[i];
      range_bodies[i].body = bodies[i];
    }

  <span class="hljs-comment">// Create the threads</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">pthread_t</span>&gt; threads(n_threads);

  <span class="hljs-comment">// It may seem redundant to wrap a pragma in #ifdefs... but GCC</span>
  <span class="hljs-comment">// warns about an &quot;unknown pragma&quot; if it encounters this line of</span>
  <span class="hljs-comment">// code when -fopenmp is not passed to the compiler.</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> LIBMESH_HAVE_OPENMP</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> omp parallel for schedule (static)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
  <span class="hljs-comment">// The use of &apos;int&apos; instead of unsigned for the iteration variable</span>
  <span class="hljs-comment">// is deliberate here.  This is an OpenMP loop, and some older</span>
  <span class="hljs-comment">// compilers warn when you don&apos;t use int for the loop index.  The</span>
  <span class="hljs-comment">// reason has to do with signed vs. unsigned integer overflow</span>
  <span class="hljs-comment">// behavior and optimization.</span>
  <span class="hljs-comment">// http://blog.llvm.org/2011/05/what-every-c-programmer-should-know.html</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">int</span>&gt;(n_threads); i++)
    {
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> !LIBMESH_HAVE_OPENMP</span>
      pthread_create(&amp;threads[i], <span class="hljs-literal">nullptr</span>, &amp;run_body&lt;Range, Body&gt;, (<span class="hljs-keyword">void</span> *)&amp;range_bodies[i]);
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
      run_body&lt;Range, Body&gt;((<span class="hljs-keyword">void</span> *)&amp;range_bodies[i]);
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
    }

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> !LIBMESH_HAVE_OPENMP</span>
  <span class="hljs-comment">// Wait for them to finish</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;n_threads; i++)
    pthread_join(threads[i], <span class="hljs-literal">nullptr</span>);
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

  <span class="hljs-comment">// Join them all down to the original Body</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> i=n_threads<span class="hljs-number">-1</span>; i != <span class="hljs-number">0</span>; i--)
    bodies[i<span class="hljs-number">-1</span>]-&gt;join(*bodies[i]);

  <span class="hljs-comment">// Clean up</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;n_threads; i++)
    <span class="hljs-keyword">delete</span> bodies[i];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;n_threads; i++)
    <span class="hljs-keyword">delete</span> ranges[i];

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> LIBMESH_ENABLE_PERFORMANCE_LOGGING</span>
  <span class="hljs-keyword">if</span> (libMesh::n_threads() &gt; <span class="hljs-number">1</span> &amp;&amp; logging_was_enabled)
    libMesh::perflog.enable_logging();
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
}
</code></pre>
<p>ThreadedElementLoopBase<rangetype>::operator()(const RangeType &amp; range, bool bypass_threading)</rangetype></p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> RangeType&gt;
<span class="hljs-keyword">void</span>
ThreadedElementLoopBase&lt;RangeType&gt;::<span class="hljs-keyword">operator</span>()(<span class="hljs-keyword">const</span> RangeType &amp; range, <span class="hljs-keyword">bool</span> bypass_threading)
{
  <span class="hljs-keyword">try</span>
  {
    <span class="hljs-keyword">try</span>
    {
      ParallelUniqueId puid;
      _tid = bypass_threading ? <span class="hljs-number">0</span> : puid.id;

      pre();

      _subdomain = Moose::INVALID_BLOCK_ID;
      _neighbor_subdomain = Moose::INVALID_BLOCK_ID;
      <span class="hljs-keyword">typename</span> RangeType::const_iterator el = range.begin();
      <span class="hljs-keyword">for</span> (el = range.begin(); el != range.end(); ++el)
      {
        <span class="hljs-keyword">if</span> (!keepGoing())
          <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">const</span> Elem * elem = *el;

        preElement(elem);

        _old_subdomain = _subdomain;
        _subdomain = elem-&gt;subdomain_id();
        <span class="hljs-keyword">if</span> (_subdomain != _old_subdomain)
          subdomainChanged();

        onElement(elem); <span class="hljs-comment">// NonlinearThread::onElement(const Elem * elem)</span>

        <span class="hljs-keyword">if</span> (elem-&gt;subdomain_id() == Moose::INTERNAL_SIDE_LOWERD_ID ||
            elem-&gt;subdomain_id() == Moose::BOUNDARY_SIDE_LOWERD_ID)
        {
          postElement(elem);
          <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> side = <span class="hljs-number">0</span>; side &lt; elem-&gt;n_sides(); side++)
        {
          <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;BoundaryID&gt; boundary_ids = _mesh.getBoundaryIDs(elem, side);
          <span class="hljs-keyword">const</span> Elem * lower_d_elem = _mesh.getLowerDElem(elem, side);

          <span class="hljs-keyword">if</span> (boundary_ids.size() &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;BoundaryID&gt;::iterator it = boundary_ids.begin();
                 it != boundary_ids.end();
                 ++it)
            {
              preBoundary(elem, side, *it, lower_d_elem);
              onBoundary(elem, side, *it, lower_d_elem);
            }

          <span class="hljs-keyword">const</span> Elem * neighbor = elem-&gt;neighbor_ptr(side);
          <span class="hljs-keyword">if</span> (neighbor)
          {
            preInternalSide(elem, side);

            _old_neighbor_subdomain = _neighbor_subdomain;
            _neighbor_subdomain = neighbor-&gt;subdomain_id();
            <span class="hljs-keyword">if</span> (_neighbor_subdomain != _old_neighbor_subdomain)
              neighborSubdomainChanged();

            <span class="hljs-keyword">if</span> (shouldComputeInternalSide(*elem, *neighbor))
              onInternalSide(elem, side);

            <span class="hljs-keyword">if</span> (boundary_ids.size() &gt; <span class="hljs-number">0</span>)
              <span class="hljs-keyword">for</span> (<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;BoundaryID&gt;::iterator it = boundary_ids.begin();
                   it != boundary_ids.end();
                   ++it)
                onInterface(elem, side, *it);

            postInternalSide(elem, side);
          }
        } <span class="hljs-comment">// sides</span>

        postElement(elem);
      } <span class="hljs-comment">// range</span>

      post();
    }
    <span class="hljs-keyword">catch</span> (libMesh::LogicError &amp; e)
    {
      <span class="hljs-keyword">throw</span> MooseException(<span class="hljs-string">&quot;We caught a libMesh error in ThreadedElementLoopBase&quot;</span>);
    }
    <span class="hljs-keyword">catch</span> (MetaPhysicL::LogicError &amp; e)
    {
      moose::translateMetaPhysicLError(e);
    }
  }
  <span class="hljs-keyword">catch</span> (MooseException &amp; e)
  {
    caughtMooseException(e);
  }
}
</code></pre>
<p>NonlinearThread::onElement(const Elem * elem)</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
NonlinearThread::onElement(<span class="hljs-keyword">const</span> Elem * elem)
{
  _fe_problem.prepare(elem, _tid);
  _fe_problem.reinitElem(elem, _tid);

  <span class="hljs-comment">// Set up Sentinel class so that, even if reinitMaterials() throws, we</span>
  <span class="hljs-comment">// still remember to swap back during stack unwinding.</span>
  <span class="hljs-function">SwapBackSentinel <span class="hljs-title">sentinel</span><span class="hljs-params">(_fe_problem, &amp;FEProblem::swapBackMaterials, _tid)</span></span>;

  _fe_problem.reinitMaterials(_subdomain, _tid);

  <span class="hljs-keyword">if</span> (_tag_kernels-&gt;hasActiveBlockObjects(_subdomain, _tid))
  {
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> &amp; kernels = _tag_kernels-&gt;getActiveBlockObjects(_subdomain, _tid);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> &amp; kernel : kernels)
      compute(*kernel); <span class="hljs-comment">// ComputeResidualThread::compute(ResidualObject &amp; ro)</span>
  }

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> kernel : _fv_kernels)
    compute(*kernel);
}
</code></pre>
<p>ComputeResidualThread::compute(ResidualObject &amp; ro)</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
ComputeResidualThread::compute(ResidualObject &amp; ro)
{
  ro.computeResidual(); <span class="hljs-comment">// Kernel::computeResidual()&#xFF0C;ro&#x5373;Residual Object</span>
}
</code></pre>
<p>Kernel::computeResidual()</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">void</span>
Kernel::computeResidual()
{
  prepareVectorTag(_assembly, _var.number());

  precalculateResidual();
  <span class="hljs-keyword">for</span> (_i = <span class="hljs-number">0</span>; _i &lt; _test.size(); _i++)
    <span class="hljs-keyword">for</span> (_qp = <span class="hljs-number">0</span>; _qp &lt; _qrule-&gt;n_points(); _qp++)
      _local_re(_i) += _JxW[_qp] * _coord[_qp] * computeQpResidual();
      <span class="hljs-comment">// &#x904D;&#x5386;&#x6240;&#x6709;&#x7684;&#x53D8;&#x91CF;&#x8BD5;&#x51FD;&#x6570;i&#x548C;&#x9AD8;&#x65AF;&#x6B63;&#x4EA4;&#x70B9;qp&#x3002;</span>
      <span class="hljs-comment">// &#x8C03;&#x7528;Diffusion::computeQpResidual()</span>
      <span class="hljs-comment">//  Jacobian weight (_JxW[_qp])</span>
      <span class="hljs-comment">// coordinate (_coord[_qp])&#x2014;&#x2014;&#x5E73;&#x65B9;&#x7684;&#x4E09;&#x500D;=1&#xFF1F;</span>
      <span class="hljs-comment">// gdb&#x53EF;&#x4EE5;&#x7528;p *_qrule&#x770B;&#x770B;, active quadrature rule, const QBase* const&amp; KernelBase::_qrule</span>


  accumulateTaggedLocalResidual();

  <span class="hljs-keyword">if</span> (_has_save_in)
  {
    Threads::spin_mutex::<span class="hljs-function">scoped_lock <span class="hljs-title">lock</span><span class="hljs-params">(Threads::spin_mtx)</span></span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> &amp; var : _save_in)
      var-&gt;sys().solution().add_vector(_local_re, var-&gt;dofIndices());
  }
}
</code></pre>
<p>Diffusion::computeQpResidual()</p>
<pre><code class="lang-cpp">
Real
Diffusion::computeQpResidual()
{
  <span class="hljs-keyword">return</span> _grad_u[_qp] * _grad_test[_i][_qp];
}
</code></pre>
<h1 id="&#x5176;&#x4ED6;"><a name="&#x5176;&#x4ED6;" class="anchor-navigation-ex-anchor" href="#&#x5176;&#x4ED6;"><i class="fa fa-link" aria-hidden="true"></i></a>8. &#x5176;&#x4ED6;</h1>
<h3 id="kernel&#x8C03;&#x7528;&#x7269;&#x6027;"><a name="kernel&#x8C03;&#x7528;&#x7269;&#x6027;" class="anchor-navigation-ex-anchor" href="#kernel&#x8C03;&#x7528;&#x7269;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>8.1.1. kernel&#x8C03;&#x7528;&#x7269;&#x6027;</h3>
<p>====================  &#x6750;&#x6599;&#x7269;&#x6027; &#x2192;  &#x7CFB;&#x7EDF;&#x6B8B;&#x5DEE;  ====================</p>
<p>ADFluidPropertiesMaterialPh::computeQpProperties (this=0x555555b4a910)
    at /home/lee/projects/moose/modules/fluid_properties/src/materials/ADFluidPropertiesMaterialPh.C:76</p>
<p>Material::computeProperties (this=0x555555b4a910)
at /home/lee/projects/moose/framework/src/materials/Material.C:131
131        for (_qp = 0; _qp &lt; _qrule-&gt;n_points(); ++_qp)</p>
<p>MaterialData::reinit<std::vector<std::shared_ptr<materialbase>, std::allocator<std::shared_ptr<materialbase> &gt; &gt; &gt; (this=0x555555a9f720,
    mats=std::vector of length 1, capacity 1 = {...})
at /home/lee/projects/moose/framework/build/header_symlinks/MaterialData.h:457
457      for (const auto &amp; mat : mats)</std::shared_ptr<materialbase></std::vector<std::shared_ptr<materialbase></p>
<p>FEProblemBase::reinitMaterials (this=0x555555a84660, blk_id=0, tid=0, swap_stateful=true) at /home/lee/projects/moose/framework/src/problems/FEProblemBase.C:3322
3322    }</p>
<p>NonlinearThread::onElement (this=0x7fffffffbb10, elem=0x555555a4fff0) at /home/lee/projects/moose/framework/src/loops/NonlinearThread.C:109
109      if (_tag_kernels-&gt;hasActiveBlockObjects(_subdomain, _tid))</p>
<p>====================  &#x6750;&#x6599;&#x7269;&#x6027; &#x2192;  &#x7CFB;&#x7EDF;&#x6B8B;&#x5DEE;  ====================</p>
<h3 id="auxkernel&#x8C03;&#x7528;&#x7269;&#x6027;&#xFF0C;densityaux"><a name="auxkernel&#x8C03;&#x7528;&#x7269;&#x6027;&#xFF0C;densityaux" class="anchor-navigation-ex-anchor" href="#auxkernel&#x8C03;&#x7528;&#x7269;&#x6027;&#xFF0C;densityaux"><i class="fa fa-link" aria-hidden="true"></i></a>8.1.2. auxkernel&#x8C03;&#x7528;&#x7269;&#x6027;&#xFF0C;densityaux</h3>
<p>====================  &#x6750;&#x6599;&#x7269;&#x6027; &#x2192;  &#x7CFB;&#x7EDF;&#x6B8B;&#x5DEE;  ====================</p>
<p>/home/lee/projects/moose/modules/fluid_properties/src/materials/ADFluidPropertiesMaterialPh.C:61
 ADFluidPropertiesMaterialPh::computeQpProperties()</p>
<p>/home/lee/projects/moose/framework/src/materials/Material.C:131
Material::subdomainSetup()
          computeQpProperties();</p>
<p>/home/lee/projects/moose/framework/build/header_symlinks/MaterialData.h:457
458        mat-&gt;computeProperties();</p>
<p>/home/lee/projects/moose/framework/src/problems/FEProblemBase.C:3322
FEProblemBase::reinitMaterials(SubdomainID blk_id, THREAD_ID tid, bool swap_stateful)</p>
<p>/home/lee/projects/moose/framework/src/loops/ComputeElemAuxVarsThread.C:114
ComputeElemAuxVarsThread<auxkerneltype>::onElement(const Elem * elem)</auxkerneltype></p>
<p>/home/lee/projects/moose/framework/src/systems/AuxiliarySystem.C:842
AuxiliarySystem::computeElementalVarsHelper
842          ComputeElemAuxVarsThread<auxkerneltype> eavt(_fe_problem, warehouse, vars, true);</auxkerneltype></p>
<p>/home/lee/projects/moose/framework/src/systems/AuxiliarySystem.C:768
AuxiliarySystem::computeElementalVars(ExecFlagType type)
768      TIME_SECTION(&quot;computeElementalVars&quot;, 3);</p>
<p>/home/lee/projects/moose/framework/src/systems/AuxiliarySystem.C:445
AuxiliarySystem::compute(ExecFlagType type)
445        computeElementalVars(type);</p>
<p>/home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5834
FEProblemBase::computeResidualTags(const std::set<tagid> &amp; tags)
5834        _aux-&gt;compute(EXEC_LINEAR);</tagid></p>
<p>/home/lee/projects/moose/framework/src/loops/NonlinearThread.C:109
NonlinearThread::onElement(const Elem * elem)
109      if (_tag_kernels-&gt;hasActiveBlockObjects(_subdomain, _tid))</p>
<p>/home/lee/projects/moose/framework/src/systems/NonlinearSystemBase.C:1522
NonlinearSystemBase::computeResidualInternal(const std::set<tagid> &amp; tags)
1522        if (_fe_problem.haveFV())</tagid></p>
<p>/home/lee/projects/moose/framework/src/systems/NonlinearSystemBase.C:744
NonlinearSystemBase::computeResidualTags(const std::set<tagid> &amp; tags)
744        closeTaggedVectors(tags);</tagid></p>
<p>/home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5861
FEProblemBase::computeResidualTags
5861      _safe_access_tagged_vectors = true;</p>
<p>/home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5699
FEProblemBase::computeResidualInternal
5699        _nl-&gt;disassociateVectorFromTag(residual, _nl-&gt;residualVectorTag());</p>
<p>/home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5487
FEProblemBase::computeResidual</p>
<p>/home/lee/projects/moose/framework/src/problems/FEProblemBase.C:5463
5463      ADReal::do_derivatives = true;
FEProblemBase::computeResidualSys</p>
<p>/home/lee/projects/moose/framework/src/systems/NonlinearSystem.C:146
146        _computing_initial_residual = false;
NonlinearSystem::solve</p>
<p>FEProblemSolve::solve (this=0x555555be3548) at /home/lee/projects/moose/framework/src/executioners/FEProblemSolve.C:262
262        if (_problem.shouldSolve())</p>
<p>FixedPointSolve::solveStep (this=0x5555555e43d0, begin_norm=@0x555556131f20: 0, end_norm=@0x555555edd2f0: 0, transformed_dofs=std::set with 0 elements)
    at /home/lee/projects/moose/framework/src/executioners/FixedPointSolve.C:393
393      if (!_inner_solve-&gt;solve())</p>
<p>FixedPointSolve::solve (this=0x5555555e43d0) at /home/lee/projects/moose/framework/src/executioners/FixedPointSolve.C:274
274        bool solve_converged = solveStep(_fixed_point_timestep_begin_norm[_fixed_point_it],</p>
<p>Steady::execute (this=0x555555be3250) at /home/lee/projects/moose/framework/src/executioners/Steady.C:85
85        _last_solve_converged = _fixed_point_solve-&gt;solve();</p>
<p>MooseApp::executeExecutioner (this=0x555555795930) at /home/lee/projects/moose/framework/src/base/MooseApp.C:1101
1101        _executioner-&gt;execute();</p>
<p>MooseApp::run (this=0x555555795930) at /home/lee/projects/moose/framework/src/base/MooseApp.C:1414
1414        TIME_SECTION(&quot;execute&quot;, 2, &quot;Executing&quot;);</p>
<p>main (argc=6, argv=0x7fffffffd8b8) at /home/lee/projects/momentum/src/main.C:35
35      return 0;</p>
</body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="9nuclear_english.html" class="navigation navigation-prev " aria-label="Previous page: 9nuclear_english">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="moose.html" class="navigation navigation-next " aria-label="Next page: moose">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"moose_analysis","level":"1.2.2","depth":2,"next":{"title":"moose","level":"1.2.3","depth":2,"path":"1study/moose.md","ref":"1study/moose.md","articles":[]},"previous":{"title":"9nuclear_english","level":"1.2.1","depth":2,"path":"1study/9nuclear_english.md","ref":"1study/9nuclear_english.md","articles":[]},"dir":"ltr"},"config":{"plugins":["favicon-absolute","katex","-lunr","-search","search-pro","splitter","page-treeview","edit-link","anchor-navigation-ex","expandable-chapters","copy-code-button"],"ignores":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"page-treeview":{"copyright":"Copyright &#169; aleen42","minHeaderCount":"2","minHeaderDeep":"2","collapsed":false},"splitter":{},"search-pro":{},"favicon-absolute":{"favicon":"/favicon.ico","appleTouchIconPrecomposed152":"/favicon.ico","appleTouchIconMore":{},"appleTouchIconPrecomposedMore":{}},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"showLevel":true,"associatedWithSummary":true,"mode":"float","showGoTop":true,"printLog":false,"multipleH1":true,"float":{"floatIcon":"fa fa-navicon","showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""},"pageTop":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""}},"copy-code-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"编辑此页面","base":"//github.com/leezw37/notebook/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"sortedBy":"-","disableTitleFormatting":true,"variables":{},"title":"lzw笔记","catalog":"all","gitbook":"*","unchanged":[],"outputfile":"SUMMARY.md"},"file":{"path":"1study/moose_analysis.md","mtime":"2023-06-25T10:24:31.054Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-10-08T06:52:20.672Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

